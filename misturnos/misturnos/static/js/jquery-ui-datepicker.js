



<!DOCTYPE html>
<html lang="en" class="">
  <head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# object: http://ogp.me/ns/object# article: http://ogp.me/ns/article# profile: http://ogp.me/ns/profile#">
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="Content-Language" content="en">
    <meta name="viewport" content="width=1020">
    
    
    <title>django-scheduler-sample/jquery-ui-datepicker.js at master · llazzaro/django-scheduler-sample · GitHub</title>
    <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="GitHub">
    <link rel="fluid-icon" href="https://github.com/fluidicon.png" title="GitHub">
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-114.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-144.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144.png">
    <meta property="fb:app_id" content="1401488693436528">

      <meta content="@github" name="twitter:site" /><meta content="summary" name="twitter:card" /><meta content="llazzaro/django-scheduler-sample" name="twitter:title" /><meta content="Contribute to django-scheduler-sample development by creating an account on GitHub." name="twitter:description" /><meta content="https://avatars3.githubusercontent.com/u/568181?v=3&amp;s=400" name="twitter:image:src" />
      <meta content="GitHub" property="og:site_name" /><meta content="object" property="og:type" /><meta content="https://avatars3.githubusercontent.com/u/568181?v=3&amp;s=400" property="og:image" /><meta content="llazzaro/django-scheduler-sample" property="og:title" /><meta content="https://github.com/llazzaro/django-scheduler-sample" property="og:url" /><meta content="Contribute to django-scheduler-sample development by creating an account on GitHub." property="og:description" />
      <meta name="browser-stats-url" content="https://api.github.com/_private/browser/stats">
    <meta name="browser-errors-url" content="https://api.github.com/_private/browser/errors">
    <link rel="assets" href="https://assets-cdn.github.com/">
    
    <meta name="pjax-timeout" content="1000">
    

    <meta name="msapplication-TileImage" content="/windows-tile.png">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="selected-link" value="repo_source" data-pjax-transient>

    <meta name="google-site-verification" content="KT5gs8h0wvaagLKAVWq8bbeNwnZZK1r1XQysX3xurLU">
    <meta name="google-analytics" content="UA-3769691-2">

<meta content="collector.githubapp.com" name="octolytics-host" /><meta content="github" name="octolytics-app-id" /><meta content="BA8991F2:448B:311F45D4:56802994" name="octolytics-dimension-request_id" />
<meta content="/&lt;user-name&gt;/&lt;repo-name&gt;/blob/show" data-pjax-transient="true" name="analytics-location" />
<meta content="Rails, view, blob#show" data-pjax-transient="true" name="analytics-event" />


  <meta class="js-ga-set" name="dimension1" content="Logged Out">



        <meta name="hostname" content="github.com">
    <meta name="user-login" content="">

        <meta name="expected-hostname" content="github.com">

      <link rel="mask-icon" href="https://assets-cdn.github.com/pinned-octocat.svg" color="#4078c0">
      <link rel="icon" type="image/x-icon" href="https://assets-cdn.github.com/favicon.ico">

    <meta content="4afc2d8fde623733737c6f4f82e1d8d187d488e0" name="form-nonce" />

    <link crossorigin="anonymous" href="https://assets-cdn.github.com/assets/github-16bf5399d85a6f926eb6af8f983ed5cf907e97b4da4a650dc11920d425826218.css" media="all" rel="stylesheet" />
    <link crossorigin="anonymous" href="https://assets-cdn.github.com/assets/github2-451ab63ad67fa9af580e5d9a3b2b7de911ce2e4b2437638f26fe8cb3879e67d8.css" media="all" rel="stylesheet" />
    
    


    <meta http-equiv="x-pjax-version" content="be269b1951a3572820c1f935e13a2f75">

      
  <meta name="description" content="Contribute to django-scheduler-sample development by creating an account on GitHub.">
  <meta name="go-import" content="github.com/llazzaro/django-scheduler-sample git https://github.com/llazzaro/django-scheduler-sample.git">

  <meta content="568181" name="octolytics-dimension-user_id" /><meta content="llazzaro" name="octolytics-dimension-user_login" /><meta content="19630850" name="octolytics-dimension-repository_id" /><meta content="llazzaro/django-scheduler-sample" name="octolytics-dimension-repository_nwo" /><meta content="true" name="octolytics-dimension-repository_public" /><meta content="false" name="octolytics-dimension-repository_is_fork" /><meta content="19630850" name="octolytics-dimension-repository_network_root_id" /><meta content="llazzaro/django-scheduler-sample" name="octolytics-dimension-repository_network_root_nwo" />
  <link href="https://github.com/llazzaro/django-scheduler-sample/commits/master.atom" rel="alternate" title="Recent Commits to django-scheduler-sample:master" type="application/atom+xml">

  </head>


  <body class="logged_out   env-production  vis-public page-blob">
    <a href="#start-of-content" tabindex="1" class="accessibility-aid js-skip-to-content">Skip to content</a>

    
    
    



      
      <div class="header header-logged-out" role="banner">
  <div class="container clearfix">

    <a class="header-logo-wordmark" href="https://github.com/" data-ga-click="(Logged out) Header, go to homepage, icon:logo-wordmark">
      <span class="mega-octicon octicon-logo-github"></span>
    </a>

    <div class="header-actions" role="navigation">
        <a class="btn btn-primary" href="/join" data-ga-click="(Logged out) Header, clicked Sign up, text:sign-up">Sign up</a>
      <a class="btn" href="/login?return_to=%2Fllazzaro%2Fdjango-scheduler-sample%2Fblob%2Fmaster%2Fproject_sample%2Fsite_media%2Fjs%2Fjquery-ui-datepicker.js" data-ga-click="(Logged out) Header, clicked Sign in, text:sign-in">Sign in</a>
    </div>

    <div class="site-search repo-scope js-site-search" role="search">
      <!-- </textarea> --><!-- '"` --><form accept-charset="UTF-8" action="/llazzaro/django-scheduler-sample/search" class="js-site-search-form" data-global-search-url="/search" data-repo-search-url="/llazzaro/django-scheduler-sample/search" method="get"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /></div>
  <label class="js-chromeless-input-container form-control">
    <div class="scope-badge">This repository</div>
    <input type="text"
      class="js-site-search-focus js-site-search-field is-clearable chromeless-input"
      data-hotkey="s"
      name="q"
      placeholder="Search"
      aria-label="Search this repository"
      data-global-scope-placeholder="Search GitHub"
      data-repo-scope-placeholder="Search"
      tabindex="1"
      autocapitalize="off">
  </label>
</form>
    </div>

      <ul class="header-nav left" role="navigation">
          <li class="header-nav-item">
            <a class="header-nav-link" href="/explore" data-ga-click="(Logged out) Header, go to explore, text:explore">Explore</a>
          </li>
          <li class="header-nav-item">
            <a class="header-nav-link" href="/features" data-ga-click="(Logged out) Header, go to features, text:features">Features</a>
          </li>
          <li class="header-nav-item">
            <a class="header-nav-link" href="https://enterprise.github.com/" data-ga-click="(Logged out) Header, go to enterprise, text:enterprise">Enterprise</a>
          </li>
          <li class="header-nav-item">
            <a class="header-nav-link" href="/pricing" data-ga-click="(Logged out) Header, go to pricing, text:pricing">Pricing</a>
          </li>
      </ul>

  </div>
</div>



    <div id="start-of-content" class="accessibility-aid"></div>

      <div id="js-flash-container">
</div>


    <div role="main" class="main-content">
        <div itemscope itemtype="http://schema.org/WebPage">
    <div id="js-repo-pjax-container" class="context-loader-container js-repo-nav-next" data-pjax-container>
      
<div class="pagehead repohead instapaper_ignore readability-menu experiment-repo-nav">
  <div class="container repohead-details-container">

    

<ul class="pagehead-actions">

  <li>
      <a href="/login?return_to=%2Fllazzaro%2Fdjango-scheduler-sample"
    class="btn btn-sm btn-with-count tooltipped tooltipped-n"
    aria-label="You must be signed in to watch a repository" rel="nofollow">
    <span class="octicon octicon-eye"></span>
    Watch
  </a>
  <a class="social-count" href="/llazzaro/django-scheduler-sample/watchers">
    2
  </a>

  </li>

  <li>
      <a href="/login?return_to=%2Fllazzaro%2Fdjango-scheduler-sample"
    class="btn btn-sm btn-with-count tooltipped tooltipped-n"
    aria-label="You must be signed in to star a repository" rel="nofollow">
    <span class="octicon octicon-star "></span>
    Star
  </a>

    <a class="social-count js-social-count" href="/llazzaro/django-scheduler-sample/stargazers">
      11
    </a>

  </li>

  <li>
      <a href="/login?return_to=%2Fllazzaro%2Fdjango-scheduler-sample"
        class="btn btn-sm btn-with-count tooltipped tooltipped-n"
        aria-label="You must be signed in to fork a repository" rel="nofollow">
        <span class="octicon octicon-repo-forked "></span>
        Fork
      </a>

    <a href="/llazzaro/django-scheduler-sample/network" class="social-count">
      11
    </a>
  </li>
</ul>

    <h1 itemscope itemtype="http://data-vocabulary.org/Breadcrumb" class="entry-title public ">
  <span class="octicon octicon-repo "></span>
  <span class="author"><a href="/llazzaro" class="url fn" itemprop="url" rel="author"><span itemprop="title">llazzaro</span></a></span><!--
--><span class="path-divider">/</span><!--
--><strong><a href="/llazzaro/django-scheduler-sample" data-pjax="#js-repo-pjax-container">django-scheduler-sample</a></strong>

  <span class="page-context-loader">
    <img alt="" height="16" src="https://assets-cdn.github.com/images/spinners/octocat-spinner-32.gif" width="16" />
  </span>

</h1>

  </div>
  <div class="container">
    
<nav class="reponav js-repo-nav js-sidenav-container-pjax js-octicon-loaders"
     role="navigation"
     data-pjax="#js-repo-pjax-container">

  <a href="/llazzaro/django-scheduler-sample" aria-label="Code" aria-selected="true" class="js-selected-navigation-item selected reponav-item" data-hotkey="g c" data-selected-links="repo_source repo_downloads repo_commits repo_releases repo_tags repo_branches /llazzaro/django-scheduler-sample">
    <span class="octicon octicon-code "></span>
    Code
</a>
    <a href="/llazzaro/django-scheduler-sample/issues" class="js-selected-navigation-item reponav-item" data-hotkey="g i" data-selected-links="repo_issues repo_labels repo_milestones /llazzaro/django-scheduler-sample/issues">
      <span class="octicon octicon-issue-opened "></span>
      Issues
      <span class="counter">3</span>
</a>
  <a href="/llazzaro/django-scheduler-sample/pulls" class="js-selected-navigation-item reponav-item" data-hotkey="g p" data-selected-links="repo_pulls /llazzaro/django-scheduler-sample/pulls">
    <span class="octicon octicon-git-pull-request "></span>
    Pull requests
    <span class="counter">0</span>
</a>

  <a href="/llazzaro/django-scheduler-sample/pulse" class="js-selected-navigation-item reponav-item" data-selected-links="pulse /llazzaro/django-scheduler-sample/pulse">
    <span class="octicon octicon-pulse "></span>
    Pulse
</a>
  <a href="/llazzaro/django-scheduler-sample/graphs" class="js-selected-navigation-item reponav-item" data-selected-links="repo_graphs repo_contributors /llazzaro/django-scheduler-sample/graphs">
    <span class="octicon octicon-graph "></span>
    Graphs
</a>

</nav>

  </div>
</div>

<div class="container new-discussion-timeline experiment-repo-nav">
  <div class="repository-content">

    

<a href="/llazzaro/django-scheduler-sample/blob/6d5a747d9e56a004d9af20bc6c9b11d2fa4b21f7/project_sample/site_media/js/jquery-ui-datepicker.js" class="hidden js-permalink-shortcut" data-hotkey="y">Permalink</a>

<!-- blob contrib key: blob_contributors:v21:3fcf7d7274391f9f3e08c30eda9064e1 -->

<div class="file-navigation js-zeroclipboard-container">
  
<div class="select-menu js-menu-container js-select-menu left">
  <button class="btn btn-sm select-menu-button js-menu-target css-truncate" data-hotkey="w"
    title="master"
    type="button" aria-label="Switch branches or tags" tabindex="0" aria-haspopup="true">
    <i>Branch:</i>
    <span class="js-select-button css-truncate-target">master</span>
  </button>

  <div class="select-menu-modal-holder js-menu-content js-navigation-container" data-pjax aria-hidden="true">

    <div class="select-menu-modal">
      <div class="select-menu-header">
        <span aria-label="Close" class="octicon octicon-x js-menu-close" role="button"></span>
        <span class="select-menu-title">Switch branches/tags</span>
      </div>

      <div class="select-menu-filters">
        <div class="select-menu-text-filter">
          <input type="text" aria-label="Filter branches/tags" id="context-commitish-filter-field" class="js-filterable-field js-navigation-enable" placeholder="Filter branches/tags">
        </div>
        <div class="select-menu-tabs">
          <ul>
            <li class="select-menu-tab">
              <a href="#" data-tab-filter="branches" data-filter-placeholder="Filter branches/tags" class="js-select-menu-tab" role="tab">Branches</a>
            </li>
            <li class="select-menu-tab">
              <a href="#" data-tab-filter="tags" data-filter-placeholder="Find a tag…" class="js-select-menu-tab" role="tab">Tags</a>
            </li>
          </ul>
        </div>
      </div>

      <div class="select-menu-list select-menu-tab-bucket js-select-menu-tab-bucket" data-tab-filter="branches" role="menu">

        <div data-filterable-for="context-commitish-filter-field" data-filterable-type="substring">


            <a class="select-menu-item js-navigation-item js-navigation-open selected"
               href="/llazzaro/django-scheduler-sample/blob/master/project_sample/site_media/js/jquery-ui-datepicker.js"
               data-name="master"
               data-skip-pjax="true"
               rel="nofollow">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <span class="select-menu-item-text css-truncate-target" title="master">
                master
              </span>
            </a>
        </div>

          <div class="select-menu-no-results">Nothing to show</div>
      </div>

      <div class="select-menu-list select-menu-tab-bucket js-select-menu-tab-bucket" data-tab-filter="tags">
        <div data-filterable-for="context-commitish-filter-field" data-filterable-type="substring">


        </div>

        <div class="select-menu-no-results">Nothing to show</div>
      </div>

    </div>
  </div>
</div>

  <div class="btn-group right">
    <a href="/llazzaro/django-scheduler-sample/find/master"
          class="js-show-file-finder btn btn-sm"
          data-pjax
          data-hotkey="t">
      Find file
    </a>
    <button aria-label="Copy file path to clipboard" class="js-zeroclipboard btn btn-sm zeroclipboard-button tooltipped tooltipped-s" data-copied-hint="Copied!" type="button">Copy path</button>
  </div>
  <div class="breadcrumb js-zeroclipboard-target">
    <span class="repo-root js-repo-root"><span itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb"><a href="/llazzaro/django-scheduler-sample" class="" data-branch="master" data-pjax="true" itemscope="url"><span itemprop="title">django-scheduler-sample</span></a></span></span><span class="separator">/</span><span itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb"><a href="/llazzaro/django-scheduler-sample/tree/master/project_sample" class="" data-branch="master" data-pjax="true" itemscope="url"><span itemprop="title">project_sample</span></a></span><span class="separator">/</span><span itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb"><a href="/llazzaro/django-scheduler-sample/tree/master/project_sample/site_media" class="" data-branch="master" data-pjax="true" itemscope="url"><span itemprop="title">site_media</span></a></span><span class="separator">/</span><span itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb"><a href="/llazzaro/django-scheduler-sample/tree/master/project_sample/site_media/js" class="" data-branch="master" data-pjax="true" itemscope="url"><span itemprop="title">js</span></a></span><span class="separator">/</span><strong class="final-path">jquery-ui-datepicker.js</strong>
  </div>
</div>

<include-fragment class="commit-tease" src="/llazzaro/django-scheduler-sample/contributors/master/project_sample/site_media/js/jquery-ui-datepicker.js">
  <div>
    Fetching contributors&hellip;
  </div>

  <div class="commit-tease-contributors">
    <img alt="" class="loader-loading left" height="16" src="https://assets-cdn.github.com/images/spinners/octocat-spinner-32-EAF2F5.gif" width="16" />
    <span class="loader-error">Cannot retrieve contributors at this time</span>
  </div>
</include-fragment>
<div class="file">
  <div class="file-header">
  <div class="file-actions">

    <div class="btn-group">
      <a href="/llazzaro/django-scheduler-sample/raw/master/project_sample/site_media/js/jquery-ui-datepicker.js" class="btn btn-sm " id="raw-url">Raw</a>
        <a href="/llazzaro/django-scheduler-sample/blame/master/project_sample/site_media/js/jquery-ui-datepicker.js" class="btn btn-sm js-update-url-with-hash">Blame</a>
      <a href="/llazzaro/django-scheduler-sample/commits/master/project_sample/site_media/js/jquery-ui-datepicker.js" class="btn btn-sm " rel="nofollow">History</a>
    </div>


        <button type="button" class="octicon-btn disabled tooltipped tooltipped-nw"
          aria-label="You must be signed in to make or propose changes">
          <span class="octicon octicon-pencil "></span>
        </button>
        <button type="button" class="octicon-btn octicon-btn-danger disabled tooltipped tooltipped-nw"
          aria-label="You must be signed in to make or propose changes">
          <span class="octicon octicon-trashcan "></span>
        </button>
  </div>

  <div class="file-info">
      287 lines (287 sloc)
      <span class="file-info-divider"></span>
    66.2 KB
  </div>
</div>

  

  <div class="blob-wrapper data type-javascript">
      <table class="highlight tab-size js-file-line-container" data-tab-size="8">
      <tr>
        <td id="L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="LC1" class="blob-code blob-code-inner js-file-line">;(<span class="pl-k">function</span>(<span class="pl-smi">$</span>){<span class="pl-k">var</span> _remove<span class="pl-k">=</span><span class="pl-smi">$</span>.<span class="pl-smi">fn</span>.<span class="pl-smi">remove</span>;<span class="pl-c1">$.fn</span>.<span class="pl-en">remove</span><span class="pl-k">=</span><span class="pl-k">function</span>(){<span class="pl-en">$</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>*<span class="pl-pds">&quot;</span></span>,<span class="pl-v">this</span>).<span class="pl-c1">add</span>(<span class="pl-v">this</span>).<span class="pl-en">triggerHandler</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>remove<span class="pl-pds">&quot;</span></span>);<span class="pl-k">return</span> <span class="pl-smi">_remove</span>.<span class="pl-c1">apply</span>(<span class="pl-v">this</span>,arguments);};<span class="pl-k">function</span> <span class="pl-en">isVisible</span>(<span class="pl-smi">element</span>){<span class="pl-k">function</span> <span class="pl-en">checkStyles</span>(<span class="pl-smi">element</span>){<span class="pl-k">var</span> style<span class="pl-k">=</span><span class="pl-smi">element</span>.<span class="pl-c1">style</span>;<span class="pl-k">return</span>(<span class="pl-smi">style</span>.<span class="pl-c1">display</span><span class="pl-k">!=</span><span class="pl-s"><span class="pl-pds">&#39;</span>none<span class="pl-pds">&#39;</span></span><span class="pl-k">&amp;&amp;</span><span class="pl-smi">style</span>.<span class="pl-smi">visibility</span><span class="pl-k">!=</span><span class="pl-s"><span class="pl-pds">&#39;</span>hidden<span class="pl-pds">&#39;</span></span>);}</td>
      </tr>
      <tr>
        <td id="L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="LC2" class="blob-code blob-code-inner js-file-line"><span class="pl-k">var</span> visible<span class="pl-k">=</span><span class="pl-en">checkStyles</span>(element);(visible<span class="pl-k">&amp;&amp;</span><span class="pl-smi">$</span>.<span class="pl-en">each</span>(<span class="pl-smi">$</span>.<span class="pl-c1">dir</span>(element,<span class="pl-s"><span class="pl-pds">&#39;</span>parentNode<span class="pl-pds">&#39;</span></span>),<span class="pl-k">function</span>(){<span class="pl-k">return</span>(visible<span class="pl-k">=</span><span class="pl-en">checkStyles</span>(<span class="pl-v">this</span>));}));<span class="pl-k">return</span> visible;}</td>
      </tr>
      <tr>
        <td id="L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="LC3" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">$</span>.<span class="pl-en">extend</span>(<span class="pl-smi">$</span>.<span class="pl-smi">expr</span>[<span class="pl-s"><span class="pl-pds">&#39;</span>:<span class="pl-pds">&#39;</span></span>],{<span class="pl-en">data</span><span class="pl-k">:</span><span class="pl-k">function</span>(<span class="pl-smi">a</span>,<span class="pl-smi">i</span>,<span class="pl-smi">m</span>){<span class="pl-k">return</span> <span class="pl-smi">$</span>.<span class="pl-c1">data</span>(a,m[<span class="pl-c1">3</span>]);},<span class="pl-en">tabbable</span><span class="pl-k">:</span><span class="pl-k">function</span>(<span class="pl-smi">a</span>,<span class="pl-smi">i</span>,<span class="pl-smi">m</span>){<span class="pl-k">var</span> nodeName<span class="pl-k">=</span><span class="pl-smi">a</span>.<span class="pl-c1">nodeName</span>.<span class="pl-c1">toLowerCase</span>();<span class="pl-k">return</span>(<span class="pl-smi">a</span>.<span class="pl-smi">tabIndex</span><span class="pl-k">&gt;=</span><span class="pl-c1">0</span><span class="pl-k">&amp;&amp;</span>((<span class="pl-s"><span class="pl-pds">&#39;</span>a<span class="pl-pds">&#39;</span></span><span class="pl-k">==</span>nodeName<span class="pl-k">&amp;&amp;</span><span class="pl-smi">a</span>.<span class="pl-c1">href</span>)<span class="pl-k">||</span>(<span class="pl-sr"><span class="pl-pds">/</span>input<span class="pl-k">|</span>select<span class="pl-k">|</span>textarea<span class="pl-k">|</span>button<span class="pl-pds">/</span></span>.<span class="pl-c1">test</span>(nodeName)<span class="pl-k">&amp;&amp;</span><span class="pl-s"><span class="pl-pds">&#39;</span>hidden<span class="pl-pds">&#39;</span></span><span class="pl-k">!=</span><span class="pl-smi">a</span>.<span class="pl-c1">type</span><span class="pl-k">&amp;&amp;!</span><span class="pl-smi">a</span>.<span class="pl-c1">disabled</span>))<span class="pl-k">&amp;&amp;</span><span class="pl-en">isVisible</span>(a));}});<span class="pl-smi">$</span>.<span class="pl-smi">keyCode</span><span class="pl-k">=</span>{BACKSPACE<span class="pl-k">:</span><span class="pl-c1">8</span>,CAPS_LOCK<span class="pl-k">:</span><span class="pl-c1">20</span>,COMMA<span class="pl-k">:</span><span class="pl-c1">188</span>,CONTROL<span class="pl-k">:</span><span class="pl-c1">17</span>,DELETE<span class="pl-k">:</span><span class="pl-c1">46</span>,DOWN<span class="pl-k">:</span><span class="pl-c1">40</span>,END<span class="pl-k">:</span><span class="pl-c1">35</span>,ENTER<span class="pl-k">:</span><span class="pl-c1">13</span>,ESCAPE<span class="pl-k">:</span><span class="pl-c1">27</span>,HOME<span class="pl-k">:</span><span class="pl-c1">36</span>,INSERT<span class="pl-k">:</span><span class="pl-c1">45</span>,LEFT<span class="pl-k">:</span><span class="pl-c1">37</span>,NUMPAD_ADD<span class="pl-k">:</span><span class="pl-c1">107</span>,NUMPAD_DECIMAL<span class="pl-k">:</span><span class="pl-c1">110</span>,NUMPAD_DIVIDE<span class="pl-k">:</span><span class="pl-c1">111</span>,NUMPAD_ENTER<span class="pl-k">:</span><span class="pl-c1">108</span>,NUMPAD_MULTIPLY<span class="pl-k">:</span><span class="pl-c1">106</span>,NUMPAD_SUBTRACT<span class="pl-k">:</span><span class="pl-c1">109</span>,PAGE_DOWN<span class="pl-k">:</span><span class="pl-c1">34</span>,PAGE_UP<span class="pl-k">:</span><span class="pl-c1">33</span>,PERIOD<span class="pl-k">:</span><span class="pl-c1">190</span>,RIGHT<span class="pl-k">:</span><span class="pl-c1">39</span>,SHIFT<span class="pl-k">:</span><span class="pl-c1">16</span>,SPACE<span class="pl-k">:</span><span class="pl-c1">32</span>,TAB<span class="pl-k">:</span><span class="pl-c1">9</span>,UP<span class="pl-k">:</span><span class="pl-c1">38</span>};<span class="pl-k">function</span> <span class="pl-en">getter</span>(<span class="pl-smi">namespace</span>,<span class="pl-smi">plugin</span>,<span class="pl-smi">method</span>,<span class="pl-smi">args</span>){<span class="pl-k">function</span> <span class="pl-en">getMethods</span>(<span class="pl-smi">type</span>){<span class="pl-k">var</span> methods<span class="pl-k">=</span>$[namespace][plugin][type]<span class="pl-k">||</span>[];<span class="pl-k">return</span>(<span class="pl-k">typeof</span> methods<span class="pl-k">==</span><span class="pl-s"><span class="pl-pds">&#39;</span>string<span class="pl-pds">&#39;</span></span><span class="pl-k">?</span><span class="pl-smi">methods</span>.<span class="pl-c1">split</span>(<span class="pl-sr"><span class="pl-pds">/</span>,<span class="pl-k">?</span><span class="pl-c1">\s</span><span class="pl-k">+</span><span class="pl-pds">/</span></span>)<span class="pl-k">:</span>methods);}</td>
      </tr>
      <tr>
        <td id="L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="LC4" class="blob-code blob-code-inner js-file-line"><span class="pl-k">var</span> methods<span class="pl-k">=</span><span class="pl-en">getMethods</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>getter<span class="pl-pds">&#39;</span></span>);<span class="pl-k">if</span>(<span class="pl-smi">args</span>.<span class="pl-c1">length</span><span class="pl-k">==</span><span class="pl-c1">1</span><span class="pl-k">&amp;&amp;</span><span class="pl-k">typeof</span> args[<span class="pl-c1">0</span>]<span class="pl-k">==</span><span class="pl-s"><span class="pl-pds">&#39;</span>string<span class="pl-pds">&#39;</span></span>){methods<span class="pl-k">=</span><span class="pl-smi">methods</span>.<span class="pl-c1">concat</span>(<span class="pl-en">getMethods</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>getterSetter<span class="pl-pds">&#39;</span></span>));}</td>
      </tr>
      <tr>
        <td id="L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="LC5" class="blob-code blob-code-inner js-file-line"><span class="pl-k">return</span>(<span class="pl-smi">$</span>.<span class="pl-en">inArray</span>(method,methods)<span class="pl-k">!=</span><span class="pl-k">-</span><span class="pl-c1">1</span>);}</td>
      </tr>
      <tr>
        <td id="L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="LC6" class="blob-code blob-code-inner js-file-line"><span class="pl-c1">$</span>.<span class="pl-en">widget</span><span class="pl-k">=</span><span class="pl-k">function</span>(<span class="pl-smi">name</span>,<span class="pl-smi">prototype</span>){<span class="pl-k">var</span> namespace<span class="pl-k">=</span><span class="pl-smi">name</span>.<span class="pl-c1">split</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>.<span class="pl-pds">&quot;</span></span>)[<span class="pl-c1">0</span>];name<span class="pl-k">=</span><span class="pl-smi">name</span>.<span class="pl-c1">split</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>.<span class="pl-pds">&quot;</span></span>)[<span class="pl-c1">1</span>];<span class="pl-smi">$</span>.<span class="pl-smi">fn</span>[name]<span class="pl-k">=</span><span class="pl-k">function</span>(<span class="pl-smi">options</span>){<span class="pl-k">var</span> isMethodCall<span class="pl-k">=</span>(<span class="pl-k">typeof</span> options<span class="pl-k">==</span><span class="pl-s"><span class="pl-pds">&#39;</span>string<span class="pl-pds">&#39;</span></span>),args<span class="pl-k">=</span><span class="pl-smi">Array</span>.<span class="pl-c1">prototype</span>.<span class="pl-smi">slice</span>.<span class="pl-c1">call</span>(arguments,<span class="pl-c1">1</span>);<span class="pl-k">if</span>(isMethodCall<span class="pl-k">&amp;&amp;</span><span class="pl-smi">options</span>.<span class="pl-c1">substring</span>(<span class="pl-c1">0</span>,<span class="pl-c1">1</span>)<span class="pl-k">==</span><span class="pl-s"><span class="pl-pds">&#39;</span>_<span class="pl-pds">&#39;</span></span>){<span class="pl-k">return</span> <span class="pl-v">this</span>;}</td>
      </tr>
      <tr>
        <td id="L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="LC7" class="blob-code blob-code-inner js-file-line"><span class="pl-k">if</span>(isMethodCall<span class="pl-k">&amp;&amp;</span><span class="pl-en">getter</span>(namespace,name,options,args)){<span class="pl-k">var</span> instance<span class="pl-k">=</span><span class="pl-smi">$</span>.<span class="pl-c1">data</span>(<span class="pl-v">this</span>[<span class="pl-c1">0</span>],name);<span class="pl-k">return</span>(instance<span class="pl-k">?</span>instance[options].<span class="pl-c1">apply</span>(instance,args)<span class="pl-k">:</span><span class="pl-c1">undefined</span>);}</td>
      </tr>
      <tr>
        <td id="L8" class="blob-num js-line-number" data-line-number="8"></td>
        <td id="LC8" class="blob-code blob-code-inner js-file-line">return this.each(function(){var instance=$.data(this,name);(!instance&amp;&amp;!isMethodCall&amp;&amp;$.data(this,name,new $[namespace][name](this,options)));(instance&amp;&amp;isMethodCall&amp;&amp;$.isFunction(instance[options])&amp;&amp;instance[options].apply(instance,args));});};$[namespace][name]=function(element,options){var self=this;this.widgetName=name;this.widgetEventPrefix=$[namespace][name].eventPrefix||name;this.widgetBaseClass=namespace+&#39;-&#39;+name;this.options=$.extend({},$.widget.defaults,$[namespace][name].defaults,$.metadata&amp;&amp;$.metadata.get(element)[name],options);this.element=$(element).bind(&#39;setData.&#39;+name,function(e,key,value){return self._setData(key,value);}).bind(&#39;getData.&#39;+name,function(e,key){return self._getData(key);}).bind(&#39;remove&#39;,function(){return self.destroy();});this._init();};$[namespace][name].prototype=$.extend({},$.widget.prototype,prototype);$[namespace][name].getterSetter=&#39;option&#39;;};$.widget.prototype={_init:function(){},destroy:function(){this.element.removeData(this.widgetName);},option:function(key,value){var options=key,self=this;if(typeof key==&quot;string&quot;){if(value===undefined){return this._getData(key);}</td>
      </tr>
      <tr>
        <td id="L9" class="blob-num js-line-number" data-line-number="9"></td>
        <td id="LC9" class="blob-code blob-code-inner js-file-line">options<span class="pl-k">=</span>{};options[key]<span class="pl-k">=</span>value;}</td>
      </tr>
      <tr>
        <td id="L10" class="blob-num js-line-number" data-line-number="10"></td>
        <td id="LC10" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">$</span>.<span class="pl-en">each</span>(options,<span class="pl-k">function</span>(<span class="pl-smi">key</span>,<span class="pl-smi">value</span>){<span class="pl-smi">self</span>.<span class="pl-en">_setData</span>(key,value);});},<span class="pl-en">_getData</span><span class="pl-k">:</span><span class="pl-k">function</span>(<span class="pl-smi">key</span>){<span class="pl-k">return</span> <span class="pl-v">this</span>.<span class="pl-c1">options</span>[key];},<span class="pl-en">_setData</span><span class="pl-k">:</span><span class="pl-k">function</span>(<span class="pl-smi">key</span>,<span class="pl-smi">value</span>){<span class="pl-v">this</span>.<span class="pl-c1">options</span>[key]<span class="pl-k">=</span>value;<span class="pl-k">if</span>(key<span class="pl-k">==</span><span class="pl-s"><span class="pl-pds">&#39;</span>disabled<span class="pl-pds">&#39;</span></span>){<span class="pl-v">this</span>.<span class="pl-smi">element</span>[value<span class="pl-k">?</span><span class="pl-s"><span class="pl-pds">&#39;</span>addClass<span class="pl-pds">&#39;</span></span><span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span>removeClass<span class="pl-pds">&#39;</span></span>](<span class="pl-v">this</span>.<span class="pl-smi">widgetBaseClass</span><span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>-disabled<span class="pl-pds">&#39;</span></span>);}},<span class="pl-en">enable</span><span class="pl-k">:</span><span class="pl-k">function</span>(){<span class="pl-v">this</span>.<span class="pl-en">_setData</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>disabled<span class="pl-pds">&#39;</span></span>,<span class="pl-c1">false</span>);},<span class="pl-en">disable</span><span class="pl-k">:</span><span class="pl-k">function</span>(){<span class="pl-v">this</span>.<span class="pl-en">_setData</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>disabled<span class="pl-pds">&#39;</span></span>,<span class="pl-c1">true</span>);},<span class="pl-en">_trigger</span><span class="pl-k">:</span><span class="pl-k">function</span>(<span class="pl-smi">type</span>,<span class="pl-smi">e</span>,<span class="pl-smi">data</span>){<span class="pl-k">var</span> eventName<span class="pl-k">=</span>(type<span class="pl-k">==</span><span class="pl-v">this</span>.<span class="pl-smi">widgetEventPrefix</span><span class="pl-k">?</span>type<span class="pl-k">:</span><span class="pl-v">this</span>.<span class="pl-smi">widgetEventPrefix</span><span class="pl-k">+</span>type);e<span class="pl-k">=</span>e<span class="pl-k">||</span><span class="pl-smi">$</span>.<span class="pl-c1">event</span>.<span class="pl-en">fix</span>({type<span class="pl-k">:</span>eventName,target<span class="pl-k">:</span><span class="pl-v">this</span>.<span class="pl-smi">element</span>[<span class="pl-c1">0</span>]});<span class="pl-k">return</span> <span class="pl-v">this</span>.<span class="pl-smi">element</span>.<span class="pl-en">triggerHandler</span>(eventName,[e,data],<span class="pl-v">this</span>.<span class="pl-c1">options</span>[type]);}};<span class="pl-smi">$</span>.<span class="pl-smi">widget</span>.<span class="pl-smi">defaults</span><span class="pl-k">=</span>{disabled<span class="pl-k">:</span><span class="pl-c1">false</span>};<span class="pl-smi">$</span>.<span class="pl-smi">ui</span><span class="pl-k">=</span>{plugin<span class="pl-k">:</span>{<span class="pl-en">add</span><span class="pl-k">:</span><span class="pl-k">function</span>(<span class="pl-smi">module</span>,<span class="pl-smi">option</span>,<span class="pl-smi">set</span>){<span class="pl-k">var</span> proto<span class="pl-k">=</span><span class="pl-smi">$</span>.<span class="pl-smi">ui</span>[<span class="pl-c1">module</span>].<span class="pl-c1">prototype</span>;<span class="pl-k">for</span>(<span class="pl-k">var</span> i <span class="pl-k">in</span> set){<span class="pl-smi">proto</span>.<span class="pl-c1">plugins</span>[i]<span class="pl-k">=</span><span class="pl-smi">proto</span>.<span class="pl-c1">plugins</span>[i]<span class="pl-k">||</span>[];<span class="pl-smi">proto</span>.<span class="pl-c1">plugins</span>[i].<span class="pl-c1">push</span>([option,set[i]]);}},<span class="pl-en">call</span><span class="pl-k">:</span><span class="pl-k">function</span>(<span class="pl-smi">instance</span>,<span class="pl-smi">name</span>,<span class="pl-smi">args</span>){<span class="pl-k">var</span> set<span class="pl-k">=</span><span class="pl-smi">instance</span>.<span class="pl-c1">plugins</span>[name];<span class="pl-k">if</span>(<span class="pl-k">!</span>set){<span class="pl-k">return</span>;}</td>
      </tr>
      <tr>
        <td id="L11" class="blob-num js-line-number" data-line-number="11"></td>
        <td id="LC11" class="blob-code blob-code-inner js-file-line"><span class="pl-k">for</span>(<span class="pl-k">var</span> i<span class="pl-k">=</span><span class="pl-c1">0</span>;i<span class="pl-k">&lt;</span><span class="pl-smi">set</span>.<span class="pl-c1">length</span>;i<span class="pl-k">++</span>){<span class="pl-k">if</span>(<span class="pl-smi">instance</span>.<span class="pl-c1">options</span>[set[i][<span class="pl-c1">0</span>]]){set[i][<span class="pl-c1">1</span>].<span class="pl-c1">apply</span>(<span class="pl-smi">instance</span>.<span class="pl-smi">element</span>,args);}}}},cssCache<span class="pl-k">:</span>{},<span class="pl-en">css</span><span class="pl-k">:</span><span class="pl-k">function</span>(<span class="pl-smi">name</span>){<span class="pl-k">if</span>(<span class="pl-smi">$</span>.<span class="pl-smi">ui</span>.<span class="pl-smi">cssCache</span>[name]){<span class="pl-k">return</span> <span class="pl-smi">$</span>.<span class="pl-smi">ui</span>.<span class="pl-smi">cssCache</span>[name];}</td>
      </tr>
      <tr>
        <td id="L12" class="blob-num js-line-number" data-line-number="12"></td>
        <td id="LC12" class="blob-code blob-code-inner js-file-line"><span class="pl-k">var</span> tmp<span class="pl-k">=</span><span class="pl-en">$</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>&lt;div class=&quot;ui-gen&quot;&gt;<span class="pl-pds">&#39;</span></span>).<span class="pl-en">addClass</span>(name).<span class="pl-en">css</span>({position<span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span>absolute<span class="pl-pds">&#39;</span></span>,top<span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span>-5000px<span class="pl-pds">&#39;</span></span>,left<span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span>-5000px<span class="pl-pds">&#39;</span></span>,display<span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span>block<span class="pl-pds">&#39;</span></span>}).<span class="pl-en">appendTo</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>body<span class="pl-pds">&#39;</span></span>);<span class="pl-smi">$</span>.<span class="pl-smi">ui</span>.<span class="pl-smi">cssCache</span>[name]<span class="pl-k">=</span><span class="pl-k">!!</span>((<span class="pl-k">!</span>(<span class="pl-sr"><span class="pl-pds">/</span>auto<span class="pl-k">|</span>default<span class="pl-pds">/</span></span>).<span class="pl-c1">test</span>(<span class="pl-smi">tmp</span>.<span class="pl-en">css</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>cursor<span class="pl-pds">&#39;</span></span>))<span class="pl-k">||</span>(<span class="pl-sr"><span class="pl-pds">/</span><span class="pl-k">^</span><span class="pl-c1">[<span class="pl-c1">1-9</span>]</span><span class="pl-pds">/</span></span>).<span class="pl-c1">test</span>(<span class="pl-smi">tmp</span>.<span class="pl-en">css</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>height<span class="pl-pds">&#39;</span></span>))<span class="pl-k">||</span>(<span class="pl-sr"><span class="pl-pds">/</span><span class="pl-k">^</span><span class="pl-c1">[<span class="pl-c1">1-9</span>]</span><span class="pl-pds">/</span></span>).<span class="pl-c1">test</span>(<span class="pl-smi">tmp</span>.<span class="pl-en">css</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>width<span class="pl-pds">&#39;</span></span>))<span class="pl-k">||!</span>(<span class="pl-sr"><span class="pl-pds">/</span>none<span class="pl-pds">/</span></span>).<span class="pl-c1">test</span>(<span class="pl-smi">tmp</span>.<span class="pl-en">css</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>backgroundImage<span class="pl-pds">&#39;</span></span>))<span class="pl-k">||!</span>(<span class="pl-sr"><span class="pl-pds">/</span>transparent<span class="pl-k">|</span>rgba<span class="pl-cce">\(</span>0, 0, 0, 0<span class="pl-cce">\)</span><span class="pl-pds">/</span></span>).<span class="pl-c1">test</span>(<span class="pl-smi">tmp</span>.<span class="pl-en">css</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>backgroundColor<span class="pl-pds">&#39;</span></span>))));<span class="pl-k">try</span>{<span class="pl-en">$</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>body<span class="pl-pds">&#39;</span></span>).<span class="pl-en">get</span>(<span class="pl-c1">0</span>).<span class="pl-en">removeChild</span>(<span class="pl-smi">tmp</span>.<span class="pl-en">get</span>(<span class="pl-c1">0</span>));}<span class="pl-k">catch</span>(e){}</td>
      </tr>
      <tr>
        <td id="L13" class="blob-num js-line-number" data-line-number="13"></td>
        <td id="LC13" class="blob-code blob-code-inner js-file-line"><span class="pl-k">return</span> <span class="pl-smi">$</span>.<span class="pl-smi">ui</span>.<span class="pl-smi">cssCache</span>[name];},<span class="pl-en">disableSelection</span><span class="pl-k">:</span><span class="pl-k">function</span>(<span class="pl-smi">el</span>){<span class="pl-k">return</span> <span class="pl-en">$</span>(el).<span class="pl-en">attr</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>unselectable<span class="pl-pds">&#39;</span></span>,<span class="pl-s"><span class="pl-pds">&#39;</span>on<span class="pl-pds">&#39;</span></span>).<span class="pl-en">css</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>MozUserSelect<span class="pl-pds">&#39;</span></span>,<span class="pl-s"><span class="pl-pds">&#39;</span>none<span class="pl-pds">&#39;</span></span>).<span class="pl-en">bind</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>selectstart.ui<span class="pl-pds">&#39;</span></span>,<span class="pl-k">function</span>(){<span class="pl-k">return</span> <span class="pl-c1">false</span>;});},<span class="pl-en">enableSelection</span><span class="pl-k">:</span><span class="pl-k">function</span>(<span class="pl-smi">el</span>){<span class="pl-k">return</span> <span class="pl-en">$</span>(el).<span class="pl-en">attr</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>unselectable<span class="pl-pds">&#39;</span></span>,<span class="pl-s"><span class="pl-pds">&#39;</span>off<span class="pl-pds">&#39;</span></span>).<span class="pl-en">css</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>MozUserSelect<span class="pl-pds">&#39;</span></span>,<span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-pds">&#39;</span></span>).<span class="pl-en">unbind</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>selectstart.ui<span class="pl-pds">&#39;</span></span>);},<span class="pl-en">hasScroll</span><span class="pl-k">:</span><span class="pl-k">function</span>(<span class="pl-smi">e</span>,<span class="pl-smi">a</span>){<span class="pl-k">if</span>(<span class="pl-en">$</span>(e).<span class="pl-en">css</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>overflow<span class="pl-pds">&#39;</span></span>)<span class="pl-k">==</span><span class="pl-s"><span class="pl-pds">&#39;</span>hidden<span class="pl-pds">&#39;</span></span>){<span class="pl-k">return</span> <span class="pl-c1">false</span>;}</td>
      </tr>
      <tr>
        <td id="L14" class="blob-num js-line-number" data-line-number="14"></td>
        <td id="LC14" class="blob-code blob-code-inner js-file-line"><span class="pl-k">var</span> scroll<span class="pl-k">=</span>(a<span class="pl-k">&amp;&amp;</span>a<span class="pl-k">==</span><span class="pl-s"><span class="pl-pds">&#39;</span>left<span class="pl-pds">&#39;</span></span>)<span class="pl-k">?</span><span class="pl-s"><span class="pl-pds">&#39;</span>scrollLeft<span class="pl-pds">&#39;</span></span><span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span>scrollTop<span class="pl-pds">&#39;</span></span>,has<span class="pl-k">=</span><span class="pl-c1">false</span>;<span class="pl-k">if</span>(e[scroll]<span class="pl-k">&gt;</span><span class="pl-c1">0</span>){<span class="pl-k">return</span> <span class="pl-c1">true</span>;}</td>
      </tr>
      <tr>
        <td id="L15" class="blob-num js-line-number" data-line-number="15"></td>
        <td id="LC15" class="blob-code blob-code-inner js-file-line">e[scroll]<span class="pl-k">=</span><span class="pl-c1">1</span>;has<span class="pl-k">=</span>(e[scroll]<span class="pl-k">&gt;</span><span class="pl-c1">0</span>);e[scroll]<span class="pl-k">=</span><span class="pl-c1">0</span>;<span class="pl-k">return</span> has;}};<span class="pl-smi">$</span>.<span class="pl-smi">ui</span>.<span class="pl-smi">mouse</span><span class="pl-k">=</span>{<span class="pl-en">_mouseInit</span><span class="pl-k">:</span><span class="pl-k">function</span>(){<span class="pl-k">var</span> self<span class="pl-k">=</span><span class="pl-v">this</span>;<span class="pl-v">this</span>.<span class="pl-smi">element</span>.<span class="pl-en">bind</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>mousedown.<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span><span class="pl-v">this</span>.<span class="pl-smi">widgetName</span>,<span class="pl-k">function</span>(<span class="pl-smi">e</span>){<span class="pl-k">return</span> <span class="pl-smi">self</span>.<span class="pl-en">_mouseDown</span>(e);});<span class="pl-k">if</span>(<span class="pl-smi">$</span>.<span class="pl-smi">browser</span>.<span class="pl-smi">msie</span>){<span class="pl-v">this</span>.<span class="pl-smi">_mouseUnselectable</span><span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-smi">element</span>.<span class="pl-en">attr</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>unselectable<span class="pl-pds">&#39;</span></span>);<span class="pl-v">this</span>.<span class="pl-smi">element</span>.<span class="pl-en">attr</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>unselectable<span class="pl-pds">&#39;</span></span>,<span class="pl-s"><span class="pl-pds">&#39;</span>on<span class="pl-pds">&#39;</span></span>);}</td>
      </tr>
      <tr>
        <td id="L16" class="blob-num js-line-number" data-line-number="16"></td>
        <td id="LC16" class="blob-code blob-code-inner js-file-line"><span class="pl-v">this</span>.<span class="pl-smi">started</span><span class="pl-k">=</span><span class="pl-c1">false</span>;},<span class="pl-en">_mouseDestroy</span><span class="pl-k">:</span><span class="pl-k">function</span>(){<span class="pl-v">this</span>.<span class="pl-smi">element</span>.<span class="pl-en">unbind</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>.<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span><span class="pl-v">this</span>.<span class="pl-smi">widgetName</span>);(<span class="pl-smi">$</span>.<span class="pl-smi">browser</span>.<span class="pl-smi">msie</span><span class="pl-k">&amp;&amp;</span><span class="pl-v">this</span>.<span class="pl-smi">element</span>.<span class="pl-en">attr</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>unselectable<span class="pl-pds">&#39;</span></span>,<span class="pl-v">this</span>.<span class="pl-smi">_mouseUnselectable</span>));},<span class="pl-en">_mouseDown</span><span class="pl-k">:</span><span class="pl-k">function</span>(<span class="pl-smi">e</span>){(<span class="pl-v">this</span>.<span class="pl-smi">_mouseStarted</span><span class="pl-k">&amp;&amp;</span><span class="pl-v">this</span>.<span class="pl-en">_mouseUp</span>(e));<span class="pl-v">this</span>.<span class="pl-smi">_mouseDownEvent</span><span class="pl-k">=</span>e;<span class="pl-k">var</span> self<span class="pl-k">=</span><span class="pl-v">this</span>,btnIsLeft<span class="pl-k">=</span>(<span class="pl-smi">e</span>.<span class="pl-smi">which</span><span class="pl-k">==</span><span class="pl-c1">1</span>),elIsCancel<span class="pl-k">=</span>(<span class="pl-k">typeof</span> <span class="pl-v">this</span>.<span class="pl-c1">options</span>.<span class="pl-smi">cancel</span><span class="pl-k">==</span><span class="pl-s"><span class="pl-pds">&quot;</span>string<span class="pl-pds">&quot;</span></span><span class="pl-k">?</span><span class="pl-en">$</span>(<span class="pl-smi">e</span>.<span class="pl-c1">target</span>).<span class="pl-en">parents</span>().<span class="pl-c1">add</span>(<span class="pl-smi">e</span>.<span class="pl-c1">target</span>).<span class="pl-en">filter</span>(<span class="pl-v">this</span>.<span class="pl-c1">options</span>.<span class="pl-smi">cancel</span>).<span class="pl-c1">length</span><span class="pl-k">:</span><span class="pl-c1">false</span>);<span class="pl-k">if</span>(<span class="pl-k">!</span>btnIsLeft<span class="pl-k">||</span>elIsCancel<span class="pl-k">||!</span><span class="pl-v">this</span>.<span class="pl-en">_mouseCapture</span>(e)){<span class="pl-k">return</span> <span class="pl-c1">true</span>;}</td>
      </tr>
      <tr>
        <td id="L17" class="blob-num js-line-number" data-line-number="17"></td>
        <td id="LC17" class="blob-code blob-code-inner js-file-line"><span class="pl-v">this</span>.<span class="pl-smi">mouseDelayMet</span><span class="pl-k">=</span><span class="pl-k">!</span><span class="pl-v">this</span>.<span class="pl-c1">options</span>.<span class="pl-smi">delay</span>;<span class="pl-k">if</span>(<span class="pl-k">!</span><span class="pl-v">this</span>.<span class="pl-smi">mouseDelayMet</span>){<span class="pl-v">this</span>.<span class="pl-smi">_mouseDelayTimer</span><span class="pl-k">=</span><span class="pl-c1">setTimeout</span>(<span class="pl-k">function</span>(){<span class="pl-smi">self</span>.<span class="pl-smi">mouseDelayMet</span><span class="pl-k">=</span><span class="pl-c1">true</span>;},<span class="pl-v">this</span>.<span class="pl-c1">options</span>.<span class="pl-smi">delay</span>);}</td>
      </tr>
      <tr>
        <td id="L18" class="blob-num js-line-number" data-line-number="18"></td>
        <td id="LC18" class="blob-code blob-code-inner js-file-line"><span class="pl-k">if</span>(<span class="pl-v">this</span>.<span class="pl-en">_mouseDistanceMet</span>(e)<span class="pl-k">&amp;&amp;</span><span class="pl-v">this</span>.<span class="pl-en">_mouseDelayMet</span>(e)){<span class="pl-v">this</span>.<span class="pl-smi">_mouseStarted</span><span class="pl-k">=</span>(<span class="pl-v">this</span>.<span class="pl-en">_mouseStart</span>(e)<span class="pl-k">!==</span><span class="pl-c1">false</span>);<span class="pl-k">if</span>(<span class="pl-k">!</span><span class="pl-v">this</span>.<span class="pl-smi">_mouseStarted</span>){<span class="pl-smi">e</span>.<span class="pl-en">preventDefault</span>();<span class="pl-k">return</span> <span class="pl-c1">true</span>;}}</td>
      </tr>
      <tr>
        <td id="L19" class="blob-num js-line-number" data-line-number="19"></td>
        <td id="LC19" class="blob-code blob-code-inner js-file-line"><span class="pl-v">this</span>.<span class="pl-smi">_mouseMoveDelegate</span><span class="pl-k">=</span><span class="pl-k">function</span>(<span class="pl-smi">e</span>){<span class="pl-k">return</span> <span class="pl-smi">self</span>.<span class="pl-en">_mouseMove</span>(e);};<span class="pl-v">this</span>.<span class="pl-smi">_mouseUpDelegate</span><span class="pl-k">=</span><span class="pl-k">function</span>(<span class="pl-smi">e</span>){<span class="pl-k">return</span> <span class="pl-smi">self</span>.<span class="pl-en">_mouseUp</span>(e);};<span class="pl-en">$</span>(<span class="pl-c1">document</span>).<span class="pl-en">bind</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>mousemove.<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span><span class="pl-v">this</span>.<span class="pl-smi">widgetName</span>,<span class="pl-v">this</span>.<span class="pl-smi">_mouseMoveDelegate</span>).<span class="pl-en">bind</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>mouseup.<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span><span class="pl-v">this</span>.<span class="pl-smi">widgetName</span>,<span class="pl-v">this</span>.<span class="pl-smi">_mouseUpDelegate</span>);<span class="pl-k">return</span> <span class="pl-c1">false</span>;},<span class="pl-en">_mouseMove</span><span class="pl-k">:</span><span class="pl-k">function</span>(<span class="pl-smi">e</span>){<span class="pl-k">if</span>(<span class="pl-smi">$</span>.<span class="pl-smi">browser</span>.<span class="pl-smi">msie</span><span class="pl-k">&amp;&amp;!</span><span class="pl-smi">e</span>.<span class="pl-smi">button</span>){<span class="pl-k">return</span> <span class="pl-v">this</span>.<span class="pl-en">_mouseUp</span>(e);}</td>
      </tr>
      <tr>
        <td id="L20" class="blob-num js-line-number" data-line-number="20"></td>
        <td id="LC20" class="blob-code blob-code-inner js-file-line"><span class="pl-k">if</span>(<span class="pl-v">this</span>.<span class="pl-smi">_mouseStarted</span>){<span class="pl-v">this</span>.<span class="pl-en">_mouseDrag</span>(e);<span class="pl-k">return</span> <span class="pl-c1">false</span>;}</td>
      </tr>
      <tr>
        <td id="L21" class="blob-num js-line-number" data-line-number="21"></td>
        <td id="LC21" class="blob-code blob-code-inner js-file-line"><span class="pl-k">if</span>(<span class="pl-v">this</span>.<span class="pl-en">_mouseDistanceMet</span>(e)<span class="pl-k">&amp;&amp;</span><span class="pl-v">this</span>.<span class="pl-en">_mouseDelayMet</span>(e)){<span class="pl-v">this</span>.<span class="pl-smi">_mouseStarted</span><span class="pl-k">=</span>(<span class="pl-v">this</span>.<span class="pl-en">_mouseStart</span>(<span class="pl-v">this</span>.<span class="pl-smi">_mouseDownEvent</span>,e)<span class="pl-k">!==</span><span class="pl-c1">false</span>);(<span class="pl-v">this</span>.<span class="pl-smi">_mouseStarted</span><span class="pl-k">?</span><span class="pl-v">this</span>.<span class="pl-en">_mouseDrag</span>(e)<span class="pl-k">:</span><span class="pl-v">this</span>.<span class="pl-en">_mouseUp</span>(e));}</td>
      </tr>
      <tr>
        <td id="L22" class="blob-num js-line-number" data-line-number="22"></td>
        <td id="LC22" class="blob-code blob-code-inner js-file-line"><span class="pl-k">return</span><span class="pl-k">!</span><span class="pl-v">this</span>.<span class="pl-smi">_mouseStarted</span>;},<span class="pl-en">_mouseUp</span><span class="pl-k">:</span><span class="pl-k">function</span>(<span class="pl-smi">e</span>){<span class="pl-en">$</span>(<span class="pl-c1">document</span>).<span class="pl-en">unbind</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>mousemove.<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span><span class="pl-v">this</span>.<span class="pl-smi">widgetName</span>,<span class="pl-v">this</span>.<span class="pl-smi">_mouseMoveDelegate</span>).<span class="pl-en">unbind</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>mouseup.<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span><span class="pl-v">this</span>.<span class="pl-smi">widgetName</span>,<span class="pl-v">this</span>.<span class="pl-smi">_mouseUpDelegate</span>);<span class="pl-k">if</span>(<span class="pl-v">this</span>.<span class="pl-smi">_mouseStarted</span>){<span class="pl-v">this</span>.<span class="pl-smi">_mouseStarted</span><span class="pl-k">=</span><span class="pl-c1">false</span>;<span class="pl-v">this</span>.<span class="pl-en">_mouseStop</span>(e);}</td>
      </tr>
      <tr>
        <td id="L23" class="blob-num js-line-number" data-line-number="23"></td>
        <td id="LC23" class="blob-code blob-code-inner js-file-line">return false;},_mouseDistanceMet:function(e){return(Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))&gt;=this.options.distance);},_mouseDelayMet:function(e){return this.mouseDelayMet;},_mouseStart:function(e){},_mouseDrag:function(e){},_mouseStop:function(e){},_mouseCapture:function(e){return true;}};$.ui.mouse.defaults={cancel:null,distance:1,delay:0};})(jQuery);(function($){$.widget(&quot;ui.autocomplete&quot;,{_init:function(){$.extend(this.options,{delay:this.options.url?$.Autocompleter.defaults.delay:10,max:!this.options.scroll?10:150,highlight:this.options.highlight||function(value){return value;},formatMatch:this.options.formatMatch||this.options.formatItem});new $.Autocompleter(this.element[0],this.options);},result:function(handler){return this.element.bind(&quot;result&quot;,handler);},search:function(handler){return this.element.trigger(&quot;search&quot;,[handler]);},flushCache:function(){return this.element.trigger(&quot;flushCache&quot;);},setData:function(key,value){return this.element.trigger(&quot;setOptions&quot;,[{key:value}]);},destroy:function(){return this.element.trigger(&quot;unautocomplete&quot;);}});$.Autocompleter=function(input,options){var KEY={UP:38,DOWN:40,DEL:46,TAB:9,RETURN:13,ESC:27,COMMA:188,PAGEUP:33,PAGEDOWN:34,BACKSPACE:8};var $input=$(input).attr(&quot;autocomplete&quot;,&quot;off&quot;).addClass(options.inputClass);if(options.result)$input.bind(&#39;result.autocomplete&#39;,options.result);var timeout;var previousValue=&quot;&quot;;var cache=$.Autocompleter.Cache(options);var hasFocus=0;var lastKeyPressCode;var config={mouseDownOnSelect:false};var select=$.Autocompleter.Select(options,input,selectCurrent,config);var blockSubmit;$.browser.opera&amp;&amp;$(input.form).bind(&quot;submit.autocomplete&quot;,function(){if(blockSubmit){blockSubmit=false;return false;}});$input.bind(($.browser.opera?&quot;keypress&quot;:&quot;keydown&quot;)+&quot;.autocomplete&quot;,function(event){lastKeyPressCode=event.keyCode;switch(event.keyCode){case KEY.UP:event.preventDefault();if(select.visible()){select.prev();}else{onChange(0,true);}</td>
      </tr>
      <tr>
        <td id="L24" class="blob-num js-line-number" data-line-number="24"></td>
        <td id="LC24" class="blob-code blob-code-inner js-file-line"><span class="pl-k">break</span>;<span class="pl-k">case</span> <span class="pl-smi">KEY</span>.<span class="pl-c1">DOWN</span><span class="pl-k">:</span><span class="pl-smi">event</span>.<span class="pl-en">preventDefault</span>();<span class="pl-k">if</span>(<span class="pl-smi">select</span>.<span class="pl-en">visible</span>()){<span class="pl-smi">select</span>.<span class="pl-c1">next</span>();}<span class="pl-k">else</span>{<span class="pl-c1">onChange</span>(<span class="pl-c1">0</span>,<span class="pl-c1">true</span>);}</td>
      </tr>
      <tr>
        <td id="L25" class="blob-num js-line-number" data-line-number="25"></td>
        <td id="LC25" class="blob-code blob-code-inner js-file-line"><span class="pl-k">break</span>;<span class="pl-k">case</span> <span class="pl-smi">KEY</span>.<span class="pl-c1">PAGEUP</span><span class="pl-k">:</span><span class="pl-smi">event</span>.<span class="pl-en">preventDefault</span>();<span class="pl-k">if</span>(<span class="pl-smi">select</span>.<span class="pl-en">visible</span>()){<span class="pl-smi">select</span>.<span class="pl-en">pageUp</span>();}<span class="pl-k">else</span>{<span class="pl-c1">onChange</span>(<span class="pl-c1">0</span>,<span class="pl-c1">true</span>);}</td>
      </tr>
      <tr>
        <td id="L26" class="blob-num js-line-number" data-line-number="26"></td>
        <td id="LC26" class="blob-code blob-code-inner js-file-line"><span class="pl-k">break</span>;<span class="pl-k">case</span> <span class="pl-smi">KEY</span>.<span class="pl-c1">PAGEDOWN</span><span class="pl-k">:</span><span class="pl-smi">event</span>.<span class="pl-en">preventDefault</span>();<span class="pl-k">if</span>(<span class="pl-smi">select</span>.<span class="pl-en">visible</span>()){<span class="pl-smi">select</span>.<span class="pl-en">pageDown</span>();}<span class="pl-k">else</span>{<span class="pl-c1">onChange</span>(<span class="pl-c1">0</span>,<span class="pl-c1">true</span>);}</td>
      </tr>
      <tr>
        <td id="L27" class="blob-num js-line-number" data-line-number="27"></td>
        <td id="LC27" class="blob-code blob-code-inner js-file-line"><span class="pl-k">break</span>;<span class="pl-k">case</span> <span class="pl-smi">options</span>.<span class="pl-c1">multiple</span><span class="pl-k">&amp;&amp;</span><span class="pl-smi">$</span>.<span class="pl-en">trim</span>(<span class="pl-smi">options</span>.<span class="pl-smi">multipleSeparator</span>)<span class="pl-k">==</span><span class="pl-s"><span class="pl-pds">&quot;</span>,<span class="pl-pds">&quot;</span></span><span class="pl-k">&amp;&amp;</span><span class="pl-smi">KEY</span>.<span class="pl-c1">COMMA</span><span class="pl-k">:</span><span class="pl-k">case</span> <span class="pl-smi">KEY</span>.<span class="pl-c1">TAB</span><span class="pl-k">:</span><span class="pl-k">case</span> <span class="pl-smi">KEY</span>.<span class="pl-c1">RETURN</span><span class="pl-k">:</span><span class="pl-k">if</span>(<span class="pl-en">selectCurrent</span>()){<span class="pl-smi">event</span>.<span class="pl-en">preventDefault</span>();blockSubmit<span class="pl-k">=</span><span class="pl-c1">true</span>;<span class="pl-k">return</span> <span class="pl-c1">false</span>;}</td>
      </tr>
      <tr>
        <td id="L28" class="blob-num js-line-number" data-line-number="28"></td>
        <td id="LC28" class="blob-code blob-code-inner js-file-line"><span class="pl-k">break</span>;<span class="pl-k">case</span> <span class="pl-smi">KEY</span>.<span class="pl-c1">ESC</span><span class="pl-k">:</span><span class="pl-smi">select</span>.<span class="pl-en">hide</span>();<span class="pl-k">break</span>;<span class="pl-k">default</span><span class="pl-k">:</span><span class="pl-c1">clearTimeout</span>(timeout);timeout<span class="pl-k">=</span><span class="pl-c1">setTimeout</span>(<span class="pl-c1">onChange</span>,<span class="pl-smi">options</span>.<span class="pl-smi">delay</span>);<span class="pl-k">break</span>;}}).<span class="pl-c1">focus</span>(<span class="pl-k">function</span>(){hasFocus<span class="pl-k">++</span>;}).<span class="pl-c1">blur</span>(<span class="pl-k">function</span>(){hasFocus<span class="pl-k">=</span><span class="pl-c1">0</span>;<span class="pl-k">if</span>(<span class="pl-k">!</span><span class="pl-smi">config</span>.<span class="pl-smi">mouseDownOnSelect</span>){<span class="pl-en">hideResults</span>();}}).<span class="pl-c1">click</span>(<span class="pl-k">function</span>(){<span class="pl-k">if</span>(hasFocus<span class="pl-k">++</span><span class="pl-k">&gt;</span><span class="pl-c1">1</span><span class="pl-k">&amp;&amp;!</span><span class="pl-smi">select</span>.<span class="pl-en">visible</span>()){<span class="pl-c1">onChange</span>(<span class="pl-c1">0</span>,<span class="pl-c1">true</span>);}}).<span class="pl-en">bind</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>search<span class="pl-pds">&quot;</span></span>,<span class="pl-k">function</span>(){<span class="pl-k">var</span> fn<span class="pl-k">=</span>(<span class="pl-smi">arguments</span>.<span class="pl-c1">length</span><span class="pl-k">&gt;</span><span class="pl-c1">1</span>)<span class="pl-k">?</span>arguments[<span class="pl-c1">1</span>]<span class="pl-k">:</span><span class="pl-c1">null</span>;<span class="pl-k">function</span> <span class="pl-en">findValueCallback</span>(<span class="pl-smi">q</span>,<span class="pl-smi">data</span>){<span class="pl-k">var</span> result;<span class="pl-k">if</span>(data<span class="pl-k">&amp;&amp;</span><span class="pl-smi">data</span>.<span class="pl-c1">length</span>){<span class="pl-k">for</span>(<span class="pl-k">var</span> i<span class="pl-k">=</span><span class="pl-c1">0</span>;i<span class="pl-k">&lt;</span><span class="pl-smi">data</span>.<span class="pl-c1">length</span>;i<span class="pl-k">++</span>){<span class="pl-k">if</span>(data[i].<span class="pl-smi">result</span>.<span class="pl-c1">toLowerCase</span>()<span class="pl-k">==</span><span class="pl-smi">q</span>.<span class="pl-c1">toLowerCase</span>()){result<span class="pl-k">=</span>data[i];<span class="pl-k">break</span>;}}}</td>
      </tr>
      <tr>
        <td id="L29" class="blob-num js-line-number" data-line-number="29"></td>
        <td id="LC29" class="blob-code blob-code-inner js-file-line"><span class="pl-k">if</span>(<span class="pl-k">typeof</span> fn<span class="pl-k">==</span><span class="pl-s"><span class="pl-pds">&quot;</span>function<span class="pl-pds">&quot;</span></span>)<span class="pl-en">fn</span>(result);<span class="pl-k">else</span> <span class="pl-smi">$input</span>.<span class="pl-en">trigger</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>result<span class="pl-pds">&quot;</span></span>,result<span class="pl-k">&amp;&amp;</span>[<span class="pl-smi">result</span>.<span class="pl-c1">data</span>,<span class="pl-smi">result</span>.<span class="pl-c1">value</span>]);}</td>
      </tr>
      <tr>
        <td id="L30" class="blob-num js-line-number" data-line-number="30"></td>
        <td id="LC30" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">$</span>.<span class="pl-en">each</span>(<span class="pl-en">trimWords</span>(<span class="pl-smi">$input</span>.<span class="pl-en">val</span>()),<span class="pl-k">function</span>(<span class="pl-smi">i</span>,<span class="pl-smi">value</span>){<span class="pl-en">request</span>(value,findValueCallback,findValueCallback);});}).<span class="pl-en">bind</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>flushCache<span class="pl-pds">&quot;</span></span>,<span class="pl-k">function</span>(){<span class="pl-smi">cache</span>.<span class="pl-en">flush</span>();}).<span class="pl-en">bind</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>setOptions<span class="pl-pds">&quot;</span></span>,<span class="pl-k">function</span>(){<span class="pl-smi">$</span>.<span class="pl-en">extend</span>(options,arguments[<span class="pl-c1">1</span>]);<span class="pl-k">if</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>data<span class="pl-pds">&quot;</span></span><span class="pl-k">in</span> arguments[<span class="pl-c1">1</span>])</td>
      </tr>
      <tr>
        <td id="L31" class="blob-num js-line-number" data-line-number="31"></td>
        <td id="LC31" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">cache</span>.<span class="pl-en">populate</span>();}).<span class="pl-en">bind</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>unautocomplete<span class="pl-pds">&quot;</span></span>,<span class="pl-k">function</span>(){<span class="pl-smi">select</span>.<span class="pl-en">unbind</span>();<span class="pl-smi">$input</span>.<span class="pl-en">unbind</span>();<span class="pl-en">$</span>(<span class="pl-smi">input</span>.<span class="pl-c1">form</span>).<span class="pl-en">unbind</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>.autocomplete<span class="pl-pds">&quot;</span></span>);});<span class="pl-k">function</span> <span class="pl-en">selectCurrent</span>(){<span class="pl-k">var</span> selected<span class="pl-k">=</span><span class="pl-smi">select</span>.<span class="pl-c1">selected</span>();<span class="pl-k">if</span>(<span class="pl-k">!</span>selected)</td>
      </tr>
      <tr>
        <td id="L32" class="blob-num js-line-number" data-line-number="32"></td>
        <td id="LC32" class="blob-code blob-code-inner js-file-line"><span class="pl-k">return</span> <span class="pl-c1">false</span>;<span class="pl-k">var</span> v<span class="pl-k">=</span><span class="pl-smi">selected</span>.<span class="pl-smi">result</span>;previousValue<span class="pl-k">=</span>v;<span class="pl-k">if</span>(<span class="pl-smi">options</span>.<span class="pl-c1">multiple</span>){<span class="pl-k">var</span> words<span class="pl-k">=</span><span class="pl-en">trimWords</span>(<span class="pl-smi">$input</span>.<span class="pl-en">val</span>());<span class="pl-k">if</span>(<span class="pl-smi">words</span>.<span class="pl-c1">length</span><span class="pl-k">&gt;</span><span class="pl-c1">1</span>){v<span class="pl-k">=</span><span class="pl-smi">words</span>.<span class="pl-c1">slice</span>(<span class="pl-c1">0</span>,<span class="pl-smi">words</span>.<span class="pl-c1">length</span><span class="pl-k">-</span><span class="pl-c1">1</span>).<span class="pl-c1">join</span>(<span class="pl-smi">options</span>.<span class="pl-smi">multipleSeparator</span>)<span class="pl-k">+</span><span class="pl-smi">options</span>.<span class="pl-smi">multipleSeparator</span><span class="pl-k">+</span>v;}</td>
      </tr>
      <tr>
        <td id="L33" class="blob-num js-line-number" data-line-number="33"></td>
        <td id="LC33" class="blob-code blob-code-inner js-file-line">v<span class="pl-k">+=</span><span class="pl-smi">options</span>.<span class="pl-smi">multipleSeparator</span>;}</td>
      </tr>
      <tr>
        <td id="L34" class="blob-num js-line-number" data-line-number="34"></td>
        <td id="LC34" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">$input</span>.<span class="pl-en">val</span>(v);<span class="pl-en">hideResultsNow</span>();<span class="pl-smi">$input</span>.<span class="pl-en">trigger</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>result<span class="pl-pds">&quot;</span></span>,[<span class="pl-smi">selected</span>.<span class="pl-c1">data</span>,<span class="pl-smi">selected</span>.<span class="pl-c1">value</span>]);<span class="pl-k">return</span> <span class="pl-c1">true</span>;}</td>
      </tr>
      <tr>
        <td id="L35" class="blob-num js-line-number" data-line-number="35"></td>
        <td id="LC35" class="blob-code blob-code-inner js-file-line"><span class="pl-k">function</span> <span class="pl-en">onChange</span>(<span class="pl-smi">crap</span>,<span class="pl-smi">skipPrevCheck</span>){<span class="pl-k">if</span>(lastKeyPressCode<span class="pl-k">==</span><span class="pl-smi">KEY</span>.<span class="pl-c1">DEL</span>){<span class="pl-smi">select</span>.<span class="pl-en">hide</span>();<span class="pl-k">return</span>;}</td>
      </tr>
      <tr>
        <td id="L36" class="blob-num js-line-number" data-line-number="36"></td>
        <td id="LC36" class="blob-code blob-code-inner js-file-line"><span class="pl-k">var</span> currentValue<span class="pl-k">=</span><span class="pl-smi">$input</span>.<span class="pl-en">val</span>();<span class="pl-k">if</span>(<span class="pl-k">!</span>skipPrevCheck<span class="pl-k">&amp;&amp;</span>currentValue<span class="pl-k">==</span>previousValue)</td>
      </tr>
      <tr>
        <td id="L37" class="blob-num js-line-number" data-line-number="37"></td>
        <td id="LC37" class="blob-code blob-code-inner js-file-line"><span class="pl-k">return</span>;previousValue<span class="pl-k">=</span>currentValue;currentValue<span class="pl-k">=</span><span class="pl-en">lastWord</span>(currentValue);<span class="pl-k">if</span>(<span class="pl-smi">currentValue</span>.<span class="pl-c1">length</span><span class="pl-k">&gt;=</span><span class="pl-smi">options</span>.<span class="pl-smi">minChars</span>){<span class="pl-smi">$input</span>.<span class="pl-en">addClass</span>(<span class="pl-smi">options</span>.<span class="pl-smi">loadingClass</span>);<span class="pl-k">if</span>(<span class="pl-k">!</span><span class="pl-smi">options</span>.<span class="pl-smi">matchCase</span>)</td>
      </tr>
      <tr>
        <td id="L38" class="blob-num js-line-number" data-line-number="38"></td>
        <td id="LC38" class="blob-code blob-code-inner js-file-line">currentValue<span class="pl-k">=</span><span class="pl-smi">currentValue</span>.<span class="pl-c1">toLowerCase</span>();<span class="pl-en">request</span>(currentValue,receiveData,hideResultsNow);}<span class="pl-k">else</span>{<span class="pl-en">stopLoading</span>();<span class="pl-smi">select</span>.<span class="pl-en">hide</span>();}};<span class="pl-k">function</span> <span class="pl-en">trimWords</span>(<span class="pl-smi">value</span>){<span class="pl-k">if</span>(<span class="pl-k">!</span>value){<span class="pl-k">return</span>[<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-pds">&quot;</span></span>];}</td>
      </tr>
      <tr>
        <td id="L39" class="blob-num js-line-number" data-line-number="39"></td>
        <td id="LC39" class="blob-code blob-code-inner js-file-line"><span class="pl-k">var</span> words<span class="pl-k">=</span><span class="pl-smi">value</span>.<span class="pl-c1">split</span>(<span class="pl-smi">options</span>.<span class="pl-smi">multipleSeparator</span>);<span class="pl-k">var</span> result<span class="pl-k">=</span>[];<span class="pl-smi">$</span>.<span class="pl-en">each</span>(words,<span class="pl-k">function</span>(<span class="pl-smi">i</span>,<span class="pl-smi">value</span>){<span class="pl-k">if</span>(<span class="pl-smi">$</span>.<span class="pl-en">trim</span>(value))</td>
      </tr>
      <tr>
        <td id="L40" class="blob-num js-line-number" data-line-number="40"></td>
        <td id="LC40" class="blob-code blob-code-inner js-file-line">result[i]<span class="pl-k">=</span><span class="pl-smi">$</span>.<span class="pl-en">trim</span>(value);});<span class="pl-k">return</span> result;}</td>
      </tr>
      <tr>
        <td id="L41" class="blob-num js-line-number" data-line-number="41"></td>
        <td id="LC41" class="blob-code blob-code-inner js-file-line"><span class="pl-k">function</span> <span class="pl-en">lastWord</span>(<span class="pl-smi">value</span>){<span class="pl-k">if</span>(<span class="pl-k">!</span><span class="pl-smi">options</span>.<span class="pl-c1">multiple</span>)</td>
      </tr>
      <tr>
        <td id="L42" class="blob-num js-line-number" data-line-number="42"></td>
        <td id="LC42" class="blob-code blob-code-inner js-file-line"><span class="pl-k">return</span> value;<span class="pl-k">var</span> words<span class="pl-k">=</span><span class="pl-en">trimWords</span>(value);<span class="pl-k">return</span> words[<span class="pl-smi">words</span>.<span class="pl-c1">length</span><span class="pl-k">-</span><span class="pl-c1">1</span>];}</td>
      </tr>
      <tr>
        <td id="L43" class="blob-num js-line-number" data-line-number="43"></td>
        <td id="LC43" class="blob-code blob-code-inner js-file-line"><span class="pl-k">function</span> <span class="pl-en">autoFill</span>(<span class="pl-smi">q</span>,<span class="pl-smi">sValue</span>){<span class="pl-k">if</span>(<span class="pl-smi">options</span>.<span class="pl-smi">autoFill</span><span class="pl-k">&amp;&amp;</span>(<span class="pl-en">lastWord</span>(<span class="pl-smi">$input</span>.<span class="pl-en">val</span>()).<span class="pl-c1">toLowerCase</span>()<span class="pl-k">==</span><span class="pl-smi">q</span>.<span class="pl-c1">toLowerCase</span>())<span class="pl-k">&amp;&amp;</span>lastKeyPressCode<span class="pl-k">!=</span><span class="pl-smi">KEY</span>.<span class="pl-c1">BACKSPACE</span>){<span class="pl-smi">$input</span>.<span class="pl-en">val</span>(<span class="pl-smi">$input</span>.<span class="pl-en">val</span>()<span class="pl-k">+</span><span class="pl-smi">sValue</span>.<span class="pl-c1">substring</span>(<span class="pl-en">lastWord</span>(previousValue).<span class="pl-c1">length</span>));<span class="pl-smi">$</span>.<span class="pl-smi">Autocompleter</span>.<span class="pl-en">Selection</span>(input,<span class="pl-smi">previousValue</span>.<span class="pl-c1">length</span>,<span class="pl-smi">previousValue</span>.<span class="pl-c1">length</span><span class="pl-k">+</span><span class="pl-smi">sValue</span>.<span class="pl-c1">length</span>);}};<span class="pl-k">function</span> <span class="pl-en">hideResults</span>(){<span class="pl-c1">clearTimeout</span>(timeout);timeout<span class="pl-k">=</span><span class="pl-c1">setTimeout</span>(hideResultsNow,<span class="pl-c1">200</span>);};<span class="pl-k">function</span> <span class="pl-en">hideResultsNow</span>(){<span class="pl-k">var</span> wasVisible<span class="pl-k">=</span><span class="pl-smi">select</span>.<span class="pl-en">visible</span>();<span class="pl-smi">select</span>.<span class="pl-en">hide</span>();<span class="pl-c1">clearTimeout</span>(timeout);<span class="pl-en">stopLoading</span>();<span class="pl-k">if</span>(<span class="pl-smi">options</span>.<span class="pl-smi">mustMatch</span>){<span class="pl-smi">$input</span>.<span class="pl-en">autocomplete</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>search<span class="pl-pds">&quot;</span></span>,<span class="pl-k">function</span>(<span class="pl-smi">result</span>){<span class="pl-k">if</span>(<span class="pl-k">!</span>result){<span class="pl-k">if</span>(<span class="pl-smi">options</span>.<span class="pl-c1">multiple</span>){<span class="pl-k">var</span> words<span class="pl-k">=</span><span class="pl-en">trimWords</span>(<span class="pl-smi">$input</span>.<span class="pl-en">val</span>()).<span class="pl-c1">slice</span>(<span class="pl-c1">0</span>,<span class="pl-k">-</span><span class="pl-c1">1</span>);<span class="pl-smi">$input</span>.<span class="pl-en">val</span>(<span class="pl-smi">words</span>.<span class="pl-c1">join</span>(<span class="pl-smi">options</span>.<span class="pl-smi">multipleSeparator</span>)<span class="pl-k">+</span>(<span class="pl-smi">words</span>.<span class="pl-c1">length</span><span class="pl-k">?</span><span class="pl-smi">options</span>.<span class="pl-smi">multipleSeparator</span><span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-pds">&quot;</span></span>));}</td>
      </tr>
      <tr>
        <td id="L44" class="blob-num js-line-number" data-line-number="44"></td>
        <td id="LC44" class="blob-code blob-code-inner js-file-line"><span class="pl-k">else</span></td>
      </tr>
      <tr>
        <td id="L45" class="blob-num js-line-number" data-line-number="45"></td>
        <td id="LC45" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">$input</span>.<span class="pl-en">val</span>(<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-pds">&quot;</span></span>);}});}</td>
      </tr>
      <tr>
        <td id="L46" class="blob-num js-line-number" data-line-number="46"></td>
        <td id="LC46" class="blob-code blob-code-inner js-file-line"><span class="pl-k">if</span>(wasVisible)</td>
      </tr>
      <tr>
        <td id="L47" class="blob-num js-line-number" data-line-number="47"></td>
        <td id="LC47" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">$</span>.<span class="pl-smi">Autocompleter</span>.<span class="pl-en">Selection</span>(input,<span class="pl-smi">input</span>.<span class="pl-c1">value</span>.<span class="pl-c1">length</span>,<span class="pl-smi">input</span>.<span class="pl-c1">value</span>.<span class="pl-c1">length</span>);};<span class="pl-k">function</span> <span class="pl-en">receiveData</span>(<span class="pl-smi">q</span>,<span class="pl-smi">data</span>){<span class="pl-k">if</span>(data<span class="pl-k">&amp;&amp;</span><span class="pl-smi">data</span>.<span class="pl-c1">length</span><span class="pl-k">&amp;&amp;</span>hasFocus){<span class="pl-en">stopLoading</span>();<span class="pl-smi">select</span>.<span class="pl-c1">display</span>(data,q);<span class="pl-en">autoFill</span>(q,data[<span class="pl-c1">0</span>].<span class="pl-c1">value</span>);<span class="pl-smi">select</span>.<span class="pl-en">show</span>();}<span class="pl-k">else</span>{<span class="pl-en">hideResultsNow</span>();}};<span class="pl-k">function</span> <span class="pl-en">request</span>(<span class="pl-smi">term</span>,<span class="pl-smi">success</span>,<span class="pl-smi">failure</span>){<span class="pl-k">if</span>(<span class="pl-k">!</span><span class="pl-smi">options</span>.<span class="pl-smi">matchCase</span>)</td>
      </tr>
      <tr>
        <td id="L48" class="blob-num js-line-number" data-line-number="48"></td>
        <td id="LC48" class="blob-code blob-code-inner js-file-line">term<span class="pl-k">=</span><span class="pl-smi">term</span>.<span class="pl-c1">toLowerCase</span>();<span class="pl-k">var</span> data<span class="pl-k">=</span><span class="pl-smi">cache</span>.<span class="pl-c1">load</span>(term);<span class="pl-k">if</span>(data<span class="pl-k">&amp;&amp;</span><span class="pl-smi">data</span>.<span class="pl-c1">length</span>){<span class="pl-en">success</span>(term,data);}<span class="pl-k">else</span> <span class="pl-k">if</span>((<span class="pl-k">typeof</span> <span class="pl-smi">options</span>.<span class="pl-smi">url</span><span class="pl-k">==</span><span class="pl-s"><span class="pl-pds">&quot;</span>string<span class="pl-pds">&quot;</span></span>)<span class="pl-k">&amp;&amp;</span>(<span class="pl-smi">options</span>.<span class="pl-smi">url</span>.<span class="pl-c1">length</span><span class="pl-k">&gt;</span><span class="pl-c1">0</span>)){<span class="pl-k">var</span> extraParams<span class="pl-k">=</span>{timestamp<span class="pl-k">:+</span><span class="pl-k">new</span> <span class="pl-en">Date</span>()};<span class="pl-smi">$</span>.<span class="pl-en">each</span>(<span class="pl-smi">options</span>.<span class="pl-smi">extraParams</span>,<span class="pl-k">function</span>(<span class="pl-smi">key</span>,<span class="pl-smi">param</span>){extraParams[key]<span class="pl-k">=</span><span class="pl-k">typeof</span> param<span class="pl-k">==</span><span class="pl-s"><span class="pl-pds">&quot;</span>function<span class="pl-pds">&quot;</span></span><span class="pl-k">?</span><span class="pl-en">param</span>()<span class="pl-k">:</span>param;});<span class="pl-smi">$</span>.<span class="pl-en">ajax</span>({mode<span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&quot;</span>abort<span class="pl-pds">&quot;</span></span>,port<span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&quot;</span>autocomplete<span class="pl-pds">&quot;</span></span><span class="pl-k">+</span><span class="pl-smi">input</span>.<span class="pl-c1">name</span>,dataType<span class="pl-k">:</span><span class="pl-smi">options</span>.<span class="pl-smi">dataType</span>,url<span class="pl-k">:</span><span class="pl-smi">options</span>.<span class="pl-smi">url</span>,data<span class="pl-k">:</span><span class="pl-smi">$</span>.<span class="pl-en">extend</span>({q<span class="pl-k">:</span><span class="pl-en">lastWord</span>(term),limit<span class="pl-k">:</span><span class="pl-smi">options</span>.<span class="pl-smi">max</span>},extraParams),<span class="pl-en">success</span><span class="pl-k">:</span><span class="pl-k">function</span>(<span class="pl-smi">data</span>){<span class="pl-k">var</span> parsed<span class="pl-k">=</span><span class="pl-smi">options</span>.<span class="pl-smi">parse</span><span class="pl-k">&amp;&amp;</span><span class="pl-smi">options</span>.<span class="pl-c1">parse</span>(data)<span class="pl-k">||</span><span class="pl-c1">parse</span>(data);<span class="pl-smi">cache</span>.<span class="pl-c1">add</span>(term,parsed);<span class="pl-en">success</span>(term,parsed);}});}</td>
      </tr>
      <tr>
        <td id="L49" class="blob-num js-line-number" data-line-number="49"></td>
        <td id="LC49" class="blob-code blob-code-inner js-file-line"><span class="pl-k">else</span> <span class="pl-k">if</span>(<span class="pl-smi">options</span>.<span class="pl-c1">source</span><span class="pl-k">&amp;&amp;</span><span class="pl-k">typeof</span> <span class="pl-smi">options</span>.<span class="pl-c1">source</span><span class="pl-k">==</span><span class="pl-s"><span class="pl-pds">&#39;</span>function<span class="pl-pds">&#39;</span></span>){<span class="pl-k">var</span> resultData<span class="pl-k">=</span><span class="pl-smi">options</span>.<span class="pl-c1">source</span>(term);<span class="pl-k">var</span> parsed<span class="pl-k">=</span>(<span class="pl-smi">options</span>.<span class="pl-smi">parse</span>)<span class="pl-k">?</span><span class="pl-smi">options</span>.<span class="pl-c1">parse</span>(resultData)<span class="pl-k">:</span>resultData;<span class="pl-smi">cache</span>.<span class="pl-c1">add</span>(term,parsed);<span class="pl-en">success</span>(term,parsed);}<span class="pl-k">else</span>{<span class="pl-smi">select</span>.<span class="pl-en">emptyList</span>();<span class="pl-en">failure</span>(term);}};<span class="pl-k">function</span> <span class="pl-en">parse</span>(<span class="pl-smi">data</span>){<span class="pl-k">var</span> parsed<span class="pl-k">=</span>[];<span class="pl-k">var</span> rows<span class="pl-k">=</span><span class="pl-smi">data</span>.<span class="pl-c1">split</span>(<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>);<span class="pl-k">for</span>(<span class="pl-k">var</span> i<span class="pl-k">=</span><span class="pl-c1">0</span>;i<span class="pl-k">&lt;</span><span class="pl-smi">rows</span>.<span class="pl-c1">length</span>;i<span class="pl-k">++</span>){<span class="pl-k">var</span> row<span class="pl-k">=</span><span class="pl-smi">$</span>.<span class="pl-en">trim</span>(rows[i]);<span class="pl-k">if</span>(row){row<span class="pl-k">=</span><span class="pl-smi">row</span>.<span class="pl-c1">split</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>|<span class="pl-pds">&quot;</span></span>);parsed[<span class="pl-smi">parsed</span>.<span class="pl-c1">length</span>]<span class="pl-k">=</span>{data<span class="pl-k">:</span>row,value<span class="pl-k">:</span>row[<span class="pl-c1">0</span>],result<span class="pl-k">:</span><span class="pl-smi">options</span>.<span class="pl-smi">formatResult</span><span class="pl-k">&amp;&amp;</span><span class="pl-smi">options</span>.<span class="pl-en">formatResult</span>(row,row[<span class="pl-c1">0</span>])<span class="pl-k">||</span>row[<span class="pl-c1">0</span>]};}}</td>
      </tr>
      <tr>
        <td id="L50" class="blob-num js-line-number" data-line-number="50"></td>
        <td id="LC50" class="blob-code blob-code-inner js-file-line"><span class="pl-k">return</span> parsed;};<span class="pl-k">function</span> <span class="pl-en">stopLoading</span>(){<span class="pl-smi">$input</span>.<span class="pl-en">removeClass</span>(<span class="pl-smi">options</span>.<span class="pl-smi">loadingClass</span>);};};<span class="pl-smi">$</span>.<span class="pl-smi">Autocompleter</span>.<span class="pl-smi">defaults</span><span class="pl-k">=</span>{inputClass<span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&quot;</span>ui-autocomplete-input<span class="pl-pds">&quot;</span></span>,resultsClass<span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&quot;</span>ui-autocomplete-results<span class="pl-pds">&quot;</span></span>,loadingClass<span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&quot;</span>ui-autocomplete-loading<span class="pl-pds">&quot;</span></span>,minChars<span class="pl-k">:</span><span class="pl-c1">1</span>,delay<span class="pl-k">:</span><span class="pl-c1">400</span>,matchCase<span class="pl-k">:</span><span class="pl-c1">false</span>,matchSubset<span class="pl-k">:</span><span class="pl-c1">true</span>,matchContains<span class="pl-k">:</span><span class="pl-c1">false</span>,cacheLength<span class="pl-k">:</span><span class="pl-c1">10</span>,max<span class="pl-k">:</span><span class="pl-c1">100</span>,mustMatch<span class="pl-k">:</span><span class="pl-c1">false</span>,extraParams<span class="pl-k">:</span>{},selectFirst<span class="pl-k">:</span><span class="pl-c1">true</span>,<span class="pl-en">formatItem</span><span class="pl-k">:</span><span class="pl-k">function</span>(<span class="pl-smi">row</span>){<span class="pl-k">return</span> row[<span class="pl-c1">0</span>];},formatMatch<span class="pl-k">:</span><span class="pl-c1">null</span>,autoFill<span class="pl-k">:</span><span class="pl-c1">false</span>,width<span class="pl-k">:</span><span class="pl-c1">0</span>,multiple<span class="pl-k">:</span><span class="pl-c1">false</span>,multipleSeparator<span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&quot;</span>, <span class="pl-pds">&quot;</span></span>,<span class="pl-en">highlight</span><span class="pl-k">:</span><span class="pl-k">function</span>(<span class="pl-smi">value</span>,<span class="pl-smi">term</span>){<span class="pl-k">return</span> <span class="pl-smi">value</span>.<span class="pl-c1">replace</span>(<span class="pl-k">new</span> <span class="pl-en">RegExp</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>(?![^&amp;;]+;)(?!&lt;[^&lt;&gt;]*)(<span class="pl-pds">&quot;</span></span><span class="pl-k">+</span><span class="pl-smi">term</span>.<span class="pl-c1">replace</span>(<span class="pl-sr"><span class="pl-pds">/</span>(<span class="pl-c1">[<span class="pl-cce">\^\$\(\)\[\]\{\}\*\.\+\?\|\\</span>]</span>)<span class="pl-pds">/</span>gi</span>,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-cce">\\</span>$1<span class="pl-pds">&quot;</span></span>)<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&quot;</span>)(?![^&lt;&gt;]*&gt;)(?![^&amp;;]+;)<span class="pl-pds">&quot;</span></span>,<span class="pl-s"><span class="pl-pds">&quot;</span>gi<span class="pl-pds">&quot;</span></span>),<span class="pl-s"><span class="pl-pds">&quot;</span>&lt;strong&gt;$1&lt;/strong&gt;<span class="pl-pds">&quot;</span></span>);},scroll<span class="pl-k">:</span><span class="pl-c1">true</span>,scrollHeight<span class="pl-k">:</span><span class="pl-c1">180</span>};<span class="pl-smi">$</span>.<span class="pl-en">extend</span>(<span class="pl-smi">$</span>.<span class="pl-smi">ui</span>.<span class="pl-smi">autocomplete</span>,{defaults<span class="pl-k">:</span><span class="pl-smi">$</span>.<span class="pl-smi">Autocompleter</span>.<span class="pl-smi">defaults</span>});<span class="pl-c1">$.Autocompleter</span>.<span class="pl-en">Cache</span><span class="pl-k">=</span><span class="pl-k">function</span>(<span class="pl-smi">options</span>){<span class="pl-k">var</span> data<span class="pl-k">=</span>{};<span class="pl-k">var</span> length<span class="pl-k">=</span><span class="pl-c1">0</span>;<span class="pl-k">function</span> <span class="pl-en">matchSubset</span>(<span class="pl-smi">s</span>,<span class="pl-smi">sub</span>){<span class="pl-k">if</span>(<span class="pl-k">!</span><span class="pl-smi">options</span>.<span class="pl-smi">matchCase</span>)</td>
      </tr>
      <tr>
        <td id="L51" class="blob-num js-line-number" data-line-number="51"></td>
        <td id="LC51" class="blob-code blob-code-inner js-file-line">s<span class="pl-k">=</span><span class="pl-smi">s</span>.<span class="pl-c1">toLowerCase</span>();<span class="pl-k">var</span> i<span class="pl-k">=</span><span class="pl-smi">s</span>.<span class="pl-c1">indexOf</span>(sub);<span class="pl-k">if</span>(i<span class="pl-k">==</span><span class="pl-k">-</span><span class="pl-c1">1</span>)<span class="pl-k">return</span> <span class="pl-c1">false</span>;<span class="pl-k">return</span> i<span class="pl-k">==</span><span class="pl-c1">0</span><span class="pl-k">||</span><span class="pl-smi">options</span>.<span class="pl-smi">matchContains</span>;};<span class="pl-k">function</span> <span class="pl-en">add</span>(<span class="pl-smi">q</span>,<span class="pl-smi">value</span>){<span class="pl-k">if</span>(length<span class="pl-k">&gt;</span><span class="pl-smi">options</span>.<span class="pl-smi">cacheLength</span>){<span class="pl-en">flush</span>();}</td>
      </tr>
      <tr>
        <td id="L52" class="blob-num js-line-number" data-line-number="52"></td>
        <td id="LC52" class="blob-code blob-code-inner js-file-line"><span class="pl-k">if</span>(<span class="pl-k">!</span>data[q]){length<span class="pl-k">++</span>;}</td>
      </tr>
      <tr>
        <td id="L53" class="blob-num js-line-number" data-line-number="53"></td>
        <td id="LC53" class="blob-code blob-code-inner js-file-line">data[q]<span class="pl-k">=</span>value;}</td>
      </tr>
      <tr>
        <td id="L54" class="blob-num js-line-number" data-line-number="54"></td>
        <td id="LC54" class="blob-code blob-code-inner js-file-line"><span class="pl-k">function</span> <span class="pl-en">populate</span>(){<span class="pl-k">if</span>(<span class="pl-k">!</span><span class="pl-smi">options</span>.<span class="pl-c1">data</span>)<span class="pl-k">return</span> <span class="pl-c1">false</span>;<span class="pl-k">var</span> stMatchSets<span class="pl-k">=</span>{},nullData<span class="pl-k">=</span><span class="pl-c1">0</span>;<span class="pl-k">if</span>(<span class="pl-k">!</span><span class="pl-smi">options</span>.<span class="pl-smi">url</span>)<span class="pl-smi">options</span>.<span class="pl-smi">cacheLength</span><span class="pl-k">=</span><span class="pl-c1">1</span>;stMatchSets[<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-pds">&quot;</span></span>]<span class="pl-k">=</span>[];<span class="pl-k">for</span>(<span class="pl-k">var</span> i<span class="pl-k">=</span><span class="pl-c1">0</span>,ol<span class="pl-k">=</span><span class="pl-smi">options</span>.<span class="pl-c1">data</span>.<span class="pl-c1">length</span>;i<span class="pl-k">&lt;</span>ol;i<span class="pl-k">++</span>){<span class="pl-k">var</span> rawValue<span class="pl-k">=</span><span class="pl-smi">options</span>.<span class="pl-c1">data</span>[i];rawValue<span class="pl-k">=</span>(<span class="pl-k">typeof</span> rawValue<span class="pl-k">==</span><span class="pl-s"><span class="pl-pds">&quot;</span>string<span class="pl-pds">&quot;</span></span>)<span class="pl-k">?</span>[rawValue]<span class="pl-k">:</span>rawValue;<span class="pl-k">var</span> value<span class="pl-k">=</span><span class="pl-smi">options</span>.<span class="pl-en">formatMatch</span>(rawValue,i<span class="pl-k">+</span><span class="pl-c1">1</span>,<span class="pl-smi">options</span>.<span class="pl-c1">data</span>.<span class="pl-c1">length</span>);<span class="pl-k">if</span>(value<span class="pl-k">===</span><span class="pl-c1">false</span>)</td>
      </tr>
      <tr>
        <td id="L55" class="blob-num js-line-number" data-line-number="55"></td>
        <td id="LC55" class="blob-code blob-code-inner js-file-line"><span class="pl-k">continue</span>;<span class="pl-k">var</span> firstChar<span class="pl-k">=</span><span class="pl-smi">value</span>.<span class="pl-c1">charAt</span>(<span class="pl-c1">0</span>).<span class="pl-c1">toLowerCase</span>();<span class="pl-k">if</span>(<span class="pl-k">!</span>stMatchSets[firstChar])</td>
      </tr>
      <tr>
        <td id="L56" class="blob-num js-line-number" data-line-number="56"></td>
        <td id="LC56" class="blob-code blob-code-inner js-file-line">stMatchSets[firstChar]<span class="pl-k">=</span>[];<span class="pl-k">var</span> row<span class="pl-k">=</span>{value<span class="pl-k">:</span>value,data<span class="pl-k">:</span>rawValue,result<span class="pl-k">:</span><span class="pl-smi">options</span>.<span class="pl-smi">formatResult</span><span class="pl-k">&amp;&amp;</span><span class="pl-smi">options</span>.<span class="pl-en">formatResult</span>(rawValue)<span class="pl-k">||</span>value};stMatchSets[firstChar].<span class="pl-c1">push</span>(row);<span class="pl-k">if</span>(nullData<span class="pl-k">++</span><span class="pl-k">&lt;</span><span class="pl-smi">options</span>.<span class="pl-smi">max</span>){stMatchSets[<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-pds">&quot;</span></span>].<span class="pl-c1">push</span>(row);}};<span class="pl-smi">$</span>.<span class="pl-en">each</span>(stMatchSets,<span class="pl-k">function</span>(<span class="pl-smi">i</span>,<span class="pl-smi">value</span>){<span class="pl-smi">options</span>.<span class="pl-smi">cacheLength</span><span class="pl-k">++</span>;<span class="pl-en">add</span>(i,value);});}</td>
      </tr>
      <tr>
        <td id="L57" class="blob-num js-line-number" data-line-number="57"></td>
        <td id="LC57" class="blob-code blob-code-inner js-file-line"><span class="pl-c1">setTimeout</span>(populate,<span class="pl-c1">25</span>);<span class="pl-k">function</span> <span class="pl-en">flush</span>(){data<span class="pl-k">=</span>{};length<span class="pl-k">=</span><span class="pl-c1">0</span>;}</td>
      </tr>
      <tr>
        <td id="L58" class="blob-num js-line-number" data-line-number="58"></td>
        <td id="LC58" class="blob-code blob-code-inner js-file-line"><span class="pl-k">return</span>{flush<span class="pl-k">:</span>flush,add<span class="pl-k">:</span>add,populate<span class="pl-k">:</span>populate,<span class="pl-en">load</span><span class="pl-k">:</span><span class="pl-k">function</span>(<span class="pl-smi">q</span>){<span class="pl-k">if</span>(<span class="pl-k">!</span><span class="pl-smi">options</span>.<span class="pl-smi">cacheLength</span><span class="pl-k">||!</span>length)</td>
      </tr>
      <tr>
        <td id="L59" class="blob-num js-line-number" data-line-number="59"></td>
        <td id="LC59" class="blob-code blob-code-inner js-file-line"><span class="pl-k">return</span> <span class="pl-c1">null</span>;<span class="pl-k">if</span>(<span class="pl-k">!</span><span class="pl-smi">options</span>.<span class="pl-smi">url</span><span class="pl-k">&amp;&amp;</span><span class="pl-smi">options</span>.<span class="pl-smi">matchContains</span>){<span class="pl-k">var</span> csub<span class="pl-k">=</span>[];<span class="pl-k">for</span>(<span class="pl-k">var</span> k <span class="pl-k">in</span> data){<span class="pl-k">if</span>(<span class="pl-smi">k</span>.<span class="pl-c1">length</span><span class="pl-k">&gt;</span><span class="pl-c1">0</span>){<span class="pl-k">var</span> c<span class="pl-k">=</span>data[k];<span class="pl-smi">$</span>.<span class="pl-en">each</span>(c,<span class="pl-k">function</span>(<span class="pl-smi">i</span>,<span class="pl-smi">x</span>){<span class="pl-k">if</span>(<span class="pl-en">matchSubset</span>(<span class="pl-smi">x</span>.<span class="pl-c1">value</span>,q)){<span class="pl-smi">csub</span>.<span class="pl-c1">push</span>(x);}});}}</td>
      </tr>
      <tr>
        <td id="L60" class="blob-num js-line-number" data-line-number="60"></td>
        <td id="LC60" class="blob-code blob-code-inner js-file-line"><span class="pl-k">return</span> csub;}<span class="pl-k">else</span></td>
      </tr>
      <tr>
        <td id="L61" class="blob-num js-line-number" data-line-number="61"></td>
        <td id="LC61" class="blob-code blob-code-inner js-file-line"><span class="pl-k">if</span>(data[q]){<span class="pl-k">return</span> data[q];}<span class="pl-k">else</span></td>
      </tr>
      <tr>
        <td id="L62" class="blob-num js-line-number" data-line-number="62"></td>
        <td id="LC62" class="blob-code blob-code-inner js-file-line"><span class="pl-k">if</span>(<span class="pl-smi">options</span>.<span class="pl-smi">matchSubset</span>){<span class="pl-k">for</span>(<span class="pl-k">var</span> i<span class="pl-k">=</span><span class="pl-smi">q</span>.<span class="pl-c1">length</span><span class="pl-k">-</span><span class="pl-c1">1</span>;i<span class="pl-k">&gt;=</span><span class="pl-smi">options</span>.<span class="pl-smi">minChars</span>;i<span class="pl-k">--</span>){<span class="pl-k">var</span> c<span class="pl-k">=</span>data[<span class="pl-smi">q</span>.<span class="pl-c1">substr</span>(<span class="pl-c1">0</span>,i)];<span class="pl-k">if</span>(c){<span class="pl-k">var</span> csub<span class="pl-k">=</span>[];<span class="pl-smi">$</span>.<span class="pl-en">each</span>(c,<span class="pl-k">function</span>(<span class="pl-smi">i</span>,<span class="pl-smi">x</span>){<span class="pl-k">if</span>(<span class="pl-en">matchSubset</span>(<span class="pl-smi">x</span>.<span class="pl-c1">value</span>,q)){csub[<span class="pl-smi">csub</span>.<span class="pl-c1">length</span>]<span class="pl-k">=</span>x;}});<span class="pl-k">return</span> csub;}}}</td>
      </tr>
      <tr>
        <td id="L63" class="blob-num js-line-number" data-line-number="63"></td>
        <td id="LC63" class="blob-code blob-code-inner js-file-line"><span class="pl-k">return</span> <span class="pl-c1">null</span>;}};};<span class="pl-c1">$.Autocompleter</span>.<span class="pl-en">Select</span><span class="pl-k">=</span><span class="pl-k">function</span>(<span class="pl-smi">options</span>,<span class="pl-smi">input</span>,<span class="pl-smi">select</span>,<span class="pl-smi">config</span>){<span class="pl-k">var</span> <span class="pl-c1">CLASSES</span><span class="pl-k">=</span>{ACTIVE<span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&quot;</span>ui-autocomplete-over<span class="pl-pds">&quot;</span></span>};<span class="pl-k">var</span> listItems,active<span class="pl-k">=</span><span class="pl-k">-</span><span class="pl-c1">1</span>,data,term<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-pds">&quot;</span></span>,needsInit<span class="pl-k">=</span><span class="pl-c1">true</span>,element,list;<span class="pl-k">function</span> <span class="pl-en">init</span>(){<span class="pl-k">if</span>(<span class="pl-k">!</span>needsInit)</td>
      </tr>
      <tr>
        <td id="L64" class="blob-num js-line-number" data-line-number="64"></td>
        <td id="LC64" class="blob-code blob-code-inner js-file-line"><span class="pl-k">return</span>;element<span class="pl-k">=</span><span class="pl-en">$</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>&lt;div/&gt;<span class="pl-pds">&quot;</span></span>).<span class="pl-en">hide</span>().<span class="pl-en">addClass</span>(<span class="pl-smi">options</span>.<span class="pl-smi">resultsClass</span>).<span class="pl-en">css</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>position<span class="pl-pds">&quot;</span></span>,<span class="pl-s"><span class="pl-pds">&quot;</span>absolute<span class="pl-pds">&quot;</span></span>).<span class="pl-en">appendTo</span>(<span class="pl-smi">document</span>.<span class="pl-c1">body</span>);list<span class="pl-k">=</span><span class="pl-en">$</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>&lt;ul/&gt;<span class="pl-pds">&quot;</span></span>).<span class="pl-en">appendTo</span>(element).<span class="pl-en">mouseover</span>(<span class="pl-k">function</span>(<span class="pl-smi">event</span>){<span class="pl-k">if</span>(<span class="pl-en">target</span>(<span class="pl-c1">event</span>).<span class="pl-c1">nodeName</span><span class="pl-k">&amp;&amp;</span><span class="pl-en">target</span>(<span class="pl-c1">event</span>).<span class="pl-c1">nodeName</span>.<span class="pl-c1">toUpperCase</span>()<span class="pl-k">==</span><span class="pl-s"><span class="pl-pds">&#39;</span>LI<span class="pl-pds">&#39;</span></span>){active<span class="pl-k">=</span><span class="pl-en">$</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>li<span class="pl-pds">&quot;</span></span>,list).<span class="pl-en">removeClass</span>(<span class="pl-smi">CLASSES</span>.<span class="pl-c1">ACTIVE</span>).<span class="pl-c1">index</span>(<span class="pl-en">target</span>(<span class="pl-c1">event</span>));<span class="pl-en">$</span>(<span class="pl-en">target</span>(<span class="pl-c1">event</span>)).<span class="pl-en">addClass</span>(<span class="pl-smi">CLASSES</span>.<span class="pl-c1">ACTIVE</span>);}}).<span class="pl-c1">click</span>(<span class="pl-k">function</span>(<span class="pl-smi">event</span>){<span class="pl-en">$</span>(<span class="pl-en">target</span>(<span class="pl-c1">event</span>)).<span class="pl-en">addClass</span>(<span class="pl-smi">CLASSES</span>.<span class="pl-c1">ACTIVE</span>);<span class="pl-en">select</span>();<span class="pl-smi">input</span>.<span class="pl-c1">focus</span>();<span class="pl-k">return</span> <span class="pl-c1">false</span>;}).<span class="pl-en">mousedown</span>(<span class="pl-k">function</span>(){<span class="pl-smi">config</span>.<span class="pl-smi">mouseDownOnSelect</span><span class="pl-k">=</span><span class="pl-c1">true</span>;}).<span class="pl-en">mouseup</span>(<span class="pl-k">function</span>(){<span class="pl-smi">config</span>.<span class="pl-smi">mouseDownOnSelect</span><span class="pl-k">=</span><span class="pl-c1">false</span>;});<span class="pl-k">if</span>(<span class="pl-smi">options</span>.<span class="pl-c1">width</span><span class="pl-k">&gt;</span><span class="pl-c1">0</span>)</td>
      </tr>
      <tr>
        <td id="L65" class="blob-num js-line-number" data-line-number="65"></td>
        <td id="LC65" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">element</span>.<span class="pl-en">css</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>width<span class="pl-pds">&quot;</span></span>,<span class="pl-smi">options</span>.<span class="pl-c1">width</span>);needsInit<span class="pl-k">=</span><span class="pl-c1">false</span>;}</td>
      </tr>
      <tr>
        <td id="L66" class="blob-num js-line-number" data-line-number="66"></td>
        <td id="LC66" class="blob-code blob-code-inner js-file-line"><span class="pl-k">function</span> <span class="pl-en">target</span>(<span class="pl-smi">event</span>){<span class="pl-k">var</span> element<span class="pl-k">=</span><span class="pl-smi">event</span>.<span class="pl-c1">target</span>;<span class="pl-k">while</span>(element<span class="pl-k">&amp;&amp;</span><span class="pl-smi">element</span>.<span class="pl-c1">tagName</span><span class="pl-k">!=</span><span class="pl-s"><span class="pl-pds">&quot;</span>LI<span class="pl-pds">&quot;</span></span>)</td>
      </tr>
      <tr>
        <td id="L67" class="blob-num js-line-number" data-line-number="67"></td>
        <td id="LC67" class="blob-code blob-code-inner js-file-line">element<span class="pl-k">=</span><span class="pl-smi">element</span>.<span class="pl-c1">parentNode</span>;<span class="pl-k">if</span>(<span class="pl-k">!</span>element)</td>
      </tr>
      <tr>
        <td id="L68" class="blob-num js-line-number" data-line-number="68"></td>
        <td id="LC68" class="blob-code blob-code-inner js-file-line"><span class="pl-k">return</span>[];<span class="pl-k">return</span> element;}</td>
      </tr>
      <tr>
        <td id="L69" class="blob-num js-line-number" data-line-number="69"></td>
        <td id="LC69" class="blob-code blob-code-inner js-file-line"><span class="pl-k">function</span> <span class="pl-en">moveSelect</span>(<span class="pl-smi">step</span>){<span class="pl-smi">listItems</span>.<span class="pl-c1">slice</span>(active,active<span class="pl-k">+</span><span class="pl-c1">1</span>).<span class="pl-en">removeClass</span>(<span class="pl-smi">CLASSES</span>.<span class="pl-c1">ACTIVE</span>);<span class="pl-en">movePosition</span>(step);<span class="pl-k">var</span> activeItem<span class="pl-k">=</span><span class="pl-smi">listItems</span>.<span class="pl-c1">slice</span>(active,active<span class="pl-k">+</span><span class="pl-c1">1</span>).<span class="pl-en">addClass</span>(<span class="pl-smi">CLASSES</span>.<span class="pl-c1">ACTIVE</span>);<span class="pl-k">if</span>(<span class="pl-smi">options</span>.<span class="pl-smi">scroll</span>){<span class="pl-k">var</span> offset<span class="pl-k">=</span><span class="pl-c1">0</span>;<span class="pl-smi">listItems</span>.<span class="pl-c1">slice</span>(<span class="pl-c1">0</span>,active).<span class="pl-en">each</span>(<span class="pl-k">function</span>(){offset<span class="pl-k">+=</span><span class="pl-v">this</span>.<span class="pl-smi">offsetHeight</span>;});<span class="pl-k">if</span>((offset<span class="pl-k">+</span>activeItem[<span class="pl-c1">0</span>].<span class="pl-smi">offsetHeight</span><span class="pl-k">-</span><span class="pl-smi">list</span>.<span class="pl-en">scrollTop</span>())<span class="pl-k">&gt;</span>list[<span class="pl-c1">0</span>].<span class="pl-smi">clientHeight</span>){<span class="pl-smi">list</span>.<span class="pl-en">scrollTop</span>(offset<span class="pl-k">+</span>activeItem[<span class="pl-c1">0</span>].<span class="pl-smi">offsetHeight</span><span class="pl-k">-</span><span class="pl-smi">list</span>.<span class="pl-c1">innerHeight</span>());}<span class="pl-k">else</span> <span class="pl-k">if</span>(offset<span class="pl-k">&lt;</span><span class="pl-smi">list</span>.<span class="pl-en">scrollTop</span>()){<span class="pl-smi">list</span>.<span class="pl-en">scrollTop</span>(offset);}}};<span class="pl-k">function</span> <span class="pl-en">movePosition</span>(<span class="pl-smi">step</span>){active<span class="pl-k">+=</span>step;<span class="pl-k">if</span>(active<span class="pl-k">&lt;</span><span class="pl-c1">0</span>){active<span class="pl-k">=</span><span class="pl-smi">listItems</span>.<span class="pl-c1">size</span>()<span class="pl-k">-</span><span class="pl-c1">1</span>;}<span class="pl-k">else</span> <span class="pl-k">if</span>(active<span class="pl-k">&gt;=</span><span class="pl-smi">listItems</span>.<span class="pl-c1">size</span>()){active<span class="pl-k">=</span><span class="pl-c1">0</span>;}}</td>
      </tr>
      <tr>
        <td id="L70" class="blob-num js-line-number" data-line-number="70"></td>
        <td id="LC70" class="blob-code blob-code-inner js-file-line"><span class="pl-k">function</span> <span class="pl-en">limitNumberOfItems</span>(<span class="pl-smi">available</span>){<span class="pl-k">return</span> <span class="pl-smi">options</span>.<span class="pl-smi">max</span><span class="pl-k">&amp;&amp;</span><span class="pl-smi">options</span>.<span class="pl-smi">max</span><span class="pl-k">&lt;</span>available<span class="pl-k">?</span><span class="pl-smi">options</span>.<span class="pl-smi">max</span><span class="pl-k">:</span>available;}</td>
      </tr>
      <tr>
        <td id="L71" class="blob-num js-line-number" data-line-number="71"></td>
        <td id="LC71" class="blob-code blob-code-inner js-file-line"><span class="pl-k">function</span> <span class="pl-en">fillList</span>(){<span class="pl-smi">list</span>.<span class="pl-en">empty</span>();<span class="pl-k">var</span> max<span class="pl-k">=</span><span class="pl-en">limitNumberOfItems</span>(<span class="pl-smi">data</span>.<span class="pl-c1">length</span>);<span class="pl-k">for</span>(<span class="pl-k">var</span> i<span class="pl-k">=</span><span class="pl-c1">0</span>;i<span class="pl-k">&lt;</span>max;i<span class="pl-k">++</span>){<span class="pl-k">if</span>(<span class="pl-k">!</span>data[i])</td>
      </tr>
      <tr>
        <td id="L72" class="blob-num js-line-number" data-line-number="72"></td>
        <td id="LC72" class="blob-code blob-code-inner js-file-line"><span class="pl-k">continue</span>;<span class="pl-k">var</span> formatted<span class="pl-k">=</span><span class="pl-smi">options</span>.<span class="pl-en">formatItem</span>(data[i].<span class="pl-c1">data</span>,i<span class="pl-k">+</span><span class="pl-c1">1</span>,max,data[i].<span class="pl-c1">value</span>,term);<span class="pl-k">if</span>(formatted<span class="pl-k">===</span><span class="pl-c1">false</span>)</td>
      </tr>
      <tr>
        <td id="L73" class="blob-num js-line-number" data-line-number="73"></td>
        <td id="LC73" class="blob-code blob-code-inner js-file-line"><span class="pl-k">continue</span>;<span class="pl-k">var</span> li<span class="pl-k">=</span><span class="pl-en">$</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>&lt;li/&gt;<span class="pl-pds">&quot;</span></span>).<span class="pl-en">html</span>(<span class="pl-smi">options</span>.<span class="pl-en">highlight</span>(formatted,term)).<span class="pl-en">addClass</span>(i<span class="pl-k">%</span><span class="pl-c1">2</span><span class="pl-k">==</span><span class="pl-c1">0</span><span class="pl-k">?</span><span class="pl-s"><span class="pl-pds">&quot;</span>ui-autocomplete-even<span class="pl-pds">&quot;</span></span><span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&quot;</span>ui-autocomplete-odd<span class="pl-pds">&quot;</span></span>).<span class="pl-en">appendTo</span>(list)[<span class="pl-c1">0</span>];<span class="pl-smi">$</span>.<span class="pl-c1">data</span>(li,<span class="pl-s"><span class="pl-pds">&quot;</span>ui-autocomplete-data<span class="pl-pds">&quot;</span></span>,data[i]);}</td>
      </tr>
      <tr>
        <td id="L74" class="blob-num js-line-number" data-line-number="74"></td>
        <td id="LC74" class="blob-code blob-code-inner js-file-line">listItems<span class="pl-k">=</span><span class="pl-smi">list</span>.<span class="pl-c1">find</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>li<span class="pl-pds">&quot;</span></span>);<span class="pl-k">if</span>(<span class="pl-smi">options</span>.<span class="pl-smi">selectFirst</span>){<span class="pl-smi">listItems</span>.<span class="pl-c1">slice</span>(<span class="pl-c1">0</span>,<span class="pl-c1">1</span>).<span class="pl-en">addClass</span>(<span class="pl-smi">CLASSES</span>.<span class="pl-c1">ACTIVE</span>);active<span class="pl-k">=</span><span class="pl-c1">0</span>;}</td>
      </tr>
      <tr>
        <td id="L75" class="blob-num js-line-number" data-line-number="75"></td>
        <td id="LC75" class="blob-code blob-code-inner js-file-line"><span class="pl-k">if</span>(<span class="pl-smi">$</span>.<span class="pl-smi">fn</span>.<span class="pl-smi">bgiframe</span>)</td>
      </tr>
      <tr>
        <td id="L76" class="blob-num js-line-number" data-line-number="76"></td>
        <td id="LC76" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">list</span>.<span class="pl-en">bgiframe</span>();}</td>
      </tr>
      <tr>
        <td id="L77" class="blob-num js-line-number" data-line-number="77"></td>
        <td id="LC77" class="blob-code blob-code-inner js-file-line"><span class="pl-k">return</span>{<span class="pl-en">display</span><span class="pl-k">:</span><span class="pl-k">function</span>(<span class="pl-smi">d</span>,<span class="pl-smi">q</span>){<span class="pl-en">init</span>();data<span class="pl-k">=</span>d;term<span class="pl-k">=</span>q;<span class="pl-en">fillList</span>();},<span class="pl-en">next</span><span class="pl-k">:</span><span class="pl-k">function</span>(){<span class="pl-en">moveSelect</span>(<span class="pl-c1">1</span>);},<span class="pl-en">prev</span><span class="pl-k">:</span><span class="pl-k">function</span>(){<span class="pl-en">moveSelect</span>(<span class="pl-k">-</span><span class="pl-c1">1</span>);},<span class="pl-en">pageUp</span><span class="pl-k">:</span><span class="pl-k">function</span>(){<span class="pl-k">if</span>(active<span class="pl-k">!=</span><span class="pl-c1">0</span><span class="pl-k">&amp;&amp;</span>active<span class="pl-k">-</span><span class="pl-c1">8</span><span class="pl-k">&lt;</span><span class="pl-c1">0</span>){<span class="pl-en">moveSelect</span>(<span class="pl-k">-</span>active);}<span class="pl-k">else</span>{<span class="pl-en">moveSelect</span>(<span class="pl-k">-</span><span class="pl-c1">8</span>);}},<span class="pl-en">pageDown</span><span class="pl-k">:</span><span class="pl-k">function</span>(){<span class="pl-k">if</span>(active<span class="pl-k">!=</span><span class="pl-smi">listItems</span>.<span class="pl-c1">size</span>()<span class="pl-k">-</span><span class="pl-c1">1</span><span class="pl-k">&amp;&amp;</span>active<span class="pl-k">+</span><span class="pl-c1">8</span><span class="pl-k">&gt;</span><span class="pl-smi">listItems</span>.<span class="pl-c1">size</span>()){<span class="pl-en">moveSelect</span>(<span class="pl-smi">listItems</span>.<span class="pl-c1">size</span>()<span class="pl-k">-</span><span class="pl-c1">1</span><span class="pl-k">-</span>active);}<span class="pl-k">else</span>{<span class="pl-en">moveSelect</span>(<span class="pl-c1">8</span>);}},<span class="pl-en">hide</span><span class="pl-k">:</span><span class="pl-k">function</span>(){element<span class="pl-k">&amp;&amp;</span><span class="pl-smi">element</span>.<span class="pl-en">hide</span>();listItems<span class="pl-k">&amp;&amp;</span><span class="pl-smi">listItems</span>.<span class="pl-en">removeClass</span>(<span class="pl-smi">CLASSES</span>.<span class="pl-c1">ACTIVE</span>)</td>
      </tr>
      <tr>
        <td id="L78" class="blob-num js-line-number" data-line-number="78"></td>
        <td id="LC78" class="blob-code blob-code-inner js-file-line">active<span class="pl-k">=</span><span class="pl-k">-</span><span class="pl-c1">1</span>;<span class="pl-en">$</span>(input).<span class="pl-en">triggerHandler</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>autocompletehide<span class="pl-pds">&quot;</span></span>,[{},{options<span class="pl-k">:</span>options}],options[<span class="pl-s"><span class="pl-pds">&quot;</span>hide<span class="pl-pds">&quot;</span></span>]);},<span class="pl-en">visible</span><span class="pl-k">:</span><span class="pl-k">function</span>(){<span class="pl-k">return</span> element<span class="pl-k">&amp;&amp;</span><span class="pl-smi">element</span>.<span class="pl-en">is</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>:visible<span class="pl-pds">&quot;</span></span>);},<span class="pl-en">current</span><span class="pl-k">:</span><span class="pl-k">function</span>(){<span class="pl-k">return</span> <span class="pl-v">this</span>.<span class="pl-en">visible</span>()<span class="pl-k">&amp;&amp;</span>(<span class="pl-smi">listItems</span>.<span class="pl-en">filter</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>.<span class="pl-pds">&quot;</span></span><span class="pl-k">+</span><span class="pl-smi">CLASSES</span>.<span class="pl-c1">ACTIVE</span>)[<span class="pl-c1">0</span>]<span class="pl-k">||</span><span class="pl-smi">options</span>.<span class="pl-smi">selectFirst</span><span class="pl-k">&amp;&amp;</span>listItems[<span class="pl-c1">0</span>]);},<span class="pl-en">show</span><span class="pl-k">:</span><span class="pl-k">function</span>(){<span class="pl-k">var</span> offset<span class="pl-k">=</span><span class="pl-en">$</span>(input).<span class="pl-en">offset</span>();<span class="pl-smi">element</span>.<span class="pl-en">css</span>({width<span class="pl-k">:</span><span class="pl-k">typeof</span> <span class="pl-smi">options</span>.<span class="pl-c1">width</span><span class="pl-k">==</span><span class="pl-s"><span class="pl-pds">&quot;</span>string<span class="pl-pds">&quot;</span></span><span class="pl-k">||</span><span class="pl-smi">options</span>.<span class="pl-c1">width</span><span class="pl-k">&gt;</span><span class="pl-c1">0</span><span class="pl-k">?</span><span class="pl-smi">options</span>.<span class="pl-c1">width</span><span class="pl-k">:</span><span class="pl-en">$</span>(input).<span class="pl-c1">width</span>(),top<span class="pl-k">:</span><span class="pl-smi">offset</span>.<span class="pl-c1">top</span><span class="pl-k">+</span><span class="pl-smi">input</span>.<span class="pl-smi">offsetHeight</span>,left<span class="pl-k">:</span><span class="pl-smi">offset</span>.<span class="pl-c1">left</span>}).<span class="pl-en">show</span>();<span class="pl-k">if</span>(<span class="pl-smi">options</span>.<span class="pl-smi">scroll</span>){<span class="pl-smi">list</span>.<span class="pl-en">scrollTop</span>(<span class="pl-c1">0</span>);<span class="pl-smi">list</span>.<span class="pl-en">css</span>({maxHeight<span class="pl-k">:</span><span class="pl-smi">options</span>.<span class="pl-smi">scrollHeight</span>,overflow<span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span>auto<span class="pl-pds">&#39;</span></span>});<span class="pl-k">if</span>(<span class="pl-smi">$</span>.<span class="pl-smi">browser</span>.<span class="pl-smi">msie</span><span class="pl-k">&amp;&amp;</span><span class="pl-k">typeof</span> <span class="pl-smi">document</span>.<span class="pl-c1">body</span>.<span class="pl-c1">style</span>.<span class="pl-smi">maxHeight</span><span class="pl-k">===</span><span class="pl-s"><span class="pl-pds">&quot;</span>undefined<span class="pl-pds">&quot;</span></span>){<span class="pl-k">var</span> listHeight<span class="pl-k">=</span><span class="pl-c1">0</span>;<span class="pl-smi">listItems</span>.<span class="pl-en">each</span>(<span class="pl-k">function</span>(){listHeight<span class="pl-k">+=</span><span class="pl-v">this</span>.<span class="pl-smi">offsetHeight</span>;});<span class="pl-k">var</span> scrollbarsVisible<span class="pl-k">=</span>listHeight<span class="pl-k">&gt;</span><span class="pl-smi">options</span>.<span class="pl-smi">scrollHeight</span>;<span class="pl-smi">list</span>.<span class="pl-en">css</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>height<span class="pl-pds">&#39;</span></span>,scrollbarsVisible<span class="pl-k">?</span><span class="pl-smi">options</span>.<span class="pl-smi">scrollHeight</span><span class="pl-k">:</span>listHeight);<span class="pl-k">if</span>(<span class="pl-k">!</span>scrollbarsVisible){<span class="pl-smi">listItems</span>.<span class="pl-c1">width</span>(<span class="pl-smi">list</span>.<span class="pl-c1">width</span>()<span class="pl-k">-</span><span class="pl-c1">parseInt</span>(<span class="pl-smi">listItems</span>.<span class="pl-en">css</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>padding-left<span class="pl-pds">&quot;</span></span>))<span class="pl-k">-</span><span class="pl-c1">parseInt</span>(<span class="pl-smi">listItems</span>.<span class="pl-en">css</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>padding-right<span class="pl-pds">&quot;</span></span>)));}}}</td>
      </tr>
      <tr>
        <td id="L79" class="blob-num js-line-number" data-line-number="79"></td>
        <td id="LC79" class="blob-code blob-code-inner js-file-line"><span class="pl-en">$</span>(input).<span class="pl-en">triggerHandler</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>autocompleteshow<span class="pl-pds">&quot;</span></span>,[{},{options<span class="pl-k">:</span>options}],options[<span class="pl-s"><span class="pl-pds">&quot;</span>show<span class="pl-pds">&quot;</span></span>]);},<span class="pl-en">selected</span><span class="pl-k">:</span><span class="pl-k">function</span>(){<span class="pl-k">var</span> selected<span class="pl-k">=</span>listItems<span class="pl-k">&amp;&amp;</span><span class="pl-smi">listItems</span>.<span class="pl-en">filter</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>.<span class="pl-pds">&quot;</span></span><span class="pl-k">+</span><span class="pl-smi">CLASSES</span>.<span class="pl-c1">ACTIVE</span>).<span class="pl-en">removeClass</span>(<span class="pl-smi">CLASSES</span>.<span class="pl-c1">ACTIVE</span>);<span class="pl-k">return</span> selected<span class="pl-k">&amp;&amp;</span><span class="pl-smi">selected</span>.<span class="pl-c1">length</span><span class="pl-k">&amp;&amp;</span><span class="pl-smi">$</span>.<span class="pl-c1">data</span>(selected[<span class="pl-c1">0</span>],<span class="pl-s"><span class="pl-pds">&quot;</span>ui-autocomplete-data<span class="pl-pds">&quot;</span></span>);},<span class="pl-en">emptyList</span><span class="pl-k">:</span><span class="pl-k">function</span>(){list<span class="pl-k">&amp;&amp;</span><span class="pl-smi">list</span>.<span class="pl-en">empty</span>();},<span class="pl-en">unbind</span><span class="pl-k">:</span><span class="pl-k">function</span>(){element<span class="pl-k">&amp;&amp;</span><span class="pl-smi">element</span>.<span class="pl-en">remove</span>();}};};<span class="pl-c1">$.Autocompleter</span>.<span class="pl-en">Selection</span><span class="pl-k">=</span><span class="pl-k">function</span>(<span class="pl-smi">field</span>,<span class="pl-smi">start</span>,<span class="pl-smi">end</span>){<span class="pl-k">if</span>(<span class="pl-smi">field</span>.<span class="pl-smi">createTextRange</span>){<span class="pl-k">var</span> selRange<span class="pl-k">=</span><span class="pl-smi">field</span>.<span class="pl-en">createTextRange</span>();<span class="pl-smi">selRange</span>.<span class="pl-en">collapse</span>(<span class="pl-c1">true</span>);<span class="pl-smi">selRange</span>.<span class="pl-en">moveStart</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>character<span class="pl-pds">&quot;</span></span>,start);<span class="pl-smi">selRange</span>.<span class="pl-en">moveEnd</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>character<span class="pl-pds">&quot;</span></span>,end);<span class="pl-smi">selRange</span>.<span class="pl-c1">select</span>();}<span class="pl-k">else</span> <span class="pl-k">if</span>(<span class="pl-smi">field</span>.<span class="pl-smi">setSelectionRange</span>){<span class="pl-smi">field</span>.<span class="pl-en">setSelectionRange</span>(start,end);}<span class="pl-k">else</span>{<span class="pl-k">if</span>(<span class="pl-smi">field</span>.<span class="pl-smi">selectionStart</span>){<span class="pl-smi">field</span>.<span class="pl-smi">selectionStart</span><span class="pl-k">=</span>start;<span class="pl-smi">field</span>.<span class="pl-smi">selectionEnd</span><span class="pl-k">=</span>end;}}</td>
      </tr>
      <tr>
        <td id="L80" class="blob-num js-line-number" data-line-number="80"></td>
        <td id="LC80" class="blob-code blob-code-inner js-file-line">field.focus();};})(jQuery);(function($){var PROP_NAME=&#39;datepicker&#39;;function Datepicker(){this.debug=false;this._curInst=null;this._disabledInputs=[];this._datepickerShowing=false;this._inDialog=false;this._mainDivId=&#39;ui-datepicker-div&#39;;this._inlineClass=&#39;ui-datepicker-inline&#39;;this._appendClass=&#39;ui-datepicker-append&#39;;this._triggerClass=&#39;ui-datepicker-trigger&#39;;this._dialogClass=&#39;ui-datepicker-dialog&#39;;this._promptClass=&#39;ui-datepicker-prompt&#39;;this._disableClass=&#39;ui-datepicker-disabled&#39;;this._unselectableClass=&#39;ui-datepicker-unselectable&#39;;this._currentClass=&#39;ui-datepicker-current-day&#39;;this.regional=[];this.regional[&#39;&#39;]={clearText:&#39;Clear&#39;,clearStatus:&#39;Erase the current date&#39;,closeText:&#39;Close&#39;,closeStatus:&#39;Close without change&#39;,prevText:&#39;&amp;#x3c;Prev&#39;,prevStatus:&#39;Show the previous month&#39;,prevBigText:&#39;&amp;#x3c;&amp;#x3c;&#39;,prevBigStatus:&#39;Show the previous year&#39;,nextText:&#39;Next&amp;#x3e;&#39;,nextStatus:&#39;Show the next month&#39;,nextBigText:&#39;&amp;#x3e;&amp;#x3e;&#39;,nextBigStatus:&#39;Show the next year&#39;,currentText:&#39;Today&#39;,currentStatus:&#39;Show the current month&#39;,monthNames:[&#39;January&#39;,&#39;February&#39;,&#39;March&#39;,&#39;April&#39;,&#39;May&#39;,&#39;June&#39;,&#39;July&#39;,&#39;August&#39;,&#39;September&#39;,&#39;October&#39;,&#39;November&#39;,&#39;December&#39;],monthNamesShort:[&#39;Jan&#39;,&#39;Feb&#39;,&#39;Mar&#39;,&#39;Apr&#39;,&#39;May&#39;,&#39;Jun&#39;,&#39;Jul&#39;,&#39;Aug&#39;,&#39;Sep&#39;,&#39;Oct&#39;,&#39;Nov&#39;,&#39;Dec&#39;],monthStatus:&#39;Show a different month&#39;,yearStatus:&#39;Show a different year&#39;,weekHeader:&#39;Wk&#39;,weekStatus:&#39;Week of the year&#39;,dayNames:[&#39;Sunday&#39;,&#39;Monday&#39;,&#39;Tuesday&#39;,&#39;Wednesday&#39;,&#39;Thursday&#39;,&#39;Friday&#39;,&#39;Saturday&#39;],dayNamesShort:[&#39;Sun&#39;,&#39;Mon&#39;,&#39;Tue&#39;,&#39;Wed&#39;,&#39;Thu&#39;,&#39;Fri&#39;,&#39;Sat&#39;],dayNamesMin:[&#39;Su&#39;,&#39;Mo&#39;,&#39;Tu&#39;,&#39;We&#39;,&#39;Th&#39;,&#39;Fr&#39;,&#39;Sa&#39;],dayStatus:&#39;Set DD as first week day&#39;,dateStatus:&#39;Select DD, M d&#39;,dateFormat:&#39;mm/dd/yy&#39;,firstDay:0,initStatus:&#39;Select a date&#39;,isRTL:false};this._defaults={showOn:&#39;focus&#39;,showAnim:&#39;show&#39;,showOptions:{},defaultDate:null,appendText:&#39;&#39;,buttonText:&#39;...&#39;,buttonImage:&#39;&#39;,buttonImageOnly:false,closeAtTop:true,mandatory:false,hideIfNoPrevNext:false,navigationAsDateFormat:false,showBigPrevNext:false,gotoCurrent:false,changeMonth:true,changeYear:true,showMonthAfterYear:false,yearRange:&#39;-10:+10&#39;,changeFirstDay:true,highlightWeek:false,showOtherMonths:false,showWeeks:false,calculateWeek:this.iso8601Week,shortYearCutoff:&#39;+10&#39;,showStatus:false,statusForDate:this.dateStatus,minDate:null,maxDate:null,duration:&#39;normal&#39;,beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,rangeSelect:false,rangeSeparator:&#39; - &#39;,altField:&#39;&#39;,altFormat:&#39;&#39;};$.extend(this._defaults,this.regional[&#39;&#39;]);this.dpDiv=$(&#39;&lt;div id=&quot;&#39;+this._mainDivId+&#39;&quot; style=&quot;display: none;&quot;&gt;&lt;/div&gt;&#39;);}</td>
      </tr>
      <tr>
        <td id="L81" class="blob-num js-line-number" data-line-number="81"></td>
        <td id="LC81" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">$</span>.<span class="pl-en">extend</span>(<span class="pl-smi">Datepicker</span>.<span class="pl-c1">prototype</span>,{markerClassName<span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span>hasDatepicker<span class="pl-pds">&#39;</span></span>,<span class="pl-en">log</span><span class="pl-k">:</span><span class="pl-k">function</span>(){<span class="pl-k">if</span>(<span class="pl-v">this</span>.<span class="pl-smi">debug</span>)</td>
      </tr>
      <tr>
        <td id="L82" class="blob-num js-line-number" data-line-number="82"></td>
        <td id="LC82" class="blob-code blob-code-inner js-file-line"><span class="pl-en">console</span>.<span class="pl-smi">log</span>.<span class="pl-c1">apply</span>(<span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-pds">&#39;</span></span>,arguments);},<span class="pl-en">setDefaults</span><span class="pl-k">:</span><span class="pl-k">function</span>(<span class="pl-smi">settings</span>){<span class="pl-en">extendRemove</span>(<span class="pl-v">this</span>.<span class="pl-smi">_defaults</span>,settings<span class="pl-k">||</span>{});<span class="pl-k">return</span> <span class="pl-v">this</span>;},<span class="pl-en">_attachDatepicker</span><span class="pl-k">:</span><span class="pl-k">function</span>(<span class="pl-smi">target</span>,<span class="pl-smi">settings</span>){<span class="pl-k">var</span> inlineSettings<span class="pl-k">=</span><span class="pl-c1">null</span>;<span class="pl-k">for</span>(attrName <span class="pl-k">in</span> <span class="pl-v">this</span>.<span class="pl-smi">_defaults</span>){<span class="pl-k">var</span> attrValue<span class="pl-k">=</span><span class="pl-smi">target</span>.<span class="pl-c1">getAttribute</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>date:<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span>attrName);<span class="pl-k">if</span>(attrValue){inlineSettings<span class="pl-k">=</span>inlineSettings<span class="pl-k">||</span>{};<span class="pl-k">try</span>{inlineSettings[attrName]<span class="pl-k">=</span><span class="pl-c1">eval</span>(attrValue);}<span class="pl-k">catch</span>(err){inlineSettings[attrName]<span class="pl-k">=</span>attrValue;}}}</td>
      </tr>
      <tr>
        <td id="L83" class="blob-num js-line-number" data-line-number="83"></td>
        <td id="LC83" class="blob-code blob-code-inner js-file-line"><span class="pl-k">var</span> nodeName<span class="pl-k">=</span><span class="pl-smi">target</span>.<span class="pl-c1">nodeName</span>.<span class="pl-c1">toLowerCase</span>();<span class="pl-k">var</span> inline<span class="pl-k">=</span>(nodeName<span class="pl-k">==</span><span class="pl-s"><span class="pl-pds">&#39;</span>div<span class="pl-pds">&#39;</span></span><span class="pl-k">||</span>nodeName<span class="pl-k">==</span><span class="pl-s"><span class="pl-pds">&#39;</span>span<span class="pl-pds">&#39;</span></span>);<span class="pl-k">if</span>(<span class="pl-k">!</span><span class="pl-smi">target</span>.<span class="pl-c1">id</span>)</td>
      </tr>
      <tr>
        <td id="L84" class="blob-num js-line-number" data-line-number="84"></td>
        <td id="LC84" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">target</span>.<span class="pl-c1">id</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">&#39;</span>dp<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span>(<span class="pl-k">++</span><span class="pl-v">this</span>.<span class="pl-smi">uuid</span>);<span class="pl-k">var</span> inst<span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-en">_newInst</span>(<span class="pl-en">$</span>(target),inline);<span class="pl-smi">inst</span>.<span class="pl-smi">settings</span><span class="pl-k">=</span><span class="pl-smi">$</span>.<span class="pl-en">extend</span>({},settings<span class="pl-k">||</span>{},inlineSettings<span class="pl-k">||</span>{});<span class="pl-k">if</span>(nodeName<span class="pl-k">==</span><span class="pl-s"><span class="pl-pds">&#39;</span>input<span class="pl-pds">&#39;</span></span>){<span class="pl-v">this</span>.<span class="pl-en">_connectDatepicker</span>(target,inst);}<span class="pl-k">else</span> <span class="pl-k">if</span>(inline){<span class="pl-v">this</span>.<span class="pl-en">_inlineDatepicker</span>(target,inst);}},<span class="pl-en">_newInst</span><span class="pl-k">:</span><span class="pl-k">function</span>(<span class="pl-smi">target</span>,<span class="pl-smi">inline</span>){<span class="pl-k">var</span> id<span class="pl-k">=</span>target[<span class="pl-c1">0</span>].<span class="pl-c1">id</span>.<span class="pl-c1">replace</span>(<span class="pl-sr"><span class="pl-pds">/</span>(<span class="pl-c1">[:<span class="pl-cce">\[\]\.</span>]</span>)<span class="pl-pds">/</span>g</span>,<span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-cce">\\\\</span>$1<span class="pl-pds">&#39;</span></span>);<span class="pl-k">return</span>{id<span class="pl-k">:</span>id,input<span class="pl-k">:</span>target,selectedDay<span class="pl-k">:</span><span class="pl-c1">0</span>,selectedMonth<span class="pl-k">:</span><span class="pl-c1">0</span>,selectedYear<span class="pl-k">:</span><span class="pl-c1">0</span>,drawMonth<span class="pl-k">:</span><span class="pl-c1">0</span>,drawYear<span class="pl-k">:</span><span class="pl-c1">0</span>,inline<span class="pl-k">:</span>inline,dpDiv<span class="pl-k">:</span>(<span class="pl-k">!</span>inline<span class="pl-k">?</span><span class="pl-v">this</span>.<span class="pl-smi">dpDiv</span><span class="pl-k">:</span><span class="pl-en">$</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>&lt;div class=&quot;<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span><span class="pl-v">this</span>.<span class="pl-smi">_inlineClass</span><span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>&quot;&gt;&lt;/div&gt;<span class="pl-pds">&#39;</span></span>))};},<span class="pl-en">_connectDatepicker</span><span class="pl-k">:</span><span class="pl-k">function</span>(<span class="pl-smi">target</span>,<span class="pl-smi">inst</span>){<span class="pl-k">var</span> input<span class="pl-k">=</span><span class="pl-en">$</span>(target);<span class="pl-k">if</span>(<span class="pl-smi">input</span>.<span class="pl-en">hasClass</span>(<span class="pl-v">this</span>.<span class="pl-smi">markerClassName</span>))</td>
      </tr>
      <tr>
        <td id="L85" class="blob-num js-line-number" data-line-number="85"></td>
        <td id="LC85" class="blob-code blob-code-inner js-file-line"><span class="pl-k">return</span>;<span class="pl-k">var</span> appendText<span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>appendText<span class="pl-pds">&#39;</span></span>);<span class="pl-k">var</span> isRTL<span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>isRTL<span class="pl-pds">&#39;</span></span>);<span class="pl-k">if</span>(appendText)</td>
      </tr>
      <tr>
        <td id="L86" class="blob-num js-line-number" data-line-number="86"></td>
        <td id="LC86" class="blob-code blob-code-inner js-file-line">input[isRTL<span class="pl-k">?</span><span class="pl-s"><span class="pl-pds">&#39;</span>before<span class="pl-pds">&#39;</span></span><span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span>after<span class="pl-pds">&#39;</span></span>](<span class="pl-s"><span class="pl-pds">&#39;</span>&lt;span class=&quot;<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span><span class="pl-v">this</span>.<span class="pl-smi">_appendClass</span><span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>&quot;&gt;<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span>appendText<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>&lt;/span&gt;<span class="pl-pds">&#39;</span></span>);<span class="pl-k">var</span> showOn<span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>showOn<span class="pl-pds">&#39;</span></span>);<span class="pl-k">if</span>(showOn<span class="pl-k">==</span><span class="pl-s"><span class="pl-pds">&#39;</span>focus<span class="pl-pds">&#39;</span></span><span class="pl-k">||</span>showOn<span class="pl-k">==</span><span class="pl-s"><span class="pl-pds">&#39;</span>both<span class="pl-pds">&#39;</span></span>)</td>
      </tr>
      <tr>
        <td id="L87" class="blob-num js-line-number" data-line-number="87"></td>
        <td id="LC87" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">input</span>.<span class="pl-c1">focus</span>(<span class="pl-v">this</span>.<span class="pl-smi">_showDatepicker</span>);<span class="pl-k">if</span>(showOn<span class="pl-k">==</span><span class="pl-s"><span class="pl-pds">&#39;</span>button<span class="pl-pds">&#39;</span></span><span class="pl-k">||</span>showOn<span class="pl-k">==</span><span class="pl-s"><span class="pl-pds">&#39;</span>both<span class="pl-pds">&#39;</span></span>){<span class="pl-k">var</span> buttonText<span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>buttonText<span class="pl-pds">&#39;</span></span>);<span class="pl-k">var</span> buttonImage<span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>buttonImage<span class="pl-pds">&#39;</span></span>);<span class="pl-k">var</span> trigger<span class="pl-k">=</span><span class="pl-en">$</span>(<span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>buttonImageOnly<span class="pl-pds">&#39;</span></span>)<span class="pl-k">?</span><span class="pl-en">$</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>&lt;img/&gt;<span class="pl-pds">&#39;</span></span>).<span class="pl-en">addClass</span>(<span class="pl-v">this</span>.<span class="pl-smi">_triggerClass</span>).<span class="pl-en">attr</span>({src<span class="pl-k">:</span>buttonImage,alt<span class="pl-k">:</span>buttonText,title<span class="pl-k">:</span>buttonText})<span class="pl-k">:</span><span class="pl-en">$</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>&lt;button type=&quot;button&quot;&gt;&lt;/button&gt;<span class="pl-pds">&#39;</span></span>).<span class="pl-en">addClass</span>(<span class="pl-v">this</span>.<span class="pl-smi">_triggerClass</span>).<span class="pl-en">html</span>(buttonImage<span class="pl-k">==</span><span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-pds">&#39;</span></span><span class="pl-k">?</span>buttonText<span class="pl-k">:</span><span class="pl-en">$</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>&lt;img/&gt;<span class="pl-pds">&#39;</span></span>).<span class="pl-en">attr</span>({src<span class="pl-k">:</span>buttonImage,alt<span class="pl-k">:</span>buttonText,title<span class="pl-k">:</span>buttonText})));input[isRTL<span class="pl-k">?</span><span class="pl-s"><span class="pl-pds">&#39;</span>before<span class="pl-pds">&#39;</span></span><span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span>after<span class="pl-pds">&#39;</span></span>](trigger);<span class="pl-smi">trigger</span>.<span class="pl-c1">click</span>(<span class="pl-k">function</span>(){<span class="pl-k">if</span>(<span class="pl-smi">$</span>.<span class="pl-smi">datepicker</span>.<span class="pl-smi">_datepickerShowing</span><span class="pl-k">&amp;&amp;</span><span class="pl-smi">$</span>.<span class="pl-smi">datepicker</span>.<span class="pl-smi">_lastInput</span><span class="pl-k">==</span>target)</td>
      </tr>
      <tr>
        <td id="L88" class="blob-num js-line-number" data-line-number="88"></td>
        <td id="LC88" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">$</span>.<span class="pl-smi">datepicker</span>.<span class="pl-en">_hideDatepicker</span>();<span class="pl-k">else</span></td>
      </tr>
      <tr>
        <td id="L89" class="blob-num js-line-number" data-line-number="89"></td>
        <td id="LC89" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">$</span>.<span class="pl-smi">datepicker</span>.<span class="pl-en">_showDatepicker</span>(target);<span class="pl-k">return</span> <span class="pl-c1">false</span>;});}</td>
      </tr>
      <tr>
        <td id="L90" class="blob-num js-line-number" data-line-number="90"></td>
        <td id="LC90" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">input</span>.<span class="pl-en">addClass</span>(<span class="pl-v">this</span>.<span class="pl-smi">markerClassName</span>).<span class="pl-en">keydown</span>(<span class="pl-v">this</span>.<span class="pl-smi">_doKeyDown</span>).<span class="pl-en">keypress</span>(<span class="pl-v">this</span>.<span class="pl-smi">_doKeyPress</span>).<span class="pl-en">bind</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>setData.datepicker<span class="pl-pds">&quot;</span></span>,<span class="pl-k">function</span>(<span class="pl-smi">event</span>,<span class="pl-smi">key</span>,<span class="pl-smi">value</span>){<span class="pl-smi">inst</span>.<span class="pl-smi">settings</span>[key]<span class="pl-k">=</span>value;}).<span class="pl-en">bind</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>getData.datepicker<span class="pl-pds">&quot;</span></span>,<span class="pl-k">function</span>(<span class="pl-smi">event</span>,<span class="pl-smi">key</span>){<span class="pl-k">return</span> <span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,key);});<span class="pl-smi">$</span>.<span class="pl-c1">data</span>(target,<span class="pl-c1">PROP_NAME</span>,inst);},<span class="pl-en">_inlineDatepicker</span><span class="pl-k">:</span><span class="pl-k">function</span>(<span class="pl-smi">target</span>,<span class="pl-smi">inst</span>){<span class="pl-k">var</span> divSpan<span class="pl-k">=</span><span class="pl-en">$</span>(target);<span class="pl-k">if</span>(<span class="pl-smi">divSpan</span>.<span class="pl-en">hasClass</span>(<span class="pl-v">this</span>.<span class="pl-smi">markerClassName</span>))</td>
      </tr>
      <tr>
        <td id="L91" class="blob-num js-line-number" data-line-number="91"></td>
        <td id="LC91" class="blob-code blob-code-inner js-file-line"><span class="pl-k">return</span>;<span class="pl-smi">divSpan</span>.<span class="pl-en">addClass</span>(<span class="pl-v">this</span>.<span class="pl-smi">markerClassName</span>).<span class="pl-en">append</span>(<span class="pl-smi">inst</span>.<span class="pl-smi">dpDiv</span>).<span class="pl-en">bind</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>setData.datepicker<span class="pl-pds">&quot;</span></span>,<span class="pl-k">function</span>(<span class="pl-smi">event</span>,<span class="pl-smi">key</span>,<span class="pl-smi">value</span>){<span class="pl-smi">inst</span>.<span class="pl-smi">settings</span>[key]<span class="pl-k">=</span>value;}).<span class="pl-en">bind</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>getData.datepicker<span class="pl-pds">&quot;</span></span>,<span class="pl-k">function</span>(<span class="pl-smi">event</span>,<span class="pl-smi">key</span>){<span class="pl-k">return</span> <span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,key);});<span class="pl-smi">$</span>.<span class="pl-c1">data</span>(target,<span class="pl-c1">PROP_NAME</span>,inst);<span class="pl-v">this</span>.<span class="pl-en">_setDate</span>(inst,<span class="pl-v">this</span>.<span class="pl-en">_getDefaultDate</span>(inst));<span class="pl-v">this</span>.<span class="pl-en">_updateDatepicker</span>(inst);},<span class="pl-en">_inlineShow</span><span class="pl-k">:</span><span class="pl-k">function</span>(<span class="pl-smi">inst</span>){<span class="pl-k">var</span> numMonths<span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-en">_getNumberOfMonths</span>(inst);<span class="pl-smi">inst</span>.<span class="pl-smi">dpDiv</span>.<span class="pl-c1">width</span>(numMonths[<span class="pl-c1">1</span>]<span class="pl-k">*</span><span class="pl-en">$</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>.ui-datepicker<span class="pl-pds">&#39;</span></span>,<span class="pl-smi">inst</span>.<span class="pl-smi">dpDiv</span>[<span class="pl-c1">0</span>]).<span class="pl-c1">width</span>());},<span class="pl-en">_dialogDatepicker</span><span class="pl-k">:</span><span class="pl-k">function</span>(<span class="pl-smi">input</span>,<span class="pl-smi">dateText</span>,<span class="pl-smi">onSelect</span>,<span class="pl-smi">settings</span>,<span class="pl-smi">pos</span>){<span class="pl-k">var</span> inst<span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-smi">_dialogInst</span>;<span class="pl-k">if</span>(<span class="pl-k">!</span>inst){<span class="pl-k">var</span> id<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">&#39;</span>dp<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span>(<span class="pl-k">++</span><span class="pl-v">this</span>.<span class="pl-smi">uuid</span>);<span class="pl-v">this</span>.<span class="pl-smi">_dialogInput</span><span class="pl-k">=</span><span class="pl-en">$</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>&lt;input type=&quot;text&quot; id=&quot;<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span>id<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>&quot; size=&quot;1&quot; style=&quot;position: absolute; top: -100px;&quot;/&gt;<span class="pl-pds">&#39;</span></span>);<span class="pl-v">this</span>.<span class="pl-smi">_dialogInput</span>.<span class="pl-en">keydown</span>(<span class="pl-v">this</span>.<span class="pl-smi">_doKeyDown</span>);<span class="pl-en">$</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>body<span class="pl-pds">&#39;</span></span>).<span class="pl-en">append</span>(<span class="pl-v">this</span>.<span class="pl-smi">_dialogInput</span>);inst<span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-smi">_dialogInst</span><span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-en">_newInst</span>(<span class="pl-v">this</span>.<span class="pl-smi">_dialogInput</span>,<span class="pl-c1">false</span>);<span class="pl-smi">inst</span>.<span class="pl-smi">settings</span><span class="pl-k">=</span>{};<span class="pl-smi">$</span>.<span class="pl-c1">data</span>(<span class="pl-v">this</span>.<span class="pl-smi">_dialogInput</span>[<span class="pl-c1">0</span>],<span class="pl-c1">PROP_NAME</span>,inst);}</td>
      </tr>
      <tr>
        <td id="L92" class="blob-num js-line-number" data-line-number="92"></td>
        <td id="LC92" class="blob-code blob-code-inner js-file-line"><span class="pl-en">extendRemove</span>(<span class="pl-smi">inst</span>.<span class="pl-smi">settings</span>,settings<span class="pl-k">||</span>{});<span class="pl-v">this</span>.<span class="pl-smi">_dialogInput</span>.<span class="pl-en">val</span>(dateText);<span class="pl-v">this</span>.<span class="pl-smi">_pos</span><span class="pl-k">=</span>(pos<span class="pl-k">?</span>(<span class="pl-smi">pos</span>.<span class="pl-c1">length</span><span class="pl-k">?</span>pos<span class="pl-k">:</span>[<span class="pl-smi">pos</span>.<span class="pl-c1">pageX</span>,<span class="pl-smi">pos</span>.<span class="pl-c1">pageY</span>])<span class="pl-k">:</span><span class="pl-c1">null</span>);<span class="pl-k">if</span>(<span class="pl-k">!</span><span class="pl-v">this</span>.<span class="pl-smi">_pos</span>){<span class="pl-k">var</span> browserWidth<span class="pl-k">=</span><span class="pl-smi">window</span>.<span class="pl-c1">innerWidth</span><span class="pl-k">||</span><span class="pl-smi">document</span>.<span class="pl-c1">documentElement</span>.<span class="pl-smi">clientWidth</span><span class="pl-k">||</span><span class="pl-smi">document</span>.<span class="pl-c1">body</span>.<span class="pl-smi">clientWidth</span>;<span class="pl-k">var</span> browserHeight<span class="pl-k">=</span><span class="pl-smi">window</span>.<span class="pl-c1">innerHeight</span><span class="pl-k">||</span><span class="pl-smi">document</span>.<span class="pl-c1">documentElement</span>.<span class="pl-smi">clientHeight</span><span class="pl-k">||</span><span class="pl-smi">document</span>.<span class="pl-c1">body</span>.<span class="pl-smi">clientHeight</span>;<span class="pl-k">var</span> scrollX<span class="pl-k">=</span><span class="pl-smi">document</span>.<span class="pl-c1">documentElement</span>.<span class="pl-smi">scrollLeft</span><span class="pl-k">||</span><span class="pl-smi">document</span>.<span class="pl-c1">body</span>.<span class="pl-smi">scrollLeft</span>;<span class="pl-k">var</span> scrollY<span class="pl-k">=</span><span class="pl-smi">document</span>.<span class="pl-c1">documentElement</span>.<span class="pl-smi">scrollTop</span><span class="pl-k">||</span><span class="pl-smi">document</span>.<span class="pl-c1">body</span>.<span class="pl-smi">scrollTop</span>;<span class="pl-v">this</span>.<span class="pl-smi">_pos</span><span class="pl-k">=</span>[(browserWidth<span class="pl-k">/</span><span class="pl-c1">2</span>)<span class="pl-k">-</span><span class="pl-c1">100</span><span class="pl-k">+</span>scrollX,(browserHeight<span class="pl-k">/</span><span class="pl-c1">2</span>)<span class="pl-k">-</span><span class="pl-c1">150</span><span class="pl-k">+</span>scrollY];}</td>
      </tr>
      <tr>
        <td id="L93" class="blob-num js-line-number" data-line-number="93"></td>
        <td id="LC93" class="blob-code blob-code-inner js-file-line"><span class="pl-v">this</span>.<span class="pl-smi">_dialogInput</span>.<span class="pl-en">css</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>left<span class="pl-pds">&#39;</span></span>,<span class="pl-v">this</span>.<span class="pl-smi">_pos</span>[<span class="pl-c1">0</span>]<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>px<span class="pl-pds">&#39;</span></span>).<span class="pl-en">css</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>top<span class="pl-pds">&#39;</span></span>,<span class="pl-v">this</span>.<span class="pl-smi">_pos</span>[<span class="pl-c1">1</span>]<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>px<span class="pl-pds">&#39;</span></span>);<span class="pl-smi">inst</span>.<span class="pl-smi">settings</span>.<span class="pl-smi">onSelect</span><span class="pl-k">=</span><span class="pl-c1">onSelect</span>;<span class="pl-v">this</span>.<span class="pl-smi">_inDialog</span><span class="pl-k">=</span><span class="pl-c1">true</span>;<span class="pl-v">this</span>.<span class="pl-smi">dpDiv</span>.<span class="pl-en">addClass</span>(<span class="pl-v">this</span>.<span class="pl-smi">_dialogClass</span>);<span class="pl-v">this</span>.<span class="pl-en">_showDatepicker</span>(<span class="pl-v">this</span>.<span class="pl-smi">_dialogInput</span>[<span class="pl-c1">0</span>]);<span class="pl-k">if</span>(<span class="pl-smi">$</span>.<span class="pl-smi">blockUI</span>)</td>
      </tr>
      <tr>
        <td id="L94" class="blob-num js-line-number" data-line-number="94"></td>
        <td id="LC94" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">$</span>.<span class="pl-en">blockUI</span>(<span class="pl-v">this</span>.<span class="pl-smi">dpDiv</span>);<span class="pl-smi">$</span>.<span class="pl-c1">data</span>(<span class="pl-v">this</span>.<span class="pl-smi">_dialogInput</span>[<span class="pl-c1">0</span>],<span class="pl-c1">PROP_NAME</span>,inst);<span class="pl-k">return</span> <span class="pl-v">this</span>;},<span class="pl-en">_destroyDatepicker</span><span class="pl-k">:</span><span class="pl-k">function</span>(<span class="pl-smi">target</span>){<span class="pl-k">var</span> $target<span class="pl-k">=</span><span class="pl-en">$</span>(target);<span class="pl-k">if</span>(<span class="pl-k">!</span><span class="pl-smi">$target</span>.<span class="pl-en">hasClass</span>(<span class="pl-v">this</span>.<span class="pl-smi">markerClassName</span>)){<span class="pl-k">return</span>;}</td>
      </tr>
      <tr>
        <td id="L95" class="blob-num js-line-number" data-line-number="95"></td>
        <td id="LC95" class="blob-code blob-code-inner js-file-line"><span class="pl-k">var</span> nodeName<span class="pl-k">=</span><span class="pl-smi">target</span>.<span class="pl-c1">nodeName</span>.<span class="pl-c1">toLowerCase</span>();<span class="pl-smi">$</span>.<span class="pl-en">removeData</span>(target,<span class="pl-c1">PROP_NAME</span>);<span class="pl-k">if</span>(nodeName<span class="pl-k">==</span><span class="pl-s"><span class="pl-pds">&#39;</span>input<span class="pl-pds">&#39;</span></span>){<span class="pl-smi">$target</span>.<span class="pl-en">siblings</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>.<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span><span class="pl-v">this</span>.<span class="pl-smi">_appendClass</span>).<span class="pl-en">remove</span>().<span class="pl-en">end</span>().<span class="pl-en">siblings</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>.<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span><span class="pl-v">this</span>.<span class="pl-smi">_triggerClass</span>).<span class="pl-en">remove</span>().<span class="pl-en">end</span>().<span class="pl-en">removeClass</span>(<span class="pl-v">this</span>.<span class="pl-smi">markerClassName</span>).<span class="pl-en">unbind</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>focus<span class="pl-pds">&#39;</span></span>,<span class="pl-v">this</span>.<span class="pl-smi">_showDatepicker</span>).<span class="pl-en">unbind</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>keydown<span class="pl-pds">&#39;</span></span>,<span class="pl-v">this</span>.<span class="pl-smi">_doKeyDown</span>).<span class="pl-en">unbind</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>keypress<span class="pl-pds">&#39;</span></span>,<span class="pl-v">this</span>.<span class="pl-smi">_doKeyPress</span>);}<span class="pl-k">else</span> <span class="pl-k">if</span>(nodeName<span class="pl-k">==</span><span class="pl-s"><span class="pl-pds">&#39;</span>div<span class="pl-pds">&#39;</span></span><span class="pl-k">||</span>nodeName<span class="pl-k">==</span><span class="pl-s"><span class="pl-pds">&#39;</span>span<span class="pl-pds">&#39;</span></span>)</td>
      </tr>
      <tr>
        <td id="L96" class="blob-num js-line-number" data-line-number="96"></td>
        <td id="LC96" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">$target</span>.<span class="pl-en">removeClass</span>(<span class="pl-v">this</span>.<span class="pl-smi">markerClassName</span>).<span class="pl-en">empty</span>();},<span class="pl-en">_enableDatepicker</span><span class="pl-k">:</span><span class="pl-k">function</span>(<span class="pl-smi">target</span>){<span class="pl-k">var</span> $target<span class="pl-k">=</span><span class="pl-en">$</span>(target);<span class="pl-k">if</span>(<span class="pl-k">!</span><span class="pl-smi">$target</span>.<span class="pl-en">hasClass</span>(<span class="pl-v">this</span>.<span class="pl-smi">markerClassName</span>)){<span class="pl-k">return</span>;}</td>
      </tr>
      <tr>
        <td id="L97" class="blob-num js-line-number" data-line-number="97"></td>
        <td id="LC97" class="blob-code blob-code-inner js-file-line"><span class="pl-k">var</span> nodeName<span class="pl-k">=</span><span class="pl-smi">target</span>.<span class="pl-c1">nodeName</span>.<span class="pl-c1">toLowerCase</span>();<span class="pl-k">if</span>(nodeName<span class="pl-k">==</span><span class="pl-s"><span class="pl-pds">&#39;</span>input<span class="pl-pds">&#39;</span></span>){<span class="pl-smi">target</span>.<span class="pl-c1">disabled</span><span class="pl-k">=</span><span class="pl-c1">false</span>;<span class="pl-smi">$target</span>.<span class="pl-en">siblings</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>button.<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span><span class="pl-v">this</span>.<span class="pl-smi">_triggerClass</span>).<span class="pl-en">each</span>(<span class="pl-k">function</span>(){<span class="pl-v">this</span>.<span class="pl-c1">disabled</span><span class="pl-k">=</span><span class="pl-c1">false</span>;}).<span class="pl-en">end</span>().<span class="pl-en">siblings</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>img.<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span><span class="pl-v">this</span>.<span class="pl-smi">_triggerClass</span>).<span class="pl-en">css</span>({opacity<span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span>1.0<span class="pl-pds">&#39;</span></span>,cursor<span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-pds">&#39;</span></span>});}</td>
      </tr>
      <tr>
        <td id="L98" class="blob-num js-line-number" data-line-number="98"></td>
        <td id="LC98" class="blob-code blob-code-inner js-file-line"><span class="pl-k">else</span> <span class="pl-k">if</span>(nodeName<span class="pl-k">==</span><span class="pl-s"><span class="pl-pds">&#39;</span>div<span class="pl-pds">&#39;</span></span><span class="pl-k">||</span>nodeName<span class="pl-k">==</span><span class="pl-s"><span class="pl-pds">&#39;</span>span<span class="pl-pds">&#39;</span></span>){<span class="pl-smi">$target</span>.<span class="pl-en">children</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>.<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span><span class="pl-v">this</span>.<span class="pl-smi">_disableClass</span>).<span class="pl-en">remove</span>();}</td>
      </tr>
      <tr>
        <td id="L99" class="blob-num js-line-number" data-line-number="99"></td>
        <td id="LC99" class="blob-code blob-code-inner js-file-line"><span class="pl-v">this</span>.<span class="pl-smi">_disabledInputs</span><span class="pl-k">=</span><span class="pl-smi">$</span>.<span class="pl-en">map</span>(<span class="pl-v">this</span>.<span class="pl-smi">_disabledInputs</span>,<span class="pl-k">function</span>(<span class="pl-smi">value</span>){<span class="pl-k">return</span>(value<span class="pl-k">==</span>target<span class="pl-k">?</span><span class="pl-c1">null</span><span class="pl-k">:</span>value);});},<span class="pl-en">_disableDatepicker</span><span class="pl-k">:</span><span class="pl-k">function</span>(<span class="pl-smi">target</span>){<span class="pl-k">var</span> $target<span class="pl-k">=</span><span class="pl-en">$</span>(target);<span class="pl-k">if</span>(<span class="pl-k">!</span><span class="pl-smi">$target</span>.<span class="pl-en">hasClass</span>(<span class="pl-v">this</span>.<span class="pl-smi">markerClassName</span>)){<span class="pl-k">return</span>;}</td>
      </tr>
      <tr>
        <td id="L100" class="blob-num js-line-number" data-line-number="100"></td>
        <td id="LC100" class="blob-code blob-code-inner js-file-line"><span class="pl-k">var</span> nodeName<span class="pl-k">=</span><span class="pl-smi">target</span>.<span class="pl-c1">nodeName</span>.<span class="pl-c1">toLowerCase</span>();<span class="pl-k">if</span>(nodeName<span class="pl-k">==</span><span class="pl-s"><span class="pl-pds">&#39;</span>input<span class="pl-pds">&#39;</span></span>){<span class="pl-smi">target</span>.<span class="pl-c1">disabled</span><span class="pl-k">=</span><span class="pl-c1">true</span>;<span class="pl-smi">$target</span>.<span class="pl-en">siblings</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>button.<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span><span class="pl-v">this</span>.<span class="pl-smi">_triggerClass</span>).<span class="pl-en">each</span>(<span class="pl-k">function</span>(){<span class="pl-v">this</span>.<span class="pl-c1">disabled</span><span class="pl-k">=</span><span class="pl-c1">true</span>;}).<span class="pl-en">end</span>().<span class="pl-en">siblings</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>img.<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span><span class="pl-v">this</span>.<span class="pl-smi">_triggerClass</span>).<span class="pl-en">css</span>({opacity<span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span>0.5<span class="pl-pds">&#39;</span></span>,cursor<span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span>default<span class="pl-pds">&#39;</span></span>});}</td>
      </tr>
      <tr>
        <td id="L101" class="blob-num js-line-number" data-line-number="101"></td>
        <td id="LC101" class="blob-code blob-code-inner js-file-line"><span class="pl-k">else</span> <span class="pl-k">if</span>(nodeName<span class="pl-k">==</span><span class="pl-s"><span class="pl-pds">&#39;</span>div<span class="pl-pds">&#39;</span></span><span class="pl-k">||</span>nodeName<span class="pl-k">==</span><span class="pl-s"><span class="pl-pds">&#39;</span>span<span class="pl-pds">&#39;</span></span>){<span class="pl-k">var</span> inline<span class="pl-k">=</span><span class="pl-smi">$target</span>.<span class="pl-en">children</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>.<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span><span class="pl-v">this</span>.<span class="pl-smi">_inlineClass</span>);<span class="pl-k">var</span> offset<span class="pl-k">=</span><span class="pl-smi">inline</span>.<span class="pl-en">offset</span>();<span class="pl-k">var</span> relOffset<span class="pl-k">=</span>{left<span class="pl-k">:</span><span class="pl-c1">0</span>,top<span class="pl-k">:</span><span class="pl-c1">0</span>};<span class="pl-smi">inline</span>.<span class="pl-en">parents</span>().<span class="pl-en">each</span>(<span class="pl-k">function</span>(){<span class="pl-k">if</span>(<span class="pl-en">$</span>(<span class="pl-v">this</span>).<span class="pl-en">css</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>position<span class="pl-pds">&#39;</span></span>)<span class="pl-k">==</span><span class="pl-s"><span class="pl-pds">&#39;</span>relative<span class="pl-pds">&#39;</span></span>){relOffset<span class="pl-k">=</span><span class="pl-en">$</span>(<span class="pl-v">this</span>).<span class="pl-en">offset</span>();<span class="pl-k">return</span> <span class="pl-c1">false</span>;}});<span class="pl-smi">$target</span>.<span class="pl-en">prepend</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>&lt;div class=&quot;<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span><span class="pl-v">this</span>.<span class="pl-smi">_disableClass</span><span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>&quot; style=&quot;<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span></td>
      </tr>
      <tr>
        <td id="L102" class="blob-num js-line-number" data-line-number="102"></td>
        <td id="LC102" class="blob-code blob-code-inner js-file-line">(<span class="pl-smi">$</span>.<span class="pl-smi">browser</span>.<span class="pl-smi">msie</span><span class="pl-k">?</span><span class="pl-s"><span class="pl-pds">&#39;</span>background-color: transparent; <span class="pl-pds">&#39;</span></span><span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-pds">&#39;</span></span>)<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>width: <span class="pl-pds">&#39;</span></span><span class="pl-k">+</span><span class="pl-smi">inline</span>.<span class="pl-c1">width</span>()<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>px; height: <span class="pl-pds">&#39;</span></span><span class="pl-k">+</span><span class="pl-smi">inline</span>.<span class="pl-c1">height</span>()<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>px; left: <span class="pl-pds">&#39;</span></span><span class="pl-k">+</span>(<span class="pl-smi">offset</span>.<span class="pl-c1">left</span><span class="pl-k">-</span><span class="pl-smi">relOffset</span>.<span class="pl-c1">left</span>)<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>px; top: <span class="pl-pds">&#39;</span></span><span class="pl-k">+</span>(<span class="pl-smi">offset</span>.<span class="pl-c1">top</span><span class="pl-k">-</span><span class="pl-smi">relOffset</span>.<span class="pl-c1">top</span>)<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>px;&quot;&gt;&lt;/div&gt;<span class="pl-pds">&#39;</span></span>);}</td>
      </tr>
      <tr>
        <td id="L103" class="blob-num js-line-number" data-line-number="103"></td>
        <td id="LC103" class="blob-code blob-code-inner js-file-line"><span class="pl-v">this</span>.<span class="pl-smi">_disabledInputs</span><span class="pl-k">=</span><span class="pl-smi">$</span>.<span class="pl-en">map</span>(<span class="pl-v">this</span>.<span class="pl-smi">_disabledInputs</span>,<span class="pl-k">function</span>(<span class="pl-smi">value</span>){<span class="pl-k">return</span>(value<span class="pl-k">==</span>target<span class="pl-k">?</span><span class="pl-c1">null</span><span class="pl-k">:</span>value);});<span class="pl-v">this</span>.<span class="pl-smi">_disabledInputs</span>[<span class="pl-v">this</span>.<span class="pl-smi">_disabledInputs</span>.<span class="pl-c1">length</span>]<span class="pl-k">=</span>target;},<span class="pl-en">_isDisabledDatepicker</span><span class="pl-k">:</span><span class="pl-k">function</span>(<span class="pl-smi">target</span>){<span class="pl-k">if</span>(<span class="pl-k">!</span>target)</td>
      </tr>
      <tr>
        <td id="L104" class="blob-num js-line-number" data-line-number="104"></td>
        <td id="LC104" class="blob-code blob-code-inner js-file-line"><span class="pl-k">return</span> <span class="pl-c1">false</span>;<span class="pl-k">for</span>(<span class="pl-k">var</span> i<span class="pl-k">=</span><span class="pl-c1">0</span>;i<span class="pl-k">&lt;</span><span class="pl-v">this</span>.<span class="pl-smi">_disabledInputs</span>.<span class="pl-c1">length</span>;i<span class="pl-k">++</span>){<span class="pl-k">if</span>(<span class="pl-v">this</span>.<span class="pl-smi">_disabledInputs</span>[i]<span class="pl-k">==</span>target)</td>
      </tr>
      <tr>
        <td id="L105" class="blob-num js-line-number" data-line-number="105"></td>
        <td id="LC105" class="blob-code blob-code-inner js-file-line"><span class="pl-k">return</span> <span class="pl-c1">true</span>;}</td>
      </tr>
      <tr>
        <td id="L106" class="blob-num js-line-number" data-line-number="106"></td>
        <td id="LC106" class="blob-code blob-code-inner js-file-line"><span class="pl-k">return</span> <span class="pl-c1">false</span>;},<span class="pl-en">_getInst</span><span class="pl-k">:</span><span class="pl-k">function</span>(<span class="pl-smi">target</span>){<span class="pl-k">try</span>{<span class="pl-k">return</span> <span class="pl-smi">$</span>.<span class="pl-c1">data</span>(target,<span class="pl-c1">PROP_NAME</span>);}</td>
      </tr>
      <tr>
        <td id="L107" class="blob-num js-line-number" data-line-number="107"></td>
        <td id="LC107" class="blob-code blob-code-inner js-file-line"><span class="pl-k">catch</span>(err){<span class="pl-k">throw</span><span class="pl-s"><span class="pl-pds">&#39;</span>Missing instance data for this datepicker<span class="pl-pds">&#39;</span></span>;}},<span class="pl-en">_changeDatepicker</span><span class="pl-k">:</span><span class="pl-k">function</span>(<span class="pl-smi">target</span>,<span class="pl-smi">name</span>,<span class="pl-smi">value</span>){<span class="pl-k">var</span> settings<span class="pl-k">=</span>name<span class="pl-k">||</span>{};<span class="pl-k">if</span>(<span class="pl-k">typeof</span> name<span class="pl-k">==</span><span class="pl-s"><span class="pl-pds">&#39;</span>string<span class="pl-pds">&#39;</span></span>){settings<span class="pl-k">=</span>{};settings[name]<span class="pl-k">=</span>value;}</td>
      </tr>
      <tr>
        <td id="L108" class="blob-num js-line-number" data-line-number="108"></td>
        <td id="LC108" class="blob-code blob-code-inner js-file-line"><span class="pl-k">var</span> inst<span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-en">_getInst</span>(target);<span class="pl-k">if</span>(inst){<span class="pl-k">if</span>(<span class="pl-v">this</span>.<span class="pl-smi">_curInst</span><span class="pl-k">==</span>inst){<span class="pl-v">this</span>.<span class="pl-en">_hideDatepicker</span>(<span class="pl-c1">null</span>);}</td>
      </tr>
      <tr>
        <td id="L109" class="blob-num js-line-number" data-line-number="109"></td>
        <td id="LC109" class="blob-code blob-code-inner js-file-line"><span class="pl-en">extendRemove</span>(<span class="pl-smi">inst</span>.<span class="pl-smi">settings</span>,settings);<span class="pl-k">var</span> date<span class="pl-k">=</span><span class="pl-k">new</span> <span class="pl-en">Date</span>();<span class="pl-en">extendRemove</span>(inst,{rangeStart<span class="pl-k">:</span><span class="pl-c1">null</span>,endDay<span class="pl-k">:</span><span class="pl-c1">null</span>,endMonth<span class="pl-k">:</span><span class="pl-c1">null</span>,endYear<span class="pl-k">:</span><span class="pl-c1">null</span>,selectedDay<span class="pl-k">:</span><span class="pl-smi">date</span>.<span class="pl-c1">getDate</span>(),selectedMonth<span class="pl-k">:</span><span class="pl-smi">date</span>.<span class="pl-c1">getMonth</span>(),selectedYear<span class="pl-k">:</span><span class="pl-smi">date</span>.<span class="pl-c1">getFullYear</span>(),currentDay<span class="pl-k">:</span><span class="pl-smi">date</span>.<span class="pl-c1">getDate</span>(),currentMonth<span class="pl-k">:</span><span class="pl-smi">date</span>.<span class="pl-c1">getMonth</span>(),currentYear<span class="pl-k">:</span><span class="pl-smi">date</span>.<span class="pl-c1">getFullYear</span>(),drawMonth<span class="pl-k">:</span><span class="pl-smi">date</span>.<span class="pl-c1">getMonth</span>(),drawYear<span class="pl-k">:</span><span class="pl-smi">date</span>.<span class="pl-c1">getFullYear</span>()});<span class="pl-v">this</span>.<span class="pl-en">_updateDatepicker</span>(inst);}},<span class="pl-en">_refreshDatepicker</span><span class="pl-k">:</span><span class="pl-k">function</span>(<span class="pl-smi">target</span>){<span class="pl-k">var</span> inst<span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-en">_getInst</span>(target);<span class="pl-k">if</span>(inst){<span class="pl-v">this</span>.<span class="pl-en">_updateDatepicker</span>(inst);}},<span class="pl-en">_setDateDatepicker</span><span class="pl-k">:</span><span class="pl-k">function</span>(<span class="pl-smi">target</span>,<span class="pl-smi">date</span>,<span class="pl-smi">endDate</span>){<span class="pl-k">var</span> inst<span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-en">_getInst</span>(target);<span class="pl-k">if</span>(inst){<span class="pl-v">this</span>.<span class="pl-en">_setDate</span>(inst,date,endDate);<span class="pl-v">this</span>.<span class="pl-en">_updateDatepicker</span>(inst);<span class="pl-v">this</span>.<span class="pl-en">_updateAlternate</span>(inst);}},<span class="pl-en">_getDateDatepicker</span><span class="pl-k">:</span><span class="pl-k">function</span>(<span class="pl-smi">target</span>){<span class="pl-k">var</span> inst<span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-en">_getInst</span>(target);<span class="pl-k">if</span>(inst<span class="pl-k">&amp;&amp;!</span><span class="pl-smi">inst</span>.<span class="pl-smi">inline</span>)</td>
      </tr>
      <tr>
        <td id="L110" class="blob-num js-line-number" data-line-number="110"></td>
        <td id="LC110" class="blob-code blob-code-inner js-file-line"><span class="pl-v">this</span>.<span class="pl-en">_setDateFromField</span>(inst);<span class="pl-k">return</span>(inst<span class="pl-k">?</span><span class="pl-v">this</span>.<span class="pl-en">_getDate</span>(inst)<span class="pl-k">:</span><span class="pl-c1">null</span>);},<span class="pl-en">_doKeyDown</span><span class="pl-k">:</span><span class="pl-k">function</span>(<span class="pl-smi">e</span>){<span class="pl-k">var</span> inst<span class="pl-k">=</span><span class="pl-smi">$</span>.<span class="pl-smi">datepicker</span>.<span class="pl-en">_getInst</span>(<span class="pl-smi">e</span>.<span class="pl-c1">target</span>);<span class="pl-k">var</span> handled<span class="pl-k">=</span><span class="pl-c1">true</span>;<span class="pl-k">if</span>(<span class="pl-smi">$</span>.<span class="pl-smi">datepicker</span>.<span class="pl-smi">_datepickerShowing</span>)</td>
      </tr>
      <tr>
        <td id="L111" class="blob-num js-line-number" data-line-number="111"></td>
        <td id="LC111" class="blob-code blob-code-inner js-file-line">switch(e.keyCode){case 9:$.datepicker._hideDatepicker(null,&#39;&#39;);break;case 13:$.datepicker._selectDay(e.target,inst.selectedMonth,inst.selectedYear,$(&#39;td.ui-datepicker-days-cell-over&#39;,inst.dpDiv)[0]);return false;break;case 27:$.datepicker._hideDatepicker(null,$.datepicker._get(inst,&#39;duration&#39;));break;case 33:$.datepicker._adjustDate(e.target,(e.ctrlKey?-$.datepicker._get(inst,&#39;stepBigMonths&#39;):-$.datepicker._get(inst,&#39;stepMonths&#39;)),&#39;M&#39;);break;case 34:$.datepicker._adjustDate(e.target,(e.ctrlKey?+$.datepicker._get(inst,&#39;stepBigMonths&#39;):+$.datepicker._get(inst,&#39;stepMonths&#39;)),&#39;M&#39;);break;case 35:if(e.ctrlKey)$.datepicker._clearDate(e.target);handled=e.ctrlKey;break;case 36:if(e.ctrlKey)$.datepicker._gotoToday(e.target);handled=e.ctrlKey;break;case 37:if(e.ctrlKey)$.datepicker._adjustDate(e.target,-1,&#39;D&#39;);handled=e.ctrlKey;break;case 38:if(e.ctrlKey)$.datepicker._adjustDate(e.target,-7,&#39;D&#39;);handled=e.ctrlKey;break;case 39:if(e.ctrlKey)$.datepicker._adjustDate(e.target,+1,&#39;D&#39;);handled=e.ctrlKey;break;case 40:if(e.ctrlKey)$.datepicker._adjustDate(e.target,+7,&#39;D&#39;);handled=e.ctrlKey;break;default:handled=false;}</td>
      </tr>
      <tr>
        <td id="L112" class="blob-num js-line-number" data-line-number="112"></td>
        <td id="LC112" class="blob-code blob-code-inner js-file-line"><span class="pl-k">else</span> <span class="pl-k">if</span>(<span class="pl-smi">e</span>.<span class="pl-smi">keyCode</span><span class="pl-k">==</span><span class="pl-c1">36</span><span class="pl-k">&amp;&amp;</span><span class="pl-smi">e</span>.<span class="pl-smi">ctrlKey</span>)</td>
      </tr>
      <tr>
        <td id="L113" class="blob-num js-line-number" data-line-number="113"></td>
        <td id="LC113" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">$</span>.<span class="pl-smi">datepicker</span>.<span class="pl-en">_showDatepicker</span>(<span class="pl-v">this</span>);<span class="pl-k">else</span></td>
      </tr>
      <tr>
        <td id="L114" class="blob-num js-line-number" data-line-number="114"></td>
        <td id="LC114" class="blob-code blob-code-inner js-file-line">handled<span class="pl-k">=</span><span class="pl-c1">false</span>;<span class="pl-k">if</span>(handled){<span class="pl-smi">e</span>.<span class="pl-en">preventDefault</span>();<span class="pl-smi">e</span>.<span class="pl-en">stopPropagation</span>();}},<span class="pl-en">_doKeyPress</span><span class="pl-k">:</span><span class="pl-k">function</span>(<span class="pl-smi">e</span>){<span class="pl-k">var</span> inst<span class="pl-k">=</span><span class="pl-smi">$</span>.<span class="pl-smi">datepicker</span>.<span class="pl-en">_getInst</span>(<span class="pl-smi">e</span>.<span class="pl-c1">target</span>);<span class="pl-k">var</span> chars<span class="pl-k">=</span><span class="pl-smi">$</span>.<span class="pl-smi">datepicker</span>.<span class="pl-en">_possibleChars</span>(<span class="pl-smi">$</span>.<span class="pl-smi">datepicker</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>dateFormat<span class="pl-pds">&#39;</span></span>));<span class="pl-k">var</span> chr<span class="pl-k">=</span><span class="pl-smi">String</span>.<span class="pl-c1">fromCharCode</span>(<span class="pl-smi">e</span>.<span class="pl-smi">charCode</span><span class="pl-k">==</span><span class="pl-c1">undefined</span><span class="pl-k">?</span><span class="pl-smi">e</span>.<span class="pl-smi">keyCode</span><span class="pl-k">:</span><span class="pl-smi">e</span>.<span class="pl-smi">charCode</span>);<span class="pl-k">return</span> <span class="pl-smi">e</span>.<span class="pl-smi">ctrlKey</span><span class="pl-k">||</span>(chr<span class="pl-k">&lt;</span><span class="pl-s"><span class="pl-pds">&#39;</span> <span class="pl-pds">&#39;</span></span><span class="pl-k">||!</span>chars<span class="pl-k">||</span><span class="pl-smi">chars</span>.<span class="pl-c1">indexOf</span>(chr)<span class="pl-k">&gt;</span><span class="pl-k">-</span><span class="pl-c1">1</span>);},<span class="pl-en">_showDatepicker</span><span class="pl-k">:</span><span class="pl-k">function</span>(<span class="pl-smi">input</span>){input<span class="pl-k">=</span><span class="pl-smi">input</span>.<span class="pl-c1">target</span><span class="pl-k">||</span>input;<span class="pl-k">if</span>(<span class="pl-smi">input</span>.<span class="pl-c1">nodeName</span>.<span class="pl-c1">toLowerCase</span>()<span class="pl-k">!=</span><span class="pl-s"><span class="pl-pds">&#39;</span>input<span class="pl-pds">&#39;</span></span>)</td>
      </tr>
      <tr>
        <td id="L115" class="blob-num js-line-number" data-line-number="115"></td>
        <td id="LC115" class="blob-code blob-code-inner js-file-line">input<span class="pl-k">=</span><span class="pl-en">$</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>input<span class="pl-pds">&#39;</span></span>,<span class="pl-smi">input</span>.<span class="pl-c1">parentNode</span>)[<span class="pl-c1">0</span>];<span class="pl-k">if</span>(<span class="pl-smi">$</span>.<span class="pl-smi">datepicker</span>.<span class="pl-en">_isDisabledDatepicker</span>(input)<span class="pl-k">||</span><span class="pl-smi">$</span>.<span class="pl-smi">datepicker</span>.<span class="pl-smi">_lastInput</span><span class="pl-k">==</span>input)</td>
      </tr>
      <tr>
        <td id="L116" class="blob-num js-line-number" data-line-number="116"></td>
        <td id="LC116" class="blob-code blob-code-inner js-file-line"><span class="pl-k">return</span>;<span class="pl-k">var</span> inst<span class="pl-k">=</span><span class="pl-smi">$</span>.<span class="pl-smi">datepicker</span>.<span class="pl-en">_getInst</span>(input);<span class="pl-k">var</span> beforeShow<span class="pl-k">=</span><span class="pl-smi">$</span>.<span class="pl-smi">datepicker</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>beforeShow<span class="pl-pds">&#39;</span></span>);<span class="pl-en">extendRemove</span>(<span class="pl-smi">inst</span>.<span class="pl-smi">settings</span>,(beforeShow<span class="pl-k">?</span><span class="pl-smi">beforeShow</span>.<span class="pl-c1">apply</span>(input,[input,inst])<span class="pl-k">:</span>{}));<span class="pl-smi">$</span>.<span class="pl-smi">datepicker</span>.<span class="pl-en">_hideDatepicker</span>(<span class="pl-c1">null</span>,<span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-pds">&#39;</span></span>);<span class="pl-smi">$</span>.<span class="pl-smi">datepicker</span>.<span class="pl-smi">_lastInput</span><span class="pl-k">=</span>input;<span class="pl-smi">$</span>.<span class="pl-smi">datepicker</span>.<span class="pl-en">_setDateFromField</span>(inst);<span class="pl-k">if</span>(<span class="pl-smi">$</span>.<span class="pl-smi">datepicker</span>.<span class="pl-smi">_inDialog</span>)</td>
      </tr>
      <tr>
        <td id="L117" class="blob-num js-line-number" data-line-number="117"></td>
        <td id="LC117" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">input</span>.<span class="pl-c1">value</span><span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-pds">&#39;</span></span>;<span class="pl-k">if</span>(<span class="pl-k">!</span><span class="pl-smi">$</span>.<span class="pl-smi">datepicker</span>.<span class="pl-smi">_pos</span>){<span class="pl-smi">$</span>.<span class="pl-smi">datepicker</span>.<span class="pl-smi">_pos</span><span class="pl-k">=</span><span class="pl-smi">$</span>.<span class="pl-smi">datepicker</span>.<span class="pl-en">_findPos</span>(input);<span class="pl-smi">$</span>.<span class="pl-smi">datepicker</span>.<span class="pl-smi">_pos</span>[<span class="pl-c1">1</span>]<span class="pl-k">+=</span><span class="pl-smi">input</span>.<span class="pl-smi">offsetHeight</span>;}</td>
      </tr>
      <tr>
        <td id="L118" class="blob-num js-line-number" data-line-number="118"></td>
        <td id="LC118" class="blob-code blob-code-inner js-file-line"><span class="pl-k">var</span> isFixed<span class="pl-k">=</span><span class="pl-c1">false</span>;<span class="pl-en">$</span>(input).<span class="pl-en">parents</span>().<span class="pl-en">each</span>(<span class="pl-k">function</span>(){isFixed<span class="pl-k">|=</span><span class="pl-en">$</span>(<span class="pl-v">this</span>).<span class="pl-en">css</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>position<span class="pl-pds">&#39;</span></span>)<span class="pl-k">==</span><span class="pl-s"><span class="pl-pds">&#39;</span>fixed<span class="pl-pds">&#39;</span></span>;<span class="pl-k">return</span><span class="pl-k">!</span>isFixed;});<span class="pl-k">if</span>(isFixed<span class="pl-k">&amp;&amp;</span><span class="pl-smi">$</span>.<span class="pl-smi">browser</span>.<span class="pl-smi">opera</span>){<span class="pl-smi">$</span>.<span class="pl-smi">datepicker</span>.<span class="pl-smi">_pos</span>[<span class="pl-c1">0</span>]<span class="pl-k">-=</span><span class="pl-smi">document</span>.<span class="pl-c1">documentElement</span>.<span class="pl-smi">scrollLeft</span>;<span class="pl-smi">$</span>.<span class="pl-smi">datepicker</span>.<span class="pl-smi">_pos</span>[<span class="pl-c1">1</span>]<span class="pl-k">-=</span><span class="pl-smi">document</span>.<span class="pl-c1">documentElement</span>.<span class="pl-smi">scrollTop</span>;}</td>
      </tr>
      <tr>
        <td id="L119" class="blob-num js-line-number" data-line-number="119"></td>
        <td id="LC119" class="blob-code blob-code-inner js-file-line"><span class="pl-k">var</span> offset<span class="pl-k">=</span>{left<span class="pl-k">:</span><span class="pl-smi">$</span>.<span class="pl-smi">datepicker</span>.<span class="pl-smi">_pos</span>[<span class="pl-c1">0</span>],top<span class="pl-k">:</span><span class="pl-smi">$</span>.<span class="pl-smi">datepicker</span>.<span class="pl-smi">_pos</span>[<span class="pl-c1">1</span>]};<span class="pl-smi">$</span>.<span class="pl-smi">datepicker</span>.<span class="pl-smi">_pos</span><span class="pl-k">=</span><span class="pl-c1">null</span>;<span class="pl-smi">inst</span>.<span class="pl-smi">rangeStart</span><span class="pl-k">=</span><span class="pl-c1">null</span>;<span class="pl-smi">inst</span>.<span class="pl-smi">dpDiv</span>.<span class="pl-en">css</span>({position<span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span>absolute<span class="pl-pds">&#39;</span></span>,display<span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span>block<span class="pl-pds">&#39;</span></span>,top<span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span>-1000px<span class="pl-pds">&#39;</span></span>});<span class="pl-smi">$</span>.<span class="pl-smi">datepicker</span>.<span class="pl-en">_updateDatepicker</span>(inst);<span class="pl-smi">inst</span>.<span class="pl-smi">dpDiv</span>.<span class="pl-c1">width</span>(<span class="pl-smi">$</span>.<span class="pl-smi">datepicker</span>.<span class="pl-en">_getNumberOfMonths</span>(inst)[<span class="pl-c1">1</span>]<span class="pl-k">*</span><span class="pl-en">$</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>.ui-datepicker<span class="pl-pds">&#39;</span></span>,<span class="pl-smi">inst</span>.<span class="pl-smi">dpDiv</span>[<span class="pl-c1">0</span>])[<span class="pl-c1">0</span>].<span class="pl-smi">offsetWidth</span>);offset<span class="pl-k">=</span><span class="pl-smi">$</span>.<span class="pl-smi">datepicker</span>.<span class="pl-en">_checkOffset</span>(inst,offset,isFixed);<span class="pl-smi">inst</span>.<span class="pl-smi">dpDiv</span>.<span class="pl-en">css</span>({position<span class="pl-k">:</span>(<span class="pl-smi">$</span>.<span class="pl-smi">datepicker</span>.<span class="pl-smi">_inDialog</span><span class="pl-k">&amp;&amp;</span><span class="pl-smi">$</span>.<span class="pl-smi">blockUI</span><span class="pl-k">?</span><span class="pl-s"><span class="pl-pds">&#39;</span>static<span class="pl-pds">&#39;</span></span><span class="pl-k">:</span>(isFixed<span class="pl-k">?</span><span class="pl-s"><span class="pl-pds">&#39;</span>fixed<span class="pl-pds">&#39;</span></span><span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span>absolute<span class="pl-pds">&#39;</span></span>)),display<span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span>none<span class="pl-pds">&#39;</span></span>,left<span class="pl-k">:</span><span class="pl-smi">offset</span>.<span class="pl-c1">left</span><span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>px<span class="pl-pds">&#39;</span></span>,top<span class="pl-k">:</span><span class="pl-smi">offset</span>.<span class="pl-c1">top</span><span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>px<span class="pl-pds">&#39;</span></span>});<span class="pl-k">if</span>(<span class="pl-k">!</span><span class="pl-smi">inst</span>.<span class="pl-smi">inline</span>){<span class="pl-k">var</span> showAnim<span class="pl-k">=</span><span class="pl-smi">$</span>.<span class="pl-smi">datepicker</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>showAnim<span class="pl-pds">&#39;</span></span>)<span class="pl-k">||</span><span class="pl-s"><span class="pl-pds">&#39;</span>show<span class="pl-pds">&#39;</span></span>;<span class="pl-k">var</span> duration<span class="pl-k">=</span><span class="pl-smi">$</span>.<span class="pl-smi">datepicker</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>duration<span class="pl-pds">&#39;</span></span>);<span class="pl-k">var</span> <span class="pl-en">postProcess</span><span class="pl-k">=</span><span class="pl-k">function</span>(){<span class="pl-smi">$</span>.<span class="pl-smi">datepicker</span>.<span class="pl-smi">_datepickerShowing</span><span class="pl-k">=</span><span class="pl-c1">true</span>;<span class="pl-k">if</span>(<span class="pl-smi">$</span>.<span class="pl-smi">browser</span>.<span class="pl-smi">msie</span><span class="pl-k">&amp;&amp;</span><span class="pl-c1">parseInt</span>(<span class="pl-smi">$</span>.<span class="pl-smi">browser</span>.<span class="pl-c1">version</span>,<span class="pl-c1">10</span>)<span class="pl-k">&lt;</span><span class="pl-c1">7</span>)</td>
      </tr>
      <tr>
        <td id="L120" class="blob-num js-line-number" data-line-number="120"></td>
        <td id="LC120" class="blob-code blob-code-inner js-file-line"><span class="pl-en">$</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>iframe.ui-datepicker-cover<span class="pl-pds">&#39;</span></span>).<span class="pl-en">css</span>({width<span class="pl-k">:</span><span class="pl-smi">inst</span>.<span class="pl-smi">dpDiv</span>.<span class="pl-c1">width</span>()<span class="pl-k">+</span><span class="pl-c1">4</span>,height<span class="pl-k">:</span><span class="pl-smi">inst</span>.<span class="pl-smi">dpDiv</span>.<span class="pl-c1">height</span>()<span class="pl-k">+</span><span class="pl-c1">4</span>});};<span class="pl-k">if</span>(<span class="pl-smi">$</span>.<span class="pl-smi">effects</span><span class="pl-k">&amp;&amp;</span><span class="pl-smi">$</span>.<span class="pl-smi">effects</span>[showAnim])</td>
      </tr>
      <tr>
        <td id="L121" class="blob-num js-line-number" data-line-number="121"></td>
        <td id="LC121" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">inst</span>.<span class="pl-smi">dpDiv</span>.<span class="pl-en">show</span>(showAnim,<span class="pl-smi">$</span>.<span class="pl-smi">datepicker</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>showOptions<span class="pl-pds">&#39;</span></span>),duration,postProcess);<span class="pl-k">else</span></td>
      </tr>
      <tr>
        <td id="L122" class="blob-num js-line-number" data-line-number="122"></td>
        <td id="LC122" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">inst</span>.<span class="pl-smi">dpDiv</span>[showAnim](duration,postProcess);<span class="pl-k">if</span>(duration<span class="pl-k">==</span><span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-pds">&#39;</span></span>)</td>
      </tr>
      <tr>
        <td id="L123" class="blob-num js-line-number" data-line-number="123"></td>
        <td id="LC123" class="blob-code blob-code-inner js-file-line"><span class="pl-en">postProcess</span>();<span class="pl-k">if</span>(<span class="pl-smi">inst</span>.<span class="pl-c1">input</span>[<span class="pl-c1">0</span>].<span class="pl-c1">type</span><span class="pl-k">!=</span><span class="pl-s"><span class="pl-pds">&#39;</span>hidden<span class="pl-pds">&#39;</span></span>)</td>
      </tr>
      <tr>
        <td id="L124" class="blob-num js-line-number" data-line-number="124"></td>
        <td id="LC124" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">inst</span>.<span class="pl-c1">input</span>[<span class="pl-c1">0</span>].<span class="pl-c1">focus</span>();<span class="pl-smi">$</span>.<span class="pl-smi">datepicker</span>.<span class="pl-smi">_curInst</span><span class="pl-k">=</span>inst;}},<span class="pl-en">_updateDatepicker</span><span class="pl-k">:</span><span class="pl-k">function</span>(<span class="pl-smi">inst</span>){<span class="pl-k">var</span> dims<span class="pl-k">=</span>{width<span class="pl-k">:</span><span class="pl-smi">inst</span>.<span class="pl-smi">dpDiv</span>.<span class="pl-c1">width</span>()<span class="pl-k">+</span><span class="pl-c1">4</span>,height<span class="pl-k">:</span><span class="pl-smi">inst</span>.<span class="pl-smi">dpDiv</span>.<span class="pl-c1">height</span>()<span class="pl-k">+</span><span class="pl-c1">4</span>};<span class="pl-smi">inst</span>.<span class="pl-smi">dpDiv</span>.<span class="pl-en">empty</span>().<span class="pl-en">append</span>(<span class="pl-v">this</span>.<span class="pl-en">_generateHTML</span>(inst)).<span class="pl-c1">find</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>iframe.ui-datepicker-cover<span class="pl-pds">&#39;</span></span>).<span class="pl-en">css</span>({width<span class="pl-k">:</span><span class="pl-smi">dims</span>.<span class="pl-c1">width</span>,height<span class="pl-k">:</span><span class="pl-smi">dims</span>.<span class="pl-c1">height</span>});<span class="pl-k">var</span> numMonths<span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-en">_getNumberOfMonths</span>(inst);<span class="pl-smi">inst</span>.<span class="pl-smi">dpDiv</span>[(numMonths[<span class="pl-c1">0</span>]<span class="pl-k">!=</span><span class="pl-c1">1</span><span class="pl-k">||</span>numMonths[<span class="pl-c1">1</span>]<span class="pl-k">!=</span><span class="pl-c1">1</span><span class="pl-k">?</span><span class="pl-s"><span class="pl-pds">&#39;</span>add<span class="pl-pds">&#39;</span></span><span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span>remove<span class="pl-pds">&#39;</span></span>)<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>Class<span class="pl-pds">&#39;</span></span>](<span class="pl-s"><span class="pl-pds">&#39;</span>ui-datepicker-multi<span class="pl-pds">&#39;</span></span>);<span class="pl-smi">inst</span>.<span class="pl-smi">dpDiv</span>[(<span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>isRTL<span class="pl-pds">&#39;</span></span>)<span class="pl-k">?</span><span class="pl-s"><span class="pl-pds">&#39;</span>add<span class="pl-pds">&#39;</span></span><span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span>remove<span class="pl-pds">&#39;</span></span>)<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>Class<span class="pl-pds">&#39;</span></span>](<span class="pl-s"><span class="pl-pds">&#39;</span>ui-datepicker-rtl<span class="pl-pds">&#39;</span></span>);<span class="pl-k">if</span>(<span class="pl-smi">inst</span>.<span class="pl-c1">input</span><span class="pl-k">&amp;&amp;</span><span class="pl-smi">inst</span>.<span class="pl-c1">input</span>[<span class="pl-c1">0</span>].<span class="pl-c1">type</span><span class="pl-k">!=</span><span class="pl-s"><span class="pl-pds">&#39;</span>hidden<span class="pl-pds">&#39;</span></span>)</td>
      </tr>
      <tr>
        <td id="L125" class="blob-num js-line-number" data-line-number="125"></td>
        <td id="LC125" class="blob-code blob-code-inner js-file-line"><span class="pl-en">$</span>(<span class="pl-smi">inst</span>.<span class="pl-c1">input</span>[<span class="pl-c1">0</span>]).<span class="pl-c1">focus</span>();},<span class="pl-en">_checkOffset</span><span class="pl-k">:</span><span class="pl-k">function</span>(<span class="pl-smi">inst</span>,<span class="pl-smi">offset</span>,<span class="pl-smi">isFixed</span>){<span class="pl-k">var</span> pos<span class="pl-k">=</span><span class="pl-smi">inst</span>.<span class="pl-c1">input</span><span class="pl-k">?</span><span class="pl-v">this</span>.<span class="pl-en">_findPos</span>(<span class="pl-smi">inst</span>.<span class="pl-c1">input</span>[<span class="pl-c1">0</span>])<span class="pl-k">:</span><span class="pl-c1">null</span>;<span class="pl-k">var</span> browserWidth<span class="pl-k">=</span><span class="pl-smi">window</span>.<span class="pl-c1">innerWidth</span><span class="pl-k">||</span><span class="pl-smi">document</span>.<span class="pl-c1">documentElement</span>.<span class="pl-smi">clientWidth</span>;<span class="pl-k">var</span> browserHeight<span class="pl-k">=</span><span class="pl-smi">window</span>.<span class="pl-c1">innerHeight</span><span class="pl-k">||</span><span class="pl-smi">document</span>.<span class="pl-c1">documentElement</span>.<span class="pl-smi">clientHeight</span>;<span class="pl-k">var</span> scrollX<span class="pl-k">=</span><span class="pl-smi">document</span>.<span class="pl-c1">documentElement</span>.<span class="pl-smi">scrollLeft</span><span class="pl-k">||</span><span class="pl-smi">document</span>.<span class="pl-c1">body</span>.<span class="pl-smi">scrollLeft</span>;<span class="pl-k">var</span> scrollY<span class="pl-k">=</span><span class="pl-smi">document</span>.<span class="pl-c1">documentElement</span>.<span class="pl-smi">scrollTop</span><span class="pl-k">||</span><span class="pl-smi">document</span>.<span class="pl-c1">body</span>.<span class="pl-smi">scrollTop</span>;<span class="pl-k">if</span>(<span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>isRTL<span class="pl-pds">&#39;</span></span>)<span class="pl-k">||</span>(<span class="pl-smi">offset</span>.<span class="pl-c1">left</span><span class="pl-k">+</span><span class="pl-smi">inst</span>.<span class="pl-smi">dpDiv</span>.<span class="pl-c1">width</span>()<span class="pl-k">-</span>scrollX)<span class="pl-k">&gt;</span>browserWidth)</td>
      </tr>
      <tr>
        <td id="L126" class="blob-num js-line-number" data-line-number="126"></td>
        <td id="LC126" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">offset</span>.<span class="pl-c1">left</span><span class="pl-k">=</span><span class="pl-smi">Math</span>.<span class="pl-c1">max</span>((isFixed<span class="pl-k">?</span><span class="pl-c1">0</span><span class="pl-k">:</span>scrollX),pos[<span class="pl-c1">0</span>]<span class="pl-k">+</span>(<span class="pl-smi">inst</span>.<span class="pl-c1">input</span><span class="pl-k">?</span><span class="pl-smi">inst</span>.<span class="pl-c1">input</span>.<span class="pl-c1">width</span>()<span class="pl-k">:</span><span class="pl-c1">0</span>)<span class="pl-k">-</span>(isFixed<span class="pl-k">?</span>scrollX<span class="pl-k">:</span><span class="pl-c1">0</span>)<span class="pl-k">-</span><span class="pl-smi">inst</span>.<span class="pl-smi">dpDiv</span>.<span class="pl-c1">width</span>()<span class="pl-k">-</span></td>
      </tr>
      <tr>
        <td id="L127" class="blob-num js-line-number" data-line-number="127"></td>
        <td id="LC127" class="blob-code blob-code-inner js-file-line">(isFixed<span class="pl-k">&amp;&amp;</span><span class="pl-smi">$</span>.<span class="pl-smi">browser</span>.<span class="pl-smi">opera</span><span class="pl-k">?</span><span class="pl-smi">document</span>.<span class="pl-c1">documentElement</span>.<span class="pl-smi">scrollLeft</span><span class="pl-k">:</span><span class="pl-c1">0</span>));<span class="pl-k">else</span></td>
      </tr>
      <tr>
        <td id="L128" class="blob-num js-line-number" data-line-number="128"></td>
        <td id="LC128" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">offset</span>.<span class="pl-c1">left</span><span class="pl-k">-=</span>(isFixed<span class="pl-k">?</span>scrollX<span class="pl-k">:</span><span class="pl-c1">0</span>);<span class="pl-k">if</span>((<span class="pl-smi">offset</span>.<span class="pl-c1">top</span><span class="pl-k">+</span><span class="pl-smi">inst</span>.<span class="pl-smi">dpDiv</span>.<span class="pl-c1">height</span>()<span class="pl-k">-</span>scrollY)<span class="pl-k">&gt;</span>browserHeight)</td>
      </tr>
      <tr>
        <td id="L129" class="blob-num js-line-number" data-line-number="129"></td>
        <td id="LC129" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">offset</span>.<span class="pl-c1">top</span><span class="pl-k">=</span><span class="pl-smi">Math</span>.<span class="pl-c1">max</span>((isFixed<span class="pl-k">?</span><span class="pl-c1">0</span><span class="pl-k">:</span>scrollY),pos[<span class="pl-c1">1</span>]<span class="pl-k">-</span>(isFixed<span class="pl-k">?</span>scrollY<span class="pl-k">:</span><span class="pl-c1">0</span>)<span class="pl-k">-</span>(<span class="pl-v">this</span>.<span class="pl-smi">_inDialog</span><span class="pl-k">?</span><span class="pl-c1">0</span><span class="pl-k">:</span><span class="pl-smi">inst</span>.<span class="pl-smi">dpDiv</span>.<span class="pl-c1">height</span>())<span class="pl-k">-</span></td>
      </tr>
      <tr>
        <td id="L130" class="blob-num js-line-number" data-line-number="130"></td>
        <td id="LC130" class="blob-code blob-code-inner js-file-line">(isFixed<span class="pl-k">&amp;&amp;</span><span class="pl-smi">$</span>.<span class="pl-smi">browser</span>.<span class="pl-smi">opera</span><span class="pl-k">?</span><span class="pl-smi">document</span>.<span class="pl-c1">documentElement</span>.<span class="pl-smi">scrollTop</span><span class="pl-k">:</span><span class="pl-c1">0</span>));<span class="pl-k">else</span></td>
      </tr>
      <tr>
        <td id="L131" class="blob-num js-line-number" data-line-number="131"></td>
        <td id="LC131" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">offset</span>.<span class="pl-c1">top</span><span class="pl-k">-=</span>(isFixed<span class="pl-k">?</span>scrollY<span class="pl-k">:</span><span class="pl-c1">0</span>);<span class="pl-k">return</span> offset;},<span class="pl-en">_findPos</span><span class="pl-k">:</span><span class="pl-k">function</span>(<span class="pl-smi">obj</span>){<span class="pl-k">while</span>(obj<span class="pl-k">&amp;&amp;</span>(<span class="pl-smi">obj</span>.<span class="pl-c1">type</span><span class="pl-k">==</span><span class="pl-s"><span class="pl-pds">&#39;</span>hidden<span class="pl-pds">&#39;</span></span><span class="pl-k">||</span><span class="pl-smi">obj</span>.<span class="pl-c1">nodeType</span><span class="pl-k">!=</span><span class="pl-c1">1</span>)){obj<span class="pl-k">=</span><span class="pl-smi">obj</span>.<span class="pl-c1">nextSibling</span>;}</td>
      </tr>
      <tr>
        <td id="L132" class="blob-num js-line-number" data-line-number="132"></td>
        <td id="LC132" class="blob-code blob-code-inner js-file-line"><span class="pl-k">var</span> position<span class="pl-k">=</span><span class="pl-en">$</span>(obj).<span class="pl-en">offset</span>();<span class="pl-k">return</span>[<span class="pl-smi">position</span>.<span class="pl-c1">left</span>,<span class="pl-smi">position</span>.<span class="pl-c1">top</span>];},<span class="pl-en">_hideDatepicker</span><span class="pl-k">:</span><span class="pl-k">function</span>(<span class="pl-smi">input</span>,<span class="pl-smi">duration</span>){<span class="pl-k">var</span> inst<span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-smi">_curInst</span>;<span class="pl-k">if</span>(<span class="pl-k">!</span>inst<span class="pl-k">||</span>(input<span class="pl-k">&amp;&amp;</span>inst<span class="pl-k">!=</span><span class="pl-smi">$</span>.<span class="pl-c1">data</span>(input,<span class="pl-c1">PROP_NAME</span>)))</td>
      </tr>
      <tr>
        <td id="L133" class="blob-num js-line-number" data-line-number="133"></td>
        <td id="LC133" class="blob-code blob-code-inner js-file-line"><span class="pl-k">return</span>;<span class="pl-k">var</span> rangeSelect<span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>rangeSelect<span class="pl-pds">&#39;</span></span>);<span class="pl-k">if</span>(rangeSelect<span class="pl-k">&amp;&amp;</span><span class="pl-smi">inst</span>.<span class="pl-smi">stayOpen</span>)</td>
      </tr>
      <tr>
        <td id="L134" class="blob-num js-line-number" data-line-number="134"></td>
        <td id="LC134" class="blob-code blob-code-inner js-file-line"><span class="pl-v">this</span>.<span class="pl-en">_selectDate</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>#<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span><span class="pl-smi">inst</span>.<span class="pl-c1">id</span>,<span class="pl-v">this</span>.<span class="pl-en">_formatDate</span>(inst,<span class="pl-smi">inst</span>.<span class="pl-smi">currentDay</span>,<span class="pl-smi">inst</span>.<span class="pl-smi">currentMonth</span>,<span class="pl-smi">inst</span>.<span class="pl-smi">currentYear</span>));<span class="pl-smi">inst</span>.<span class="pl-smi">stayOpen</span><span class="pl-k">=</span><span class="pl-c1">false</span>;<span class="pl-k">if</span>(<span class="pl-v">this</span>.<span class="pl-smi">_datepickerShowing</span>){duration<span class="pl-k">=</span>(duration<span class="pl-k">!=</span><span class="pl-c1">null</span><span class="pl-k">?</span>duration<span class="pl-k">:</span><span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>duration<span class="pl-pds">&#39;</span></span>));<span class="pl-k">var</span> showAnim<span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>showAnim<span class="pl-pds">&#39;</span></span>);<span class="pl-k">var</span> <span class="pl-en">postProcess</span><span class="pl-k">=</span><span class="pl-k">function</span>(){<span class="pl-smi">$</span>.<span class="pl-smi">datepicker</span>.<span class="pl-en">_tidyDialog</span>(inst);};<span class="pl-k">if</span>(duration<span class="pl-k">!=</span><span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-pds">&#39;</span></span><span class="pl-k">&amp;&amp;</span><span class="pl-smi">$</span>.<span class="pl-smi">effects</span><span class="pl-k">&amp;&amp;</span><span class="pl-smi">$</span>.<span class="pl-smi">effects</span>[showAnim])</td>
      </tr>
      <tr>
        <td id="L135" class="blob-num js-line-number" data-line-number="135"></td>
        <td id="LC135" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">inst</span>.<span class="pl-smi">dpDiv</span>.<span class="pl-en">hide</span>(showAnim,<span class="pl-smi">$</span>.<span class="pl-smi">datepicker</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>showOptions<span class="pl-pds">&#39;</span></span>),duration,postProcess);<span class="pl-k">else</span></td>
      </tr>
      <tr>
        <td id="L136" class="blob-num js-line-number" data-line-number="136"></td>
        <td id="LC136" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">inst</span>.<span class="pl-smi">dpDiv</span>[(duration<span class="pl-k">==</span><span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-pds">&#39;</span></span><span class="pl-k">?</span><span class="pl-s"><span class="pl-pds">&#39;</span>hide<span class="pl-pds">&#39;</span></span><span class="pl-k">:</span>(showAnim<span class="pl-k">==</span><span class="pl-s"><span class="pl-pds">&#39;</span>slideDown<span class="pl-pds">&#39;</span></span><span class="pl-k">?</span><span class="pl-s"><span class="pl-pds">&#39;</span>slideUp<span class="pl-pds">&#39;</span></span><span class="pl-k">:</span>(showAnim<span class="pl-k">==</span><span class="pl-s"><span class="pl-pds">&#39;</span>fadeIn<span class="pl-pds">&#39;</span></span><span class="pl-k">?</span><span class="pl-s"><span class="pl-pds">&#39;</span>fadeOut<span class="pl-pds">&#39;</span></span><span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span>hide<span class="pl-pds">&#39;</span></span>)))](duration,postProcess);<span class="pl-k">if</span>(duration<span class="pl-k">==</span><span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-pds">&#39;</span></span>)</td>
      </tr>
      <tr>
        <td id="L137" class="blob-num js-line-number" data-line-number="137"></td>
        <td id="LC137" class="blob-code blob-code-inner js-file-line"><span class="pl-v">this</span>.<span class="pl-en">_tidyDialog</span>(inst);<span class="pl-k">var</span> <span class="pl-c1">onClose</span><span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>onClose<span class="pl-pds">&#39;</span></span>);<span class="pl-k">if</span>(<span class="pl-c1">onClose</span>)</td>
      </tr>
      <tr>
        <td id="L138" class="blob-num js-line-number" data-line-number="138"></td>
        <td id="LC138" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">onClose</span>.<span class="pl-c1">apply</span>((<span class="pl-smi">inst</span>.<span class="pl-c1">input</span><span class="pl-k">?</span><span class="pl-smi">inst</span>.<span class="pl-c1">input</span>[<span class="pl-c1">0</span>]<span class="pl-k">:</span><span class="pl-c1">null</span>),[(<span class="pl-smi">inst</span>.<span class="pl-c1">input</span><span class="pl-k">?</span><span class="pl-smi">inst</span>.<span class="pl-c1">input</span>.<span class="pl-en">val</span>()<span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-pds">&#39;</span></span>),inst]);<span class="pl-v">this</span>.<span class="pl-smi">_datepickerShowing</span><span class="pl-k">=</span><span class="pl-c1">false</span>;<span class="pl-v">this</span>.<span class="pl-smi">_lastInput</span><span class="pl-k">=</span><span class="pl-c1">null</span>;<span class="pl-smi">inst</span>.<span class="pl-smi">settings</span>.<span class="pl-c1">prompt</span><span class="pl-k">=</span><span class="pl-c1">null</span>;<span class="pl-k">if</span>(<span class="pl-v">this</span>.<span class="pl-smi">_inDialog</span>){<span class="pl-v">this</span>.<span class="pl-smi">_dialogInput</span>.<span class="pl-en">css</span>({position<span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span>absolute<span class="pl-pds">&#39;</span></span>,left<span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span>0<span class="pl-pds">&#39;</span></span>,top<span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span>-100px<span class="pl-pds">&#39;</span></span>});<span class="pl-k">if</span>(<span class="pl-smi">$</span>.<span class="pl-smi">blockUI</span>){<span class="pl-smi">$</span>.<span class="pl-en">unblockUI</span>();<span class="pl-en">$</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>body<span class="pl-pds">&#39;</span></span>).<span class="pl-en">append</span>(<span class="pl-v">this</span>.<span class="pl-smi">dpDiv</span>);}}</td>
      </tr>
      <tr>
        <td id="L139" class="blob-num js-line-number" data-line-number="139"></td>
        <td id="LC139" class="blob-code blob-code-inner js-file-line"><span class="pl-v">this</span>.<span class="pl-smi">_inDialog</span><span class="pl-k">=</span><span class="pl-c1">false</span>;}</td>
      </tr>
      <tr>
        <td id="L140" class="blob-num js-line-number" data-line-number="140"></td>
        <td id="LC140" class="blob-code blob-code-inner js-file-line"><span class="pl-v">this</span>.<span class="pl-smi">_curInst</span><span class="pl-k">=</span><span class="pl-c1">null</span>;},<span class="pl-en">_tidyDialog</span><span class="pl-k">:</span><span class="pl-k">function</span>(<span class="pl-smi">inst</span>){<span class="pl-smi">inst</span>.<span class="pl-smi">dpDiv</span>.<span class="pl-en">removeClass</span>(<span class="pl-v">this</span>.<span class="pl-smi">_dialogClass</span>).<span class="pl-en">unbind</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>.ui-datepicker<span class="pl-pds">&#39;</span></span>);<span class="pl-en">$</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>.<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span><span class="pl-v">this</span>.<span class="pl-smi">_promptClass</span>,<span class="pl-smi">inst</span>.<span class="pl-smi">dpDiv</span>).<span class="pl-en">remove</span>();},<span class="pl-en">_checkExternalClick</span><span class="pl-k">:</span><span class="pl-k">function</span>(<span class="pl-smi">event</span>){<span class="pl-k">if</span>(<span class="pl-k">!</span><span class="pl-smi">$</span>.<span class="pl-smi">datepicker</span>.<span class="pl-smi">_curInst</span>)</td>
      </tr>
      <tr>
        <td id="L141" class="blob-num js-line-number" data-line-number="141"></td>
        <td id="LC141" class="blob-code blob-code-inner js-file-line"><span class="pl-k">return</span>;<span class="pl-k">var</span> $target<span class="pl-k">=</span><span class="pl-en">$</span>(<span class="pl-smi">event</span>.<span class="pl-c1">target</span>);<span class="pl-k">if</span>((<span class="pl-smi">$target</span>.<span class="pl-en">parents</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>#<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span><span class="pl-smi">$</span>.<span class="pl-smi">datepicker</span>.<span class="pl-smi">_mainDivId</span>).<span class="pl-c1">length</span><span class="pl-k">==</span><span class="pl-c1">0</span>)<span class="pl-k">&amp;&amp;!</span><span class="pl-smi">$target</span>.<span class="pl-en">hasClass</span>(<span class="pl-smi">$</span>.<span class="pl-smi">datepicker</span>.<span class="pl-smi">markerClassName</span>)<span class="pl-k">&amp;&amp;!</span><span class="pl-smi">$target</span>.<span class="pl-en">hasClass</span>(<span class="pl-smi">$</span>.<span class="pl-smi">datepicker</span>.<span class="pl-smi">_triggerClass</span>)<span class="pl-k">&amp;&amp;</span><span class="pl-smi">$</span>.<span class="pl-smi">datepicker</span>.<span class="pl-smi">_datepickerShowing</span><span class="pl-k">&amp;&amp;!</span>(<span class="pl-smi">$</span>.<span class="pl-smi">datepicker</span>.<span class="pl-smi">_inDialog</span><span class="pl-k">&amp;&amp;</span><span class="pl-smi">$</span>.<span class="pl-smi">blockUI</span>))</td>
      </tr>
      <tr>
        <td id="L142" class="blob-num js-line-number" data-line-number="142"></td>
        <td id="LC142" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">$</span>.<span class="pl-smi">datepicker</span>.<span class="pl-en">_hideDatepicker</span>(<span class="pl-c1">null</span>,<span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-pds">&#39;</span></span>);},<span class="pl-en">_adjustDate</span><span class="pl-k">:</span><span class="pl-k">function</span>(<span class="pl-smi">id</span>,<span class="pl-smi">offset</span>,<span class="pl-smi">period</span>){<span class="pl-k">var</span> target<span class="pl-k">=</span><span class="pl-en">$</span>(id);<span class="pl-k">var</span> inst<span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-en">_getInst</span>(target[<span class="pl-c1">0</span>]);<span class="pl-v">this</span>.<span class="pl-en">_adjustInstDate</span>(inst,offset,period);<span class="pl-v">this</span>.<span class="pl-en">_updateDatepicker</span>(inst);},<span class="pl-en">_gotoToday</span><span class="pl-k">:</span><span class="pl-k">function</span>(<span class="pl-smi">id</span>){<span class="pl-k">var</span> target<span class="pl-k">=</span><span class="pl-en">$</span>(id);<span class="pl-k">var</span> inst<span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-en">_getInst</span>(target[<span class="pl-c1">0</span>]);<span class="pl-k">if</span>(<span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>gotoCurrent<span class="pl-pds">&#39;</span></span>)<span class="pl-k">&amp;&amp;</span><span class="pl-smi">inst</span>.<span class="pl-smi">currentDay</span>){<span class="pl-smi">inst</span>.<span class="pl-smi">selectedDay</span><span class="pl-k">=</span><span class="pl-smi">inst</span>.<span class="pl-smi">currentDay</span>;<span class="pl-smi">inst</span>.<span class="pl-smi">drawMonth</span><span class="pl-k">=</span><span class="pl-smi">inst</span>.<span class="pl-smi">selectedMonth</span><span class="pl-k">=</span><span class="pl-smi">inst</span>.<span class="pl-smi">currentMonth</span>;<span class="pl-smi">inst</span>.<span class="pl-smi">drawYear</span><span class="pl-k">=</span><span class="pl-smi">inst</span>.<span class="pl-smi">selectedYear</span><span class="pl-k">=</span><span class="pl-smi">inst</span>.<span class="pl-smi">currentYear</span>;}</td>
      </tr>
      <tr>
        <td id="L143" class="blob-num js-line-number" data-line-number="143"></td>
        <td id="LC143" class="blob-code blob-code-inner js-file-line"><span class="pl-k">else</span>{<span class="pl-k">var</span> date<span class="pl-k">=</span><span class="pl-k">new</span> <span class="pl-en">Date</span>();<span class="pl-smi">inst</span>.<span class="pl-smi">selectedDay</span><span class="pl-k">=</span><span class="pl-smi">date</span>.<span class="pl-c1">getDate</span>();<span class="pl-smi">inst</span>.<span class="pl-smi">drawMonth</span><span class="pl-k">=</span><span class="pl-smi">inst</span>.<span class="pl-smi">selectedMonth</span><span class="pl-k">=</span><span class="pl-smi">date</span>.<span class="pl-c1">getMonth</span>();<span class="pl-smi">inst</span>.<span class="pl-smi">drawYear</span><span class="pl-k">=</span><span class="pl-smi">inst</span>.<span class="pl-smi">selectedYear</span><span class="pl-k">=</span><span class="pl-smi">date</span>.<span class="pl-c1">getFullYear</span>();}</td>
      </tr>
      <tr>
        <td id="L144" class="blob-num js-line-number" data-line-number="144"></td>
        <td id="LC144" class="blob-code blob-code-inner js-file-line"><span class="pl-v">this</span>.<span class="pl-en">_notifyChange</span>(inst);<span class="pl-v">this</span>.<span class="pl-en">_adjustDate</span>(target);},<span class="pl-en">_selectMonthYear</span><span class="pl-k">:</span><span class="pl-k">function</span>(<span class="pl-smi">id</span>,<span class="pl-smi">select</span>,<span class="pl-smi">period</span>){<span class="pl-k">var</span> target<span class="pl-k">=</span><span class="pl-en">$</span>(id);<span class="pl-k">var</span> inst<span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-en">_getInst</span>(target[<span class="pl-c1">0</span>]);<span class="pl-smi">inst</span>.<span class="pl-smi">_selectingMonthYear</span><span class="pl-k">=</span><span class="pl-c1">false</span>;inst[<span class="pl-s"><span class="pl-pds">&#39;</span>selected<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span>(period<span class="pl-k">==</span><span class="pl-s"><span class="pl-pds">&#39;</span>M<span class="pl-pds">&#39;</span></span><span class="pl-k">?</span><span class="pl-s"><span class="pl-pds">&#39;</span>Month<span class="pl-pds">&#39;</span></span><span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span>Year<span class="pl-pds">&#39;</span></span>)]<span class="pl-k">=</span>inst[<span class="pl-s"><span class="pl-pds">&#39;</span>draw<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span>(period<span class="pl-k">==</span><span class="pl-s"><span class="pl-pds">&#39;</span>M<span class="pl-pds">&#39;</span></span><span class="pl-k">?</span><span class="pl-s"><span class="pl-pds">&#39;</span>Month<span class="pl-pds">&#39;</span></span><span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span>Year<span class="pl-pds">&#39;</span></span>)]<span class="pl-k">=</span><span class="pl-c1">parseInt</span>(<span class="pl-smi">select</span>.<span class="pl-c1">options</span>[<span class="pl-smi">select</span>.<span class="pl-c1">selectedIndex</span>].<span class="pl-c1">value</span>,<span class="pl-c1">10</span>);<span class="pl-v">this</span>.<span class="pl-en">_notifyChange</span>(inst);<span class="pl-v">this</span>.<span class="pl-en">_adjustDate</span>(target);},<span class="pl-en">_clickMonthYear</span><span class="pl-k">:</span><span class="pl-k">function</span>(<span class="pl-smi">id</span>){<span class="pl-k">var</span> target<span class="pl-k">=</span><span class="pl-en">$</span>(id);<span class="pl-k">var</span> inst<span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-en">_getInst</span>(target[<span class="pl-c1">0</span>]);<span class="pl-k">if</span>(<span class="pl-smi">inst</span>.<span class="pl-c1">input</span><span class="pl-k">&amp;&amp;</span><span class="pl-smi">inst</span>.<span class="pl-smi">_selectingMonthYear</span><span class="pl-k">&amp;&amp;!</span><span class="pl-smi">$</span>.<span class="pl-smi">browser</span>.<span class="pl-smi">msie</span>)</td>
      </tr>
      <tr>
        <td id="L145" class="blob-num js-line-number" data-line-number="145"></td>
        <td id="LC145" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">inst</span>.<span class="pl-c1">input</span>[<span class="pl-c1">0</span>].<span class="pl-c1">focus</span>();<span class="pl-smi">inst</span>.<span class="pl-smi">_selectingMonthYear</span><span class="pl-k">=</span><span class="pl-k">!</span><span class="pl-smi">inst</span>.<span class="pl-smi">_selectingMonthYear</span>;},<span class="pl-en">_changeFirstDay</span><span class="pl-k">:</span><span class="pl-k">function</span>(<span class="pl-smi">id</span>,<span class="pl-smi">day</span>){<span class="pl-k">var</span> target<span class="pl-k">=</span><span class="pl-en">$</span>(id);<span class="pl-k">var</span> inst<span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-en">_getInst</span>(target[<span class="pl-c1">0</span>]);<span class="pl-smi">inst</span>.<span class="pl-smi">settings</span>.<span class="pl-smi">firstDay</span><span class="pl-k">=</span>day;<span class="pl-v">this</span>.<span class="pl-en">_updateDatepicker</span>(inst);},<span class="pl-en">_selectDay</span><span class="pl-k">:</span><span class="pl-k">function</span>(<span class="pl-smi">id</span>,<span class="pl-smi">month</span>,<span class="pl-smi">year</span>,<span class="pl-smi">td</span>){<span class="pl-k">if</span>(<span class="pl-en">$</span>(td).<span class="pl-en">hasClass</span>(<span class="pl-v">this</span>.<span class="pl-smi">_unselectableClass</span>))</td>
      </tr>
      <tr>
        <td id="L146" class="blob-num js-line-number" data-line-number="146"></td>
        <td id="LC146" class="blob-code blob-code-inner js-file-line"><span class="pl-k">return</span>;<span class="pl-k">var</span> target<span class="pl-k">=</span><span class="pl-en">$</span>(id);<span class="pl-k">var</span> inst<span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-en">_getInst</span>(target[<span class="pl-c1">0</span>]);<span class="pl-k">var</span> rangeSelect<span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>rangeSelect<span class="pl-pds">&#39;</span></span>);<span class="pl-k">if</span>(rangeSelect){<span class="pl-smi">inst</span>.<span class="pl-smi">stayOpen</span><span class="pl-k">=</span><span class="pl-k">!</span><span class="pl-smi">inst</span>.<span class="pl-smi">stayOpen</span>;<span class="pl-k">if</span>(<span class="pl-smi">inst</span>.<span class="pl-smi">stayOpen</span>){<span class="pl-en">$</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>.ui-datepicker td<span class="pl-pds">&#39;</span></span>,<span class="pl-smi">inst</span>.<span class="pl-smi">dpDiv</span>).<span class="pl-en">removeClass</span>(<span class="pl-v">this</span>.<span class="pl-smi">_currentClass</span>);<span class="pl-en">$</span>(td).<span class="pl-en">addClass</span>(<span class="pl-v">this</span>.<span class="pl-smi">_currentClass</span>);}}</td>
      </tr>
      <tr>
        <td id="L147" class="blob-num js-line-number" data-line-number="147"></td>
        <td id="LC147" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">inst</span>.<span class="pl-smi">selectedDay</span><span class="pl-k">=</span><span class="pl-smi">inst</span>.<span class="pl-smi">currentDay</span><span class="pl-k">=</span><span class="pl-en">$</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>a<span class="pl-pds">&#39;</span></span>,td).<span class="pl-en">html</span>();<span class="pl-smi">inst</span>.<span class="pl-smi">selectedMonth</span><span class="pl-k">=</span><span class="pl-smi">inst</span>.<span class="pl-smi">currentMonth</span><span class="pl-k">=</span>month;<span class="pl-smi">inst</span>.<span class="pl-smi">selectedYear</span><span class="pl-k">=</span><span class="pl-smi">inst</span>.<span class="pl-smi">currentYear</span><span class="pl-k">=</span>year;<span class="pl-k">if</span>(<span class="pl-smi">inst</span>.<span class="pl-smi">stayOpen</span>){<span class="pl-smi">inst</span>.<span class="pl-smi">endDay</span><span class="pl-k">=</span><span class="pl-smi">inst</span>.<span class="pl-smi">endMonth</span><span class="pl-k">=</span><span class="pl-smi">inst</span>.<span class="pl-smi">endYear</span><span class="pl-k">=</span><span class="pl-c1">null</span>;}</td>
      </tr>
      <tr>
        <td id="L148" class="blob-num js-line-number" data-line-number="148"></td>
        <td id="LC148" class="blob-code blob-code-inner js-file-line"><span class="pl-k">else</span> <span class="pl-k">if</span>(rangeSelect){<span class="pl-smi">inst</span>.<span class="pl-smi">endDay</span><span class="pl-k">=</span><span class="pl-smi">inst</span>.<span class="pl-smi">currentDay</span>;<span class="pl-smi">inst</span>.<span class="pl-smi">endMonth</span><span class="pl-k">=</span><span class="pl-smi">inst</span>.<span class="pl-smi">currentMonth</span>;<span class="pl-smi">inst</span>.<span class="pl-smi">endYear</span><span class="pl-k">=</span><span class="pl-smi">inst</span>.<span class="pl-smi">currentYear</span>;}</td>
      </tr>
      <tr>
        <td id="L149" class="blob-num js-line-number" data-line-number="149"></td>
        <td id="LC149" class="blob-code blob-code-inner js-file-line"><span class="pl-v">this</span>.<span class="pl-en">_selectDate</span>(id,<span class="pl-v">this</span>.<span class="pl-en">_formatDate</span>(inst,<span class="pl-smi">inst</span>.<span class="pl-smi">currentDay</span>,<span class="pl-smi">inst</span>.<span class="pl-smi">currentMonth</span>,<span class="pl-smi">inst</span>.<span class="pl-smi">currentYear</span>));<span class="pl-k">if</span>(<span class="pl-smi">inst</span>.<span class="pl-smi">stayOpen</span>){<span class="pl-smi">inst</span>.<span class="pl-smi">rangeStart</span><span class="pl-k">=</span><span class="pl-k">new</span> <span class="pl-en">Date</span>(<span class="pl-smi">inst</span>.<span class="pl-smi">currentYear</span>,<span class="pl-smi">inst</span>.<span class="pl-smi">currentMonth</span>,<span class="pl-smi">inst</span>.<span class="pl-smi">currentDay</span>);<span class="pl-v">this</span>.<span class="pl-en">_updateDatepicker</span>(inst);}</td>
      </tr>
      <tr>
        <td id="L150" class="blob-num js-line-number" data-line-number="150"></td>
        <td id="LC150" class="blob-code blob-code-inner js-file-line"><span class="pl-k">else</span> <span class="pl-k">if</span>(rangeSelect){<span class="pl-smi">inst</span>.<span class="pl-smi">selectedDay</span><span class="pl-k">=</span><span class="pl-smi">inst</span>.<span class="pl-smi">currentDay</span><span class="pl-k">=</span><span class="pl-smi">inst</span>.<span class="pl-smi">rangeStart</span>.<span class="pl-c1">getDate</span>();<span class="pl-smi">inst</span>.<span class="pl-smi">selectedMonth</span><span class="pl-k">=</span><span class="pl-smi">inst</span>.<span class="pl-smi">currentMonth</span><span class="pl-k">=</span><span class="pl-smi">inst</span>.<span class="pl-smi">rangeStart</span>.<span class="pl-c1">getMonth</span>();<span class="pl-smi">inst</span>.<span class="pl-smi">selectedYear</span><span class="pl-k">=</span><span class="pl-smi">inst</span>.<span class="pl-smi">currentYear</span><span class="pl-k">=</span><span class="pl-smi">inst</span>.<span class="pl-smi">rangeStart</span>.<span class="pl-c1">getFullYear</span>();<span class="pl-smi">inst</span>.<span class="pl-smi">rangeStart</span><span class="pl-k">=</span><span class="pl-c1">null</span>;<span class="pl-k">if</span>(<span class="pl-smi">inst</span>.<span class="pl-smi">inline</span>)</td>
      </tr>
      <tr>
        <td id="L151" class="blob-num js-line-number" data-line-number="151"></td>
        <td id="LC151" class="blob-code blob-code-inner js-file-line"><span class="pl-v">this</span>.<span class="pl-en">_updateDatepicker</span>(inst);}},<span class="pl-en">_clearDate</span><span class="pl-k">:</span><span class="pl-k">function</span>(<span class="pl-smi">id</span>){<span class="pl-k">var</span> target<span class="pl-k">=</span><span class="pl-en">$</span>(id);<span class="pl-k">var</span> inst<span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-en">_getInst</span>(target[<span class="pl-c1">0</span>]);<span class="pl-k">if</span>(<span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>mandatory<span class="pl-pds">&#39;</span></span>))</td>
      </tr>
      <tr>
        <td id="L152" class="blob-num js-line-number" data-line-number="152"></td>
        <td id="LC152" class="blob-code blob-code-inner js-file-line"><span class="pl-k">return</span>;<span class="pl-smi">inst</span>.<span class="pl-smi">stayOpen</span><span class="pl-k">=</span><span class="pl-c1">false</span>;<span class="pl-smi">inst</span>.<span class="pl-smi">endDay</span><span class="pl-k">=</span><span class="pl-smi">inst</span>.<span class="pl-smi">endMonth</span><span class="pl-k">=</span><span class="pl-smi">inst</span>.<span class="pl-smi">endYear</span><span class="pl-k">=</span><span class="pl-smi">inst</span>.<span class="pl-smi">rangeStart</span><span class="pl-k">=</span><span class="pl-c1">null</span>;<span class="pl-v">this</span>.<span class="pl-en">_selectDate</span>(target,<span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-pds">&#39;</span></span>);},<span class="pl-en">_selectDate</span><span class="pl-k">:</span><span class="pl-k">function</span>(<span class="pl-smi">id</span>,<span class="pl-smi">dateStr</span>){<span class="pl-k">var</span> target<span class="pl-k">=</span><span class="pl-en">$</span>(id);<span class="pl-k">var</span> inst<span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-en">_getInst</span>(target[<span class="pl-c1">0</span>]);dateStr<span class="pl-k">=</span>(dateStr<span class="pl-k">!=</span><span class="pl-c1">null</span><span class="pl-k">?</span>dateStr<span class="pl-k">:</span><span class="pl-v">this</span>.<span class="pl-en">_formatDate</span>(inst));<span class="pl-k">if</span>(<span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>rangeSelect<span class="pl-pds">&#39;</span></span>)<span class="pl-k">&amp;&amp;</span>dateStr)</td>
      </tr>
      <tr>
        <td id="L153" class="blob-num js-line-number" data-line-number="153"></td>
        <td id="LC153" class="blob-code blob-code-inner js-file-line">dateStr<span class="pl-k">=</span>(<span class="pl-smi">inst</span>.<span class="pl-smi">rangeStart</span><span class="pl-k">?</span><span class="pl-v">this</span>.<span class="pl-en">_formatDate</span>(inst,<span class="pl-smi">inst</span>.<span class="pl-smi">rangeStart</span>)<span class="pl-k">:</span>dateStr)<span class="pl-k">+</span><span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>rangeSeparator<span class="pl-pds">&#39;</span></span>)<span class="pl-k">+</span>dateStr;<span class="pl-k">if</span>(<span class="pl-smi">inst</span>.<span class="pl-c1">input</span>)</td>
      </tr>
      <tr>
        <td id="L154" class="blob-num js-line-number" data-line-number="154"></td>
        <td id="LC154" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">inst</span>.<span class="pl-c1">input</span>.<span class="pl-en">val</span>(dateStr);<span class="pl-v">this</span>.<span class="pl-en">_updateAlternate</span>(inst);<span class="pl-k">var</span> <span class="pl-c1">onSelect</span><span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>onSelect<span class="pl-pds">&#39;</span></span>);<span class="pl-k">if</span>(<span class="pl-c1">onSelect</span>)</td>
      </tr>
      <tr>
        <td id="L155" class="blob-num js-line-number" data-line-number="155"></td>
        <td id="LC155" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">onSelect</span>.<span class="pl-c1">apply</span>((<span class="pl-smi">inst</span>.<span class="pl-c1">input</span><span class="pl-k">?</span><span class="pl-smi">inst</span>.<span class="pl-c1">input</span>[<span class="pl-c1">0</span>]<span class="pl-k">:</span><span class="pl-c1">null</span>),[dateStr,inst]);<span class="pl-k">else</span> <span class="pl-k">if</span>(<span class="pl-smi">inst</span>.<span class="pl-c1">input</span>)</td>
      </tr>
      <tr>
        <td id="L156" class="blob-num js-line-number" data-line-number="156"></td>
        <td id="LC156" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">inst</span>.<span class="pl-c1">input</span>.<span class="pl-en">trigger</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>change<span class="pl-pds">&#39;</span></span>);<span class="pl-k">if</span>(<span class="pl-smi">inst</span>.<span class="pl-smi">inline</span>)</td>
      </tr>
      <tr>
        <td id="L157" class="blob-num js-line-number" data-line-number="157"></td>
        <td id="LC157" class="blob-code blob-code-inner js-file-line"><span class="pl-v">this</span>.<span class="pl-en">_updateDatepicker</span>(inst);<span class="pl-k">else</span> <span class="pl-k">if</span>(<span class="pl-k">!</span><span class="pl-smi">inst</span>.<span class="pl-smi">stayOpen</span>){<span class="pl-v">this</span>.<span class="pl-en">_hideDatepicker</span>(<span class="pl-c1">null</span>,<span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>duration<span class="pl-pds">&#39;</span></span>));<span class="pl-v">this</span>.<span class="pl-smi">_lastInput</span><span class="pl-k">=</span><span class="pl-smi">inst</span>.<span class="pl-c1">input</span>[<span class="pl-c1">0</span>];<span class="pl-k">if</span>(<span class="pl-k">typeof</span>(<span class="pl-smi">inst</span>.<span class="pl-c1">input</span>[<span class="pl-c1">0</span>])<span class="pl-k">!=</span><span class="pl-s"><span class="pl-pds">&#39;</span>object<span class="pl-pds">&#39;</span></span>)</td>
      </tr>
      <tr>
        <td id="L158" class="blob-num js-line-number" data-line-number="158"></td>
        <td id="LC158" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">inst</span>.<span class="pl-c1">input</span>[<span class="pl-c1">0</span>].<span class="pl-c1">focus</span>();<span class="pl-v">this</span>.<span class="pl-smi">_lastInput</span><span class="pl-k">=</span><span class="pl-c1">null</span>;}},<span class="pl-en">_updateAlternate</span><span class="pl-k">:</span><span class="pl-k">function</span>(<span class="pl-smi">inst</span>){<span class="pl-k">var</span> altField<span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>altField<span class="pl-pds">&#39;</span></span>);<span class="pl-k">if</span>(altField){<span class="pl-k">var</span> altFormat<span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>altFormat<span class="pl-pds">&#39;</span></span>);<span class="pl-k">var</span> date<span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-en">_getDate</span>(inst);dateStr<span class="pl-k">=</span>(<span class="pl-en">isArray</span>(date)<span class="pl-k">?</span>(<span class="pl-k">!</span>date[<span class="pl-c1">0</span>]<span class="pl-k">&amp;&amp;!</span>date[<span class="pl-c1">1</span>]<span class="pl-k">?</span><span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-pds">&#39;</span></span><span class="pl-k">:</span><span class="pl-v">this</span>.<span class="pl-en">formatDate</span>(altFormat,date[<span class="pl-c1">0</span>],<span class="pl-v">this</span>.<span class="pl-en">_getFormatConfig</span>(inst))<span class="pl-k">+</span></td>
      </tr>
      <tr>
        <td id="L159" class="blob-num js-line-number" data-line-number="159"></td>
        <td id="LC159" class="blob-code blob-code-inner js-file-line"><span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>rangeSeparator<span class="pl-pds">&#39;</span></span>)<span class="pl-k">+</span><span class="pl-v">this</span>.<span class="pl-en">formatDate</span>(altFormat,date[<span class="pl-c1">1</span>]<span class="pl-k">||</span>date[<span class="pl-c1">0</span>],<span class="pl-v">this</span>.<span class="pl-en">_getFormatConfig</span>(inst)))<span class="pl-k">:</span><span class="pl-v">this</span>.<span class="pl-en">formatDate</span>(altFormat,date,<span class="pl-v">this</span>.<span class="pl-en">_getFormatConfig</span>(inst)));<span class="pl-en">$</span>(altField).<span class="pl-en">each</span>(<span class="pl-k">function</span>(){<span class="pl-en">$</span>(<span class="pl-v">this</span>).<span class="pl-en">val</span>(dateStr);});}},<span class="pl-en">noWeekends</span><span class="pl-k">:</span><span class="pl-k">function</span>(<span class="pl-smi">date</span>){<span class="pl-k">var</span> day<span class="pl-k">=</span><span class="pl-smi">date</span>.<span class="pl-c1">getDay</span>();<span class="pl-k">return</span>[(day<span class="pl-k">&gt;</span><span class="pl-c1">0</span><span class="pl-k">&amp;&amp;</span>day<span class="pl-k">&lt;</span><span class="pl-c1">6</span>),<span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-pds">&#39;</span></span>];},<span class="pl-en">iso8601Week</span><span class="pl-k">:</span><span class="pl-k">function</span>(<span class="pl-smi">date</span>){<span class="pl-k">var</span> checkDate<span class="pl-k">=</span><span class="pl-k">new</span> <span class="pl-en">Date</span>(<span class="pl-smi">date</span>.<span class="pl-c1">getFullYear</span>(),<span class="pl-smi">date</span>.<span class="pl-c1">getMonth</span>(),<span class="pl-smi">date</span>.<span class="pl-c1">getDate</span>(),(<span class="pl-smi">date</span>.<span class="pl-c1">getTimezoneOffset</span>()<span class="pl-k">/-</span><span class="pl-c1">60</span>));<span class="pl-k">var</span> firstMon<span class="pl-k">=</span><span class="pl-k">new</span> <span class="pl-en">Date</span>(<span class="pl-smi">checkDate</span>.<span class="pl-c1">getFullYear</span>(),<span class="pl-c1">1</span><span class="pl-k">-</span><span class="pl-c1">1</span>,<span class="pl-c1">4</span>);<span class="pl-k">var</span> firstDay<span class="pl-k">=</span><span class="pl-smi">firstMon</span>.<span class="pl-c1">getDay</span>()<span class="pl-k">||</span><span class="pl-c1">7</span>;<span class="pl-smi">firstMon</span>.<span class="pl-c1">setDate</span>(<span class="pl-smi">firstMon</span>.<span class="pl-c1">getDate</span>()<span class="pl-k">+</span><span class="pl-c1">1</span><span class="pl-k">-</span>firstDay);<span class="pl-k">if</span>(firstDay<span class="pl-k">&lt;</span><span class="pl-c1">4</span><span class="pl-k">&amp;&amp;</span>checkDate<span class="pl-k">&lt;</span>firstMon){<span class="pl-smi">checkDate</span>.<span class="pl-c1">setDate</span>(<span class="pl-smi">checkDate</span>.<span class="pl-c1">getDate</span>()<span class="pl-k">-</span><span class="pl-c1">3</span>);<span class="pl-k">return</span> <span class="pl-smi">$</span>.<span class="pl-smi">datepicker</span>.<span class="pl-en">iso8601Week</span>(checkDate);}<span class="pl-k">else</span> <span class="pl-k">if</span>(checkDate<span class="pl-k">&gt;</span><span class="pl-k">new</span> <span class="pl-en">Date</span>(<span class="pl-smi">checkDate</span>.<span class="pl-c1">getFullYear</span>(),<span class="pl-c1">12</span><span class="pl-k">-</span><span class="pl-c1">1</span>,<span class="pl-c1">28</span>)){firstDay<span class="pl-k">=</span><span class="pl-k">new</span> <span class="pl-en">Date</span>(<span class="pl-smi">checkDate</span>.<span class="pl-c1">getFullYear</span>()<span class="pl-k">+</span><span class="pl-c1">1</span>,<span class="pl-c1">1</span><span class="pl-k">-</span><span class="pl-c1">1</span>,<span class="pl-c1">4</span>).<span class="pl-c1">getDay</span>()<span class="pl-k">||</span><span class="pl-c1">7</span>;<span class="pl-k">if</span>(firstDay<span class="pl-k">&gt;</span><span class="pl-c1">4</span><span class="pl-k">&amp;&amp;</span>(<span class="pl-smi">checkDate</span>.<span class="pl-c1">getDay</span>()<span class="pl-k">||</span><span class="pl-c1">7</span>)<span class="pl-k">&lt;</span>firstDay<span class="pl-k">-</span><span class="pl-c1">3</span>){<span class="pl-k">return</span> <span class="pl-c1">1</span>;}}</td>
      </tr>
      <tr>
        <td id="L160" class="blob-num js-line-number" data-line-number="160"></td>
        <td id="LC160" class="blob-code blob-code-inner js-file-line"><span class="pl-k">return</span> <span class="pl-smi">Math</span>.<span class="pl-c1">floor</span>(((checkDate<span class="pl-k">-</span>firstMon)<span class="pl-k">/</span><span class="pl-c1">86400000</span>)<span class="pl-k">/</span><span class="pl-c1">7</span>)<span class="pl-k">+</span><span class="pl-c1">1</span>;},<span class="pl-en">dateStatus</span><span class="pl-k">:</span><span class="pl-k">function</span>(<span class="pl-smi">date</span>,<span class="pl-smi">inst</span>){<span class="pl-k">return</span> <span class="pl-smi">$</span>.<span class="pl-smi">datepicker</span>.<span class="pl-en">formatDate</span>(<span class="pl-smi">$</span>.<span class="pl-smi">datepicker</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>dateStatus<span class="pl-pds">&#39;</span></span>),date,<span class="pl-smi">$</span>.<span class="pl-smi">datepicker</span>.<span class="pl-en">_getFormatConfig</span>(inst));},<span class="pl-en">parseDate</span><span class="pl-k">:</span><span class="pl-k">function</span>(<span class="pl-smi">format</span>,<span class="pl-smi">value</span>,<span class="pl-smi">settings</span>){<span class="pl-k">if</span>(format<span class="pl-k">==</span><span class="pl-c1">null</span><span class="pl-k">||</span>value<span class="pl-k">==</span><span class="pl-c1">null</span>)</td>
      </tr>
      <tr>
        <td id="L161" class="blob-num js-line-number" data-line-number="161"></td>
        <td id="LC161" class="blob-code blob-code-inner js-file-line"><span class="pl-k">throw</span><span class="pl-s"><span class="pl-pds">&#39;</span>Invalid arguments<span class="pl-pds">&#39;</span></span>;value<span class="pl-k">=</span>(<span class="pl-k">typeof</span> value<span class="pl-k">==</span><span class="pl-s"><span class="pl-pds">&#39;</span>object<span class="pl-pds">&#39;</span></span><span class="pl-k">?</span><span class="pl-smi">value</span>.<span class="pl-c1">toString</span>()<span class="pl-k">:</span>value<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-pds">&#39;</span></span>);<span class="pl-k">if</span>(value<span class="pl-k">==</span><span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-pds">&#39;</span></span>)</td>
      </tr>
      <tr>
        <td id="L162" class="blob-num js-line-number" data-line-number="162"></td>
        <td id="LC162" class="blob-code blob-code-inner js-file-line"><span class="pl-k">return</span> <span class="pl-c1">null</span>;<span class="pl-k">var</span> shortYearCutoff<span class="pl-k">=</span>(settings<span class="pl-k">?</span><span class="pl-smi">settings</span>.<span class="pl-smi">shortYearCutoff</span><span class="pl-k">:</span><span class="pl-c1">null</span>)<span class="pl-k">||</span><span class="pl-v">this</span>.<span class="pl-smi">_defaults</span>.<span class="pl-smi">shortYearCutoff</span>;<span class="pl-k">var</span> dayNamesShort<span class="pl-k">=</span>(settings<span class="pl-k">?</span><span class="pl-smi">settings</span>.<span class="pl-smi">dayNamesShort</span><span class="pl-k">:</span><span class="pl-c1">null</span>)<span class="pl-k">||</span><span class="pl-v">this</span>.<span class="pl-smi">_defaults</span>.<span class="pl-smi">dayNamesShort</span>;<span class="pl-k">var</span> dayNames<span class="pl-k">=</span>(settings<span class="pl-k">?</span><span class="pl-smi">settings</span>.<span class="pl-smi">dayNames</span><span class="pl-k">:</span><span class="pl-c1">null</span>)<span class="pl-k">||</span><span class="pl-v">this</span>.<span class="pl-smi">_defaults</span>.<span class="pl-smi">dayNames</span>;<span class="pl-k">var</span> monthNamesShort<span class="pl-k">=</span>(settings<span class="pl-k">?</span><span class="pl-smi">settings</span>.<span class="pl-smi">monthNamesShort</span><span class="pl-k">:</span><span class="pl-c1">null</span>)<span class="pl-k">||</span><span class="pl-v">this</span>.<span class="pl-smi">_defaults</span>.<span class="pl-smi">monthNamesShort</span>;<span class="pl-k">var</span> monthNames<span class="pl-k">=</span>(settings<span class="pl-k">?</span><span class="pl-smi">settings</span>.<span class="pl-smi">monthNames</span><span class="pl-k">:</span><span class="pl-c1">null</span>)<span class="pl-k">||</span><span class="pl-v">this</span>.<span class="pl-smi">_defaults</span>.<span class="pl-smi">monthNames</span>;<span class="pl-k">var</span> year<span class="pl-k">=</span><span class="pl-k">-</span><span class="pl-c1">1</span>;<span class="pl-k">var</span> month<span class="pl-k">=</span><span class="pl-k">-</span><span class="pl-c1">1</span>;<span class="pl-k">var</span> day<span class="pl-k">=</span><span class="pl-k">-</span><span class="pl-c1">1</span>;<span class="pl-k">var</span> doy<span class="pl-k">=</span><span class="pl-k">-</span><span class="pl-c1">1</span>;<span class="pl-k">var</span> literal<span class="pl-k">=</span><span class="pl-c1">false</span>;<span class="pl-k">var</span> <span class="pl-en">lookAhead</span><span class="pl-k">=</span><span class="pl-k">function</span>(<span class="pl-smi">match</span>){<span class="pl-k">var</span> matches<span class="pl-k">=</span>(iFormat<span class="pl-k">+</span><span class="pl-c1">1</span><span class="pl-k">&lt;</span><span class="pl-smi">format</span>.<span class="pl-c1">length</span><span class="pl-k">&amp;&amp;</span><span class="pl-smi">format</span>.<span class="pl-c1">charAt</span>(iFormat<span class="pl-k">+</span><span class="pl-c1">1</span>)<span class="pl-k">==</span>match);<span class="pl-k">if</span>(matches)</td>
      </tr>
      <tr>
        <td id="L163" class="blob-num js-line-number" data-line-number="163"></td>
        <td id="LC163" class="blob-code blob-code-inner js-file-line">iFormat<span class="pl-k">++</span>;<span class="pl-k">return</span> matches;};<span class="pl-k">var</span> <span class="pl-en">getNumber</span><span class="pl-k">=</span><span class="pl-k">function</span>(<span class="pl-smi">match</span>){<span class="pl-en">lookAhead</span>(match);<span class="pl-k">var</span> origSize<span class="pl-k">=</span>(match<span class="pl-k">==</span><span class="pl-s"><span class="pl-pds">&#39;</span>@<span class="pl-pds">&#39;</span></span><span class="pl-k">?</span><span class="pl-c1">14</span><span class="pl-k">:</span>(match<span class="pl-k">==</span><span class="pl-s"><span class="pl-pds">&#39;</span>y<span class="pl-pds">&#39;</span></span><span class="pl-k">?</span><span class="pl-c1">4</span><span class="pl-k">:</span>(match<span class="pl-k">==</span><span class="pl-s"><span class="pl-pds">&#39;</span>o<span class="pl-pds">&#39;</span></span><span class="pl-k">?</span><span class="pl-c1">3</span><span class="pl-k">:</span><span class="pl-c1">2</span>)));<span class="pl-k">var</span> size<span class="pl-k">=</span>origSize;<span class="pl-k">var</span> num<span class="pl-k">=</span><span class="pl-c1">0</span>;<span class="pl-k">while</span>(size<span class="pl-k">&gt;</span><span class="pl-c1">0</span><span class="pl-k">&amp;&amp;</span>iValue<span class="pl-k">&lt;</span><span class="pl-smi">value</span>.<span class="pl-c1">length</span><span class="pl-k">&amp;&amp;</span><span class="pl-smi">value</span>.<span class="pl-c1">charAt</span>(iValue)<span class="pl-k">&gt;=</span><span class="pl-s"><span class="pl-pds">&#39;</span>0<span class="pl-pds">&#39;</span></span><span class="pl-k">&amp;&amp;</span><span class="pl-smi">value</span>.<span class="pl-c1">charAt</span>(iValue)<span class="pl-k">&lt;=</span><span class="pl-s"><span class="pl-pds">&#39;</span>9<span class="pl-pds">&#39;</span></span>){num<span class="pl-k">=</span>num<span class="pl-k">*</span><span class="pl-c1">10</span><span class="pl-k">+</span><span class="pl-c1">parseInt</span>(<span class="pl-smi">value</span>.<span class="pl-c1">charAt</span>(iValue<span class="pl-k">++</span>),<span class="pl-c1">10</span>);size<span class="pl-k">--</span>;}</td>
      </tr>
      <tr>
        <td id="L164" class="blob-num js-line-number" data-line-number="164"></td>
        <td id="LC164" class="blob-code blob-code-inner js-file-line"><span class="pl-k">if</span>(size<span class="pl-k">==</span>origSize)</td>
      </tr>
      <tr>
        <td id="L165" class="blob-num js-line-number" data-line-number="165"></td>
        <td id="LC165" class="blob-code blob-code-inner js-file-line"><span class="pl-k">throw</span><span class="pl-s"><span class="pl-pds">&#39;</span>Missing number at position <span class="pl-pds">&#39;</span></span><span class="pl-k">+</span>iValue;<span class="pl-k">return</span> num;};<span class="pl-k">var</span> <span class="pl-en">getName</span><span class="pl-k">=</span><span class="pl-k">function</span>(<span class="pl-smi">match</span>,<span class="pl-smi">shortNames</span>,<span class="pl-smi">longNames</span>){<span class="pl-k">var</span> names<span class="pl-k">=</span>(<span class="pl-en">lookAhead</span>(match)<span class="pl-k">?</span>longNames<span class="pl-k">:</span>shortNames);<span class="pl-k">var</span> size<span class="pl-k">=</span><span class="pl-c1">0</span>;<span class="pl-k">for</span>(<span class="pl-k">var</span> j<span class="pl-k">=</span><span class="pl-c1">0</span>;j<span class="pl-k">&lt;</span><span class="pl-smi">names</span>.<span class="pl-c1">length</span>;j<span class="pl-k">++</span>)</td>
      </tr>
      <tr>
        <td id="L166" class="blob-num js-line-number" data-line-number="166"></td>
        <td id="LC166" class="blob-code blob-code-inner js-file-line">size<span class="pl-k">=</span><span class="pl-smi">Math</span>.<span class="pl-c1">max</span>(size,names[j].<span class="pl-c1">length</span>);<span class="pl-k">var</span> name<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-pds">&#39;</span></span>;<span class="pl-k">var</span> iInit<span class="pl-k">=</span>iValue;<span class="pl-k">while</span>(size<span class="pl-k">&gt;</span><span class="pl-c1">0</span><span class="pl-k">&amp;&amp;</span>iValue<span class="pl-k">&lt;</span><span class="pl-smi">value</span>.<span class="pl-c1">length</span>){name<span class="pl-k">+=</span><span class="pl-smi">value</span>.<span class="pl-c1">charAt</span>(iValue<span class="pl-k">++</span>);<span class="pl-k">for</span>(<span class="pl-k">var</span> i<span class="pl-k">=</span><span class="pl-c1">0</span>;i<span class="pl-k">&lt;</span><span class="pl-smi">names</span>.<span class="pl-c1">length</span>;i<span class="pl-k">++</span>)</td>
      </tr>
      <tr>
        <td id="L167" class="blob-num js-line-number" data-line-number="167"></td>
        <td id="LC167" class="blob-code blob-code-inner js-file-line"><span class="pl-k">if</span>(name<span class="pl-k">==</span>names[i])</td>
      </tr>
      <tr>
        <td id="L168" class="blob-num js-line-number" data-line-number="168"></td>
        <td id="LC168" class="blob-code blob-code-inner js-file-line"><span class="pl-k">return</span> i<span class="pl-k">+</span><span class="pl-c1">1</span>;size<span class="pl-k">--</span>;}</td>
      </tr>
      <tr>
        <td id="L169" class="blob-num js-line-number" data-line-number="169"></td>
        <td id="LC169" class="blob-code blob-code-inner js-file-line"><span class="pl-k">throw</span><span class="pl-s"><span class="pl-pds">&#39;</span>Unknown name at position <span class="pl-pds">&#39;</span></span><span class="pl-k">+</span>iInit;};<span class="pl-k">var</span> <span class="pl-en">checkLiteral</span><span class="pl-k">=</span><span class="pl-k">function</span>(){<span class="pl-k">if</span>(<span class="pl-smi">value</span>.<span class="pl-c1">charAt</span>(iValue)<span class="pl-k">!=</span><span class="pl-smi">format</span>.<span class="pl-c1">charAt</span>(iFormat))</td>
      </tr>
      <tr>
        <td id="L170" class="blob-num js-line-number" data-line-number="170"></td>
        <td id="LC170" class="blob-code blob-code-inner js-file-line"><span class="pl-k">throw</span><span class="pl-s"><span class="pl-pds">&#39;</span>Unexpected literal at position <span class="pl-pds">&#39;</span></span><span class="pl-k">+</span>iValue;iValue<span class="pl-k">++</span>;};<span class="pl-k">var</span> iValue<span class="pl-k">=</span><span class="pl-c1">0</span>;<span class="pl-k">for</span>(<span class="pl-k">var</span> iFormat<span class="pl-k">=</span><span class="pl-c1">0</span>;iFormat<span class="pl-k">&lt;</span><span class="pl-smi">format</span>.<span class="pl-c1">length</span>;iFormat<span class="pl-k">++</span>){<span class="pl-k">if</span>(literal)</td>
      </tr>
      <tr>
        <td id="L171" class="blob-num js-line-number" data-line-number="171"></td>
        <td id="LC171" class="blob-code blob-code-inner js-file-line"><span class="pl-k">if</span>(<span class="pl-smi">format</span>.<span class="pl-c1">charAt</span>(iFormat)<span class="pl-k">==</span><span class="pl-s"><span class="pl-pds">&quot;</span>&#39;<span class="pl-pds">&quot;</span></span><span class="pl-k">&amp;&amp;!</span><span class="pl-en">lookAhead</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>&#39;<span class="pl-pds">&quot;</span></span>))</td>
      </tr>
      <tr>
        <td id="L172" class="blob-num js-line-number" data-line-number="172"></td>
        <td id="LC172" class="blob-code blob-code-inner js-file-line">literal<span class="pl-k">=</span><span class="pl-c1">false</span>;<span class="pl-k">else</span></td>
      </tr>
      <tr>
        <td id="L173" class="blob-num js-line-number" data-line-number="173"></td>
        <td id="LC173" class="blob-code blob-code-inner js-file-line"><span class="pl-en">checkLiteral</span>();<span class="pl-k">else</span></td>
      </tr>
      <tr>
        <td id="L174" class="blob-num js-line-number" data-line-number="174"></td>
        <td id="LC174" class="blob-code blob-code-inner js-file-line"><span class="pl-k">switch</span>(<span class="pl-smi">format</span>.<span class="pl-c1">charAt</span>(iFormat)){<span class="pl-k">case</span><span class="pl-s"><span class="pl-pds">&#39;</span>d<span class="pl-pds">&#39;</span></span><span class="pl-k">:</span>day<span class="pl-k">=</span><span class="pl-en">getNumber</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>d<span class="pl-pds">&#39;</span></span>);<span class="pl-k">break</span>;<span class="pl-k">case</span><span class="pl-s"><span class="pl-pds">&#39;</span>D<span class="pl-pds">&#39;</span></span><span class="pl-k">:</span><span class="pl-en">getName</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>D<span class="pl-pds">&#39;</span></span>,dayNamesShort,dayNames);<span class="pl-k">break</span>;<span class="pl-k">case</span><span class="pl-s"><span class="pl-pds">&#39;</span>o<span class="pl-pds">&#39;</span></span><span class="pl-k">:</span>doy<span class="pl-k">=</span><span class="pl-en">getNumber</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>o<span class="pl-pds">&#39;</span></span>);<span class="pl-k">break</span>;<span class="pl-k">case</span><span class="pl-s"><span class="pl-pds">&#39;</span>m<span class="pl-pds">&#39;</span></span><span class="pl-k">:</span>month<span class="pl-k">=</span><span class="pl-en">getNumber</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>m<span class="pl-pds">&#39;</span></span>);<span class="pl-k">break</span>;<span class="pl-k">case</span><span class="pl-s"><span class="pl-pds">&#39;</span>M<span class="pl-pds">&#39;</span></span><span class="pl-k">:</span>month<span class="pl-k">=</span><span class="pl-en">getName</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>M<span class="pl-pds">&#39;</span></span>,monthNamesShort,monthNames);<span class="pl-k">break</span>;<span class="pl-k">case</span><span class="pl-s"><span class="pl-pds">&#39;</span>y<span class="pl-pds">&#39;</span></span><span class="pl-k">:</span>year<span class="pl-k">=</span><span class="pl-en">getNumber</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>y<span class="pl-pds">&#39;</span></span>);<span class="pl-k">break</span>;<span class="pl-k">case</span><span class="pl-s"><span class="pl-pds">&#39;</span>@<span class="pl-pds">&#39;</span></span><span class="pl-k">:</span><span class="pl-k">var</span> date<span class="pl-k">=</span><span class="pl-k">new</span> <span class="pl-en">Date</span>(<span class="pl-en">getNumber</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>@<span class="pl-pds">&#39;</span></span>));year<span class="pl-k">=</span><span class="pl-smi">date</span>.<span class="pl-c1">getFullYear</span>();month<span class="pl-k">=</span><span class="pl-smi">date</span>.<span class="pl-c1">getMonth</span>()<span class="pl-k">+</span><span class="pl-c1">1</span>;day<span class="pl-k">=</span><span class="pl-smi">date</span>.<span class="pl-c1">getDate</span>();<span class="pl-k">break</span>;<span class="pl-k">case</span><span class="pl-s"><span class="pl-pds">&quot;</span>&#39;<span class="pl-pds">&quot;</span></span><span class="pl-k">:</span><span class="pl-k">if</span>(<span class="pl-en">lookAhead</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>&#39;<span class="pl-pds">&quot;</span></span>))</td>
      </tr>
      <tr>
        <td id="L175" class="blob-num js-line-number" data-line-number="175"></td>
        <td id="LC175" class="blob-code blob-code-inner js-file-line"><span class="pl-en">checkLiteral</span>();<span class="pl-k">else</span></td>
      </tr>
      <tr>
        <td id="L176" class="blob-num js-line-number" data-line-number="176"></td>
        <td id="LC176" class="blob-code blob-code-inner js-file-line">literal<span class="pl-k">=</span><span class="pl-c1">true</span>;<span class="pl-k">break</span>;<span class="pl-k">default</span><span class="pl-k">:</span><span class="pl-en">checkLiteral</span>();}}</td>
      </tr>
      <tr>
        <td id="L177" class="blob-num js-line-number" data-line-number="177"></td>
        <td id="LC177" class="blob-code blob-code-inner js-file-line"><span class="pl-k">if</span>(year<span class="pl-k">&lt;</span><span class="pl-c1">100</span>)</td>
      </tr>
      <tr>
        <td id="L178" class="blob-num js-line-number" data-line-number="178"></td>
        <td id="LC178" class="blob-code blob-code-inner js-file-line">year<span class="pl-k">+=</span><span class="pl-k">new</span> <span class="pl-en">Date</span>().<span class="pl-c1">getFullYear</span>()<span class="pl-k">-</span><span class="pl-k">new</span> <span class="pl-en">Date</span>().<span class="pl-c1">getFullYear</span>()<span class="pl-k">%</span><span class="pl-c1">100</span><span class="pl-k">+</span></td>
      </tr>
      <tr>
        <td id="L179" class="blob-num js-line-number" data-line-number="179"></td>
        <td id="LC179" class="blob-code blob-code-inner js-file-line">(year<span class="pl-k">&lt;=</span>shortYearCutoff<span class="pl-k">?</span><span class="pl-c1">0</span><span class="pl-k">:-</span><span class="pl-c1">100</span>);<span class="pl-k">if</span>(doy<span class="pl-k">&gt;</span><span class="pl-k">-</span><span class="pl-c1">1</span>){month<span class="pl-k">=</span><span class="pl-c1">1</span>;day<span class="pl-k">=</span>doy;<span class="pl-k">do</span>{<span class="pl-k">var</span> dim<span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-en">_getDaysInMonth</span>(year,month<span class="pl-k">-</span><span class="pl-c1">1</span>);<span class="pl-k">if</span>(day<span class="pl-k">&lt;=</span>dim)</td>
      </tr>
      <tr>
        <td id="L180" class="blob-num js-line-number" data-line-number="180"></td>
        <td id="LC180" class="blob-code blob-code-inner js-file-line"><span class="pl-k">break</span>;month<span class="pl-k">++</span>;day<span class="pl-k">-=</span>dim;}<span class="pl-k">while</span>(<span class="pl-c1">true</span>);}</td>
      </tr>
      <tr>
        <td id="L181" class="blob-num js-line-number" data-line-number="181"></td>
        <td id="LC181" class="blob-code blob-code-inner js-file-line"><span class="pl-k">var</span> date<span class="pl-k">=</span><span class="pl-k">new</span> <span class="pl-en">Date</span>(year,month<span class="pl-k">-</span><span class="pl-c1">1</span>,day);<span class="pl-k">if</span>(<span class="pl-smi">date</span>.<span class="pl-c1">getFullYear</span>()<span class="pl-k">!=</span>year<span class="pl-k">||</span><span class="pl-smi">date</span>.<span class="pl-c1">getMonth</span>()<span class="pl-k">+</span><span class="pl-c1">1</span><span class="pl-k">!=</span>month<span class="pl-k">||</span><span class="pl-smi">date</span>.<span class="pl-c1">getDate</span>()<span class="pl-k">!=</span>day)</td>
      </tr>
      <tr>
        <td id="L182" class="blob-num js-line-number" data-line-number="182"></td>
        <td id="LC182" class="blob-code blob-code-inner js-file-line"><span class="pl-k">throw</span><span class="pl-s"><span class="pl-pds">&#39;</span>Invalid date<span class="pl-pds">&#39;</span></span>;<span class="pl-k">return</span> date;},ATOM<span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span>yy-mm-dd<span class="pl-pds">&#39;</span></span>,COOKIE<span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span>D, dd M yy<span class="pl-pds">&#39;</span></span>,ISO_8601<span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span>yy-mm-dd<span class="pl-pds">&#39;</span></span>,RFC_822<span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span>D, d M y<span class="pl-pds">&#39;</span></span>,RFC_850<span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span>DD, dd-M-y<span class="pl-pds">&#39;</span></span>,RFC_1036<span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span>D, d M y<span class="pl-pds">&#39;</span></span>,RFC_1123<span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span>D, d M yy<span class="pl-pds">&#39;</span></span>,RFC_2822<span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span>D, d M yy<span class="pl-pds">&#39;</span></span>,RSS<span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span>D, d M y<span class="pl-pds">&#39;</span></span>,TIMESTAMP<span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span>@<span class="pl-pds">&#39;</span></span>,W3C<span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span>yy-mm-dd<span class="pl-pds">&#39;</span></span>,<span class="pl-en">formatDate</span><span class="pl-k">:</span><span class="pl-k">function</span>(<span class="pl-smi">format</span>,<span class="pl-smi">date</span>,<span class="pl-smi">settings</span>){<span class="pl-k">if</span>(<span class="pl-k">!</span>date)</td>
      </tr>
      <tr>
        <td id="L183" class="blob-num js-line-number" data-line-number="183"></td>
        <td id="LC183" class="blob-code blob-code-inner js-file-line"><span class="pl-k">return</span><span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-pds">&#39;</span></span>;<span class="pl-k">var</span> dayNamesShort<span class="pl-k">=</span>(settings<span class="pl-k">?</span><span class="pl-smi">settings</span>.<span class="pl-smi">dayNamesShort</span><span class="pl-k">:</span><span class="pl-c1">null</span>)<span class="pl-k">||</span><span class="pl-v">this</span>.<span class="pl-smi">_defaults</span>.<span class="pl-smi">dayNamesShort</span>;<span class="pl-k">var</span> dayNames<span class="pl-k">=</span>(settings<span class="pl-k">?</span><span class="pl-smi">settings</span>.<span class="pl-smi">dayNames</span><span class="pl-k">:</span><span class="pl-c1">null</span>)<span class="pl-k">||</span><span class="pl-v">this</span>.<span class="pl-smi">_defaults</span>.<span class="pl-smi">dayNames</span>;<span class="pl-k">var</span> monthNamesShort<span class="pl-k">=</span>(settings<span class="pl-k">?</span><span class="pl-smi">settings</span>.<span class="pl-smi">monthNamesShort</span><span class="pl-k">:</span><span class="pl-c1">null</span>)<span class="pl-k">||</span><span class="pl-v">this</span>.<span class="pl-smi">_defaults</span>.<span class="pl-smi">monthNamesShort</span>;<span class="pl-k">var</span> monthNames<span class="pl-k">=</span>(settings<span class="pl-k">?</span><span class="pl-smi">settings</span>.<span class="pl-smi">monthNames</span><span class="pl-k">:</span><span class="pl-c1">null</span>)<span class="pl-k">||</span><span class="pl-v">this</span>.<span class="pl-smi">_defaults</span>.<span class="pl-smi">monthNames</span>;<span class="pl-k">var</span> <span class="pl-en">lookAhead</span><span class="pl-k">=</span><span class="pl-k">function</span>(<span class="pl-smi">match</span>){<span class="pl-k">var</span> matches<span class="pl-k">=</span>(iFormat<span class="pl-k">+</span><span class="pl-c1">1</span><span class="pl-k">&lt;</span><span class="pl-smi">format</span>.<span class="pl-c1">length</span><span class="pl-k">&amp;&amp;</span><span class="pl-smi">format</span>.<span class="pl-c1">charAt</span>(iFormat<span class="pl-k">+</span><span class="pl-c1">1</span>)<span class="pl-k">==</span>match);<span class="pl-k">if</span>(matches)</td>
      </tr>
      <tr>
        <td id="L184" class="blob-num js-line-number" data-line-number="184"></td>
        <td id="LC184" class="blob-code blob-code-inner js-file-line">iFormat<span class="pl-k">++</span>;<span class="pl-k">return</span> matches;};<span class="pl-k">var</span> <span class="pl-en">formatNumber</span><span class="pl-k">=</span><span class="pl-k">function</span>(<span class="pl-smi">match</span>,<span class="pl-smi">value</span>,<span class="pl-smi">len</span>){<span class="pl-k">var</span> num<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-pds">&#39;</span></span><span class="pl-k">+</span>value;<span class="pl-k">if</span>(<span class="pl-en">lookAhead</span>(match))</td>
      </tr>
      <tr>
        <td id="L185" class="blob-num js-line-number" data-line-number="185"></td>
        <td id="LC185" class="blob-code blob-code-inner js-file-line"><span class="pl-k">while</span>(<span class="pl-smi">num</span>.<span class="pl-c1">length</span><span class="pl-k">&lt;</span>len)</td>
      </tr>
      <tr>
        <td id="L186" class="blob-num js-line-number" data-line-number="186"></td>
        <td id="LC186" class="blob-code blob-code-inner js-file-line">num<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">&#39;</span>0<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span>num;<span class="pl-k">return</span> num;};<span class="pl-k">var</span> <span class="pl-en">formatName</span><span class="pl-k">=</span><span class="pl-k">function</span>(<span class="pl-smi">match</span>,<span class="pl-smi">value</span>,<span class="pl-smi">shortNames</span>,<span class="pl-smi">longNames</span>){<span class="pl-k">return</span>(<span class="pl-en">lookAhead</span>(match)<span class="pl-k">?</span>longNames[value]<span class="pl-k">:</span>shortNames[value]);};<span class="pl-k">var</span> output<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-pds">&#39;</span></span>;<span class="pl-k">var</span> literal<span class="pl-k">=</span><span class="pl-c1">false</span>;<span class="pl-k">if</span>(date)</td>
      </tr>
      <tr>
        <td id="L187" class="blob-num js-line-number" data-line-number="187"></td>
        <td id="LC187" class="blob-code blob-code-inner js-file-line"><span class="pl-k">for</span>(<span class="pl-k">var</span> iFormat<span class="pl-k">=</span><span class="pl-c1">0</span>;iFormat<span class="pl-k">&lt;</span><span class="pl-smi">format</span>.<span class="pl-c1">length</span>;iFormat<span class="pl-k">++</span>){<span class="pl-k">if</span>(literal)</td>
      </tr>
      <tr>
        <td id="L188" class="blob-num js-line-number" data-line-number="188"></td>
        <td id="LC188" class="blob-code blob-code-inner js-file-line"><span class="pl-k">if</span>(<span class="pl-smi">format</span>.<span class="pl-c1">charAt</span>(iFormat)<span class="pl-k">==</span><span class="pl-s"><span class="pl-pds">&quot;</span>&#39;<span class="pl-pds">&quot;</span></span><span class="pl-k">&amp;&amp;!</span><span class="pl-en">lookAhead</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>&#39;<span class="pl-pds">&quot;</span></span>))</td>
      </tr>
      <tr>
        <td id="L189" class="blob-num js-line-number" data-line-number="189"></td>
        <td id="LC189" class="blob-code blob-code-inner js-file-line">literal<span class="pl-k">=</span><span class="pl-c1">false</span>;<span class="pl-k">else</span></td>
      </tr>
      <tr>
        <td id="L190" class="blob-num js-line-number" data-line-number="190"></td>
        <td id="LC190" class="blob-code blob-code-inner js-file-line">output<span class="pl-k">+=</span><span class="pl-smi">format</span>.<span class="pl-c1">charAt</span>(iFormat);<span class="pl-k">else</span></td>
      </tr>
      <tr>
        <td id="L191" class="blob-num js-line-number" data-line-number="191"></td>
        <td id="LC191" class="blob-code blob-code-inner js-file-line"><span class="pl-k">switch</span>(<span class="pl-smi">format</span>.<span class="pl-c1">charAt</span>(iFormat)){<span class="pl-k">case</span><span class="pl-s"><span class="pl-pds">&#39;</span>d<span class="pl-pds">&#39;</span></span><span class="pl-k">:</span>output<span class="pl-k">+=</span><span class="pl-en">formatNumber</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>d<span class="pl-pds">&#39;</span></span>,<span class="pl-smi">date</span>.<span class="pl-c1">getDate</span>(),<span class="pl-c1">2</span>);<span class="pl-k">break</span>;<span class="pl-k">case</span><span class="pl-s"><span class="pl-pds">&#39;</span>D<span class="pl-pds">&#39;</span></span><span class="pl-k">:</span>output<span class="pl-k">+=</span><span class="pl-en">formatName</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>D<span class="pl-pds">&#39;</span></span>,<span class="pl-smi">date</span>.<span class="pl-c1">getDay</span>(),dayNamesShort,dayNames);<span class="pl-k">break</span>;<span class="pl-k">case</span><span class="pl-s"><span class="pl-pds">&#39;</span>o<span class="pl-pds">&#39;</span></span><span class="pl-k">:</span><span class="pl-k">var</span> doy<span class="pl-k">=</span><span class="pl-smi">date</span>.<span class="pl-c1">getDate</span>();<span class="pl-k">for</span>(<span class="pl-k">var</span> m<span class="pl-k">=</span><span class="pl-smi">date</span>.<span class="pl-c1">getMonth</span>()<span class="pl-k">-</span><span class="pl-c1">1</span>;m<span class="pl-k">&gt;=</span><span class="pl-c1">0</span>;m<span class="pl-k">--</span>)</td>
      </tr>
      <tr>
        <td id="L192" class="blob-num js-line-number" data-line-number="192"></td>
        <td id="LC192" class="blob-code blob-code-inner js-file-line">doy<span class="pl-k">+=</span><span class="pl-v">this</span>.<span class="pl-en">_getDaysInMonth</span>(<span class="pl-smi">date</span>.<span class="pl-c1">getFullYear</span>(),m);output<span class="pl-k">+=</span><span class="pl-en">formatNumber</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>o<span class="pl-pds">&#39;</span></span>,doy,<span class="pl-c1">3</span>);<span class="pl-k">break</span>;<span class="pl-k">case</span><span class="pl-s"><span class="pl-pds">&#39;</span>m<span class="pl-pds">&#39;</span></span><span class="pl-k">:</span>output<span class="pl-k">+=</span><span class="pl-en">formatNumber</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>m<span class="pl-pds">&#39;</span></span>,<span class="pl-smi">date</span>.<span class="pl-c1">getMonth</span>()<span class="pl-k">+</span><span class="pl-c1">1</span>,<span class="pl-c1">2</span>);<span class="pl-k">break</span>;<span class="pl-k">case</span><span class="pl-s"><span class="pl-pds">&#39;</span>M<span class="pl-pds">&#39;</span></span><span class="pl-k">:</span>output<span class="pl-k">+=</span><span class="pl-en">formatName</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>M<span class="pl-pds">&#39;</span></span>,<span class="pl-smi">date</span>.<span class="pl-c1">getMonth</span>(),monthNamesShort,monthNames);<span class="pl-k">break</span>;<span class="pl-k">case</span><span class="pl-s"><span class="pl-pds">&#39;</span>y<span class="pl-pds">&#39;</span></span><span class="pl-k">:</span>output<span class="pl-k">+=</span>(<span class="pl-en">lookAhead</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>y<span class="pl-pds">&#39;</span></span>)<span class="pl-k">?</span><span class="pl-smi">date</span>.<span class="pl-c1">getFullYear</span>()<span class="pl-k">:</span>(<span class="pl-smi">date</span>.<span class="pl-c1">getYear</span>()<span class="pl-k">%</span><span class="pl-c1">100</span><span class="pl-k">&lt;</span><span class="pl-c1">10</span><span class="pl-k">?</span><span class="pl-s"><span class="pl-pds">&#39;</span>0<span class="pl-pds">&#39;</span></span><span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-pds">&#39;</span></span>)<span class="pl-k">+</span><span class="pl-smi">date</span>.<span class="pl-c1">getYear</span>()<span class="pl-k">%</span><span class="pl-c1">100</span>);<span class="pl-k">break</span>;<span class="pl-k">case</span><span class="pl-s"><span class="pl-pds">&#39;</span>@<span class="pl-pds">&#39;</span></span><span class="pl-k">:</span>output<span class="pl-k">+=</span><span class="pl-smi">date</span>.<span class="pl-c1">getTime</span>();<span class="pl-k">break</span>;<span class="pl-k">case</span><span class="pl-s"><span class="pl-pds">&quot;</span>&#39;<span class="pl-pds">&quot;</span></span><span class="pl-k">:</span><span class="pl-k">if</span>(<span class="pl-en">lookAhead</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>&#39;<span class="pl-pds">&quot;</span></span>))</td>
      </tr>
      <tr>
        <td id="L193" class="blob-num js-line-number" data-line-number="193"></td>
        <td id="LC193" class="blob-code blob-code-inner js-file-line">output<span class="pl-k">+=</span><span class="pl-s"><span class="pl-pds">&quot;</span>&#39;<span class="pl-pds">&quot;</span></span>;<span class="pl-k">else</span></td>
      </tr>
      <tr>
        <td id="L194" class="blob-num js-line-number" data-line-number="194"></td>
        <td id="LC194" class="blob-code blob-code-inner js-file-line">literal<span class="pl-k">=</span><span class="pl-c1">true</span>;<span class="pl-k">break</span>;<span class="pl-k">default</span><span class="pl-k">:</span>output<span class="pl-k">+=</span><span class="pl-smi">format</span>.<span class="pl-c1">charAt</span>(iFormat);}}</td>
      </tr>
      <tr>
        <td id="L195" class="blob-num js-line-number" data-line-number="195"></td>
        <td id="LC195" class="blob-code blob-code-inner js-file-line"><span class="pl-k">return</span> output;},<span class="pl-en">_possibleChars</span><span class="pl-k">:</span><span class="pl-k">function</span>(<span class="pl-smi">format</span>){<span class="pl-k">var</span> chars<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-pds">&#39;</span></span>;<span class="pl-k">var</span> literal<span class="pl-k">=</span><span class="pl-c1">false</span>;<span class="pl-k">for</span>(<span class="pl-k">var</span> iFormat<span class="pl-k">=</span><span class="pl-c1">0</span>;iFormat<span class="pl-k">&lt;</span><span class="pl-smi">format</span>.<span class="pl-c1">length</span>;iFormat<span class="pl-k">++</span>)</td>
      </tr>
      <tr>
        <td id="L196" class="blob-num js-line-number" data-line-number="196"></td>
        <td id="LC196" class="blob-code blob-code-inner js-file-line"><span class="pl-k">if</span>(literal)</td>
      </tr>
      <tr>
        <td id="L197" class="blob-num js-line-number" data-line-number="197"></td>
        <td id="LC197" class="blob-code blob-code-inner js-file-line"><span class="pl-k">if</span>(<span class="pl-smi">format</span>.<span class="pl-c1">charAt</span>(iFormat)<span class="pl-k">==</span><span class="pl-s"><span class="pl-pds">&quot;</span>&#39;<span class="pl-pds">&quot;</span></span><span class="pl-k">&amp;&amp;!</span><span class="pl-en">lookAhead</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>&#39;<span class="pl-pds">&quot;</span></span>))</td>
      </tr>
      <tr>
        <td id="L198" class="blob-num js-line-number" data-line-number="198"></td>
        <td id="LC198" class="blob-code blob-code-inner js-file-line">literal<span class="pl-k">=</span><span class="pl-c1">false</span>;<span class="pl-k">else</span></td>
      </tr>
      <tr>
        <td id="L199" class="blob-num js-line-number" data-line-number="199"></td>
        <td id="LC199" class="blob-code blob-code-inner js-file-line">chars<span class="pl-k">+=</span><span class="pl-smi">format</span>.<span class="pl-c1">charAt</span>(iFormat);<span class="pl-k">else</span></td>
      </tr>
      <tr>
        <td id="L200" class="blob-num js-line-number" data-line-number="200"></td>
        <td id="LC200" class="blob-code blob-code-inner js-file-line"><span class="pl-k">switch</span>(<span class="pl-smi">format</span>.<span class="pl-c1">charAt</span>(iFormat)){<span class="pl-k">case</span><span class="pl-s"><span class="pl-pds">&#39;</span>d<span class="pl-pds">&#39;</span></span><span class="pl-k">:</span><span class="pl-k">case</span><span class="pl-s"><span class="pl-pds">&#39;</span>m<span class="pl-pds">&#39;</span></span><span class="pl-k">:</span><span class="pl-k">case</span><span class="pl-s"><span class="pl-pds">&#39;</span>y<span class="pl-pds">&#39;</span></span><span class="pl-k">:</span><span class="pl-k">case</span><span class="pl-s"><span class="pl-pds">&#39;</span>@<span class="pl-pds">&#39;</span></span><span class="pl-k">:</span>chars<span class="pl-k">+=</span><span class="pl-s"><span class="pl-pds">&#39;</span>0123456789<span class="pl-pds">&#39;</span></span>;<span class="pl-k">break</span>;<span class="pl-k">case</span><span class="pl-s"><span class="pl-pds">&#39;</span>D<span class="pl-pds">&#39;</span></span><span class="pl-k">:</span><span class="pl-k">case</span><span class="pl-s"><span class="pl-pds">&#39;</span>M<span class="pl-pds">&#39;</span></span><span class="pl-k">:</span><span class="pl-k">return</span> <span class="pl-c1">null</span>;<span class="pl-k">case</span><span class="pl-s"><span class="pl-pds">&quot;</span>&#39;<span class="pl-pds">&quot;</span></span><span class="pl-k">:</span><span class="pl-k">if</span>(<span class="pl-en">lookAhead</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>&#39;<span class="pl-pds">&quot;</span></span>))</td>
      </tr>
      <tr>
        <td id="L201" class="blob-num js-line-number" data-line-number="201"></td>
        <td id="LC201" class="blob-code blob-code-inner js-file-line">chars<span class="pl-k">+=</span><span class="pl-s"><span class="pl-pds">&quot;</span>&#39;<span class="pl-pds">&quot;</span></span>;<span class="pl-k">else</span></td>
      </tr>
      <tr>
        <td id="L202" class="blob-num js-line-number" data-line-number="202"></td>
        <td id="LC202" class="blob-code blob-code-inner js-file-line">literal<span class="pl-k">=</span><span class="pl-c1">true</span>;<span class="pl-k">break</span>;<span class="pl-k">default</span><span class="pl-k">:</span>chars<span class="pl-k">+=</span><span class="pl-smi">format</span>.<span class="pl-c1">charAt</span>(iFormat);}</td>
      </tr>
      <tr>
        <td id="L203" class="blob-num js-line-number" data-line-number="203"></td>
        <td id="LC203" class="blob-code blob-code-inner js-file-line"><span class="pl-k">return</span> chars;},<span class="pl-en">_get</span><span class="pl-k">:</span><span class="pl-k">function</span>(<span class="pl-smi">inst</span>,<span class="pl-smi">name</span>){<span class="pl-k">return</span> <span class="pl-smi">inst</span>.<span class="pl-smi">settings</span>[name]<span class="pl-k">!==</span><span class="pl-c1">undefined</span><span class="pl-k">?</span><span class="pl-smi">inst</span>.<span class="pl-smi">settings</span>[name]<span class="pl-k">:</span><span class="pl-v">this</span>.<span class="pl-smi">_defaults</span>[name];},<span class="pl-en">_setDateFromField</span><span class="pl-k">:</span><span class="pl-k">function</span>(<span class="pl-smi">inst</span>){<span class="pl-k">var</span> dateFormat<span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>dateFormat<span class="pl-pds">&#39;</span></span>);<span class="pl-k">var</span> dates<span class="pl-k">=</span><span class="pl-smi">inst</span>.<span class="pl-c1">input</span><span class="pl-k">?</span><span class="pl-smi">inst</span>.<span class="pl-c1">input</span>.<span class="pl-en">val</span>().<span class="pl-c1">split</span>(<span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>rangeSeparator<span class="pl-pds">&#39;</span></span>))<span class="pl-k">:</span><span class="pl-c1">null</span>;<span class="pl-smi">inst</span>.<span class="pl-smi">endDay</span><span class="pl-k">=</span><span class="pl-smi">inst</span>.<span class="pl-smi">endMonth</span><span class="pl-k">=</span><span class="pl-smi">inst</span>.<span class="pl-smi">endYear</span><span class="pl-k">=</span><span class="pl-c1">null</span>;<span class="pl-k">var</span> date<span class="pl-k">=</span>defaultDate<span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-en">_getDefaultDate</span>(inst);<span class="pl-k">if</span>(<span class="pl-smi">dates</span>.<span class="pl-c1">length</span><span class="pl-k">&gt;</span><span class="pl-c1">0</span>){<span class="pl-k">var</span> settings<span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-en">_getFormatConfig</span>(inst);<span class="pl-k">if</span>(<span class="pl-smi">dates</span>.<span class="pl-c1">length</span><span class="pl-k">&gt;</span><span class="pl-c1">1</span>){date<span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-en">parseDate</span>(dateFormat,dates[<span class="pl-c1">1</span>],settings)<span class="pl-k">||</span>defaultDate;<span class="pl-smi">inst</span>.<span class="pl-smi">endDay</span><span class="pl-k">=</span><span class="pl-smi">date</span>.<span class="pl-c1">getDate</span>();<span class="pl-smi">inst</span>.<span class="pl-smi">endMonth</span><span class="pl-k">=</span><span class="pl-smi">date</span>.<span class="pl-c1">getMonth</span>();<span class="pl-smi">inst</span>.<span class="pl-smi">endYear</span><span class="pl-k">=</span><span class="pl-smi">date</span>.<span class="pl-c1">getFullYear</span>();}</td>
      </tr>
      <tr>
        <td id="L204" class="blob-num js-line-number" data-line-number="204"></td>
        <td id="LC204" class="blob-code blob-code-inner js-file-line"><span class="pl-k">try</span>{date<span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-en">parseDate</span>(dateFormat,dates[<span class="pl-c1">0</span>],settings)<span class="pl-k">||</span>defaultDate;}<span class="pl-k">catch</span>(e){<span class="pl-v">this</span>.<span class="pl-c1">log</span>(e);date<span class="pl-k">=</span>defaultDate;}}</td>
      </tr>
      <tr>
        <td id="L205" class="blob-num js-line-number" data-line-number="205"></td>
        <td id="LC205" class="blob-code blob-code-inner js-file-line">inst.selectedDay=date.getDate();inst.drawMonth=inst.selectedMonth=date.getMonth();inst.drawYear=inst.selectedYear=date.getFullYear();inst.currentDay=(dates[0]?date.getDate():0);inst.currentMonth=(dates[0]?date.getMonth():0);inst.currentYear=(dates[0]?date.getFullYear():0);this._adjustInstDate(inst);},_getDefaultDate:function(inst){var date=this._determineDate(this._get(inst,&#39;defaultDate&#39;),new Date());var minDate=this._getMinMaxDate(inst,&#39;min&#39;,true);var maxDate=this._getMinMaxDate(inst,&#39;max&#39;);date=(minDate&amp;&amp;date&lt;minDate?minDate:date);date=(maxDate&amp;&amp;date&gt;maxDate?maxDate:date);return date;},_determineDate:function(date,defaultDate){var offsetNumeric=function(offset){var date=new Date();date.setUTCDate(date.getUTCDate()+offset);return date;};var offsetString=function(offset,getDaysInMonth){var date=new Date();var year=date.getFullYear();var month=date.getMonth();var day=date.getDate();var pattern=/([+-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g;var matches=pattern.exec(offset);while(matches){switch(matches[2]||&#39;d&#39;){case&#39;d&#39;:case&#39;D&#39;:day+=parseInt(matches[1],10);break;case&#39;w&#39;:case&#39;W&#39;:day+=parseInt(matches[1],10)*7;break;case&#39;m&#39;:case&#39;M&#39;:month+=parseInt(matches[1],10);day=Math.min(day,getDaysInMonth(year,month));break;case&#39;y&#39;:case&#39;Y&#39;:year+=parseInt(matches[1],10);day=Math.min(day,getDaysInMonth(year,month));break;}</td>
      </tr>
      <tr>
        <td id="L206" class="blob-num js-line-number" data-line-number="206"></td>
        <td id="LC206" class="blob-code blob-code-inner js-file-line">matches<span class="pl-k">=</span><span class="pl-smi">pattern</span>.<span class="pl-c1">exec</span>(offset);}</td>
      </tr>
      <tr>
        <td id="L207" class="blob-num js-line-number" data-line-number="207"></td>
        <td id="LC207" class="blob-code blob-code-inner js-file-line"><span class="pl-k">return</span> <span class="pl-k">new</span> <span class="pl-en">Date</span>(year,month,day);};date<span class="pl-k">=</span>(date<span class="pl-k">==</span><span class="pl-c1">null</span><span class="pl-k">?</span>defaultDate<span class="pl-k">:</span>(<span class="pl-k">typeof</span> date<span class="pl-k">==</span><span class="pl-s"><span class="pl-pds">&#39;</span>string<span class="pl-pds">&#39;</span></span><span class="pl-k">?</span><span class="pl-en">offsetString</span>(date,<span class="pl-v">this</span>.<span class="pl-smi">_getDaysInMonth</span>)<span class="pl-k">:</span>(<span class="pl-k">typeof</span> date<span class="pl-k">==</span><span class="pl-s"><span class="pl-pds">&#39;</span>number<span class="pl-pds">&#39;</span></span><span class="pl-k">?</span>(<span class="pl-c1">isNaN</span>(date)<span class="pl-k">?</span>defaultDate<span class="pl-k">:</span><span class="pl-en">offsetNumeric</span>(date))<span class="pl-k">:</span>date)));<span class="pl-k">return</span>(date<span class="pl-k">&amp;&amp;</span><span class="pl-smi">date</span>.<span class="pl-c1">toString</span>()<span class="pl-k">==</span><span class="pl-s"><span class="pl-pds">&#39;</span>Invalid Date<span class="pl-pds">&#39;</span></span><span class="pl-k">?</span>defaultDate<span class="pl-k">:</span>date);},<span class="pl-en">_setDate</span><span class="pl-k">:</span><span class="pl-k">function</span>(<span class="pl-smi">inst</span>,<span class="pl-smi">date</span>,<span class="pl-smi">endDate</span>){<span class="pl-k">var</span> clear<span class="pl-k">=</span><span class="pl-k">!</span>(date);<span class="pl-k">var</span> origMonth<span class="pl-k">=</span><span class="pl-smi">inst</span>.<span class="pl-smi">selectedMonth</span>;<span class="pl-k">var</span> origYear<span class="pl-k">=</span><span class="pl-smi">inst</span>.<span class="pl-smi">selectedYear</span>;date<span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-en">_determineDate</span>(date,<span class="pl-k">new</span> <span class="pl-en">Date</span>());<span class="pl-smi">inst</span>.<span class="pl-smi">selectedDay</span><span class="pl-k">=</span><span class="pl-smi">inst</span>.<span class="pl-smi">currentDay</span><span class="pl-k">=</span><span class="pl-smi">date</span>.<span class="pl-c1">getDate</span>();<span class="pl-smi">inst</span>.<span class="pl-smi">drawMonth</span><span class="pl-k">=</span><span class="pl-smi">inst</span>.<span class="pl-smi">selectedMonth</span><span class="pl-k">=</span><span class="pl-smi">inst</span>.<span class="pl-smi">currentMonth</span><span class="pl-k">=</span><span class="pl-smi">date</span>.<span class="pl-c1">getMonth</span>();<span class="pl-smi">inst</span>.<span class="pl-smi">drawYear</span><span class="pl-k">=</span><span class="pl-smi">inst</span>.<span class="pl-smi">selectedYear</span><span class="pl-k">=</span><span class="pl-smi">inst</span>.<span class="pl-smi">currentYear</span><span class="pl-k">=</span><span class="pl-smi">date</span>.<span class="pl-c1">getFullYear</span>();<span class="pl-k">if</span>(<span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>rangeSelect<span class="pl-pds">&#39;</span></span>)){<span class="pl-k">if</span>(endDate){endDate<span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-en">_determineDate</span>(endDate,<span class="pl-c1">null</span>);<span class="pl-smi">inst</span>.<span class="pl-smi">endDay</span><span class="pl-k">=</span><span class="pl-smi">endDate</span>.<span class="pl-c1">getDate</span>();<span class="pl-smi">inst</span>.<span class="pl-smi">endMonth</span><span class="pl-k">=</span><span class="pl-smi">endDate</span>.<span class="pl-c1">getMonth</span>();<span class="pl-smi">inst</span>.<span class="pl-smi">endYear</span><span class="pl-k">=</span><span class="pl-smi">endDate</span>.<span class="pl-c1">getFullYear</span>();}<span class="pl-k">else</span>{<span class="pl-smi">inst</span>.<span class="pl-smi">endDay</span><span class="pl-k">=</span><span class="pl-smi">inst</span>.<span class="pl-smi">currentDay</span>;<span class="pl-smi">inst</span>.<span class="pl-smi">endMonth</span><span class="pl-k">=</span><span class="pl-smi">inst</span>.<span class="pl-smi">currentMonth</span>;<span class="pl-smi">inst</span>.<span class="pl-smi">endYear</span><span class="pl-k">=</span><span class="pl-smi">inst</span>.<span class="pl-smi">currentYear</span>;}}</td>
      </tr>
      <tr>
        <td id="L208" class="blob-num js-line-number" data-line-number="208"></td>
        <td id="LC208" class="blob-code blob-code-inner js-file-line"><span class="pl-k">if</span>(origMonth<span class="pl-k">!=</span><span class="pl-smi">inst</span>.<span class="pl-smi">selectedMonth</span><span class="pl-k">||</span>origYear<span class="pl-k">!=</span><span class="pl-smi">inst</span>.<span class="pl-smi">selectedYear</span>)</td>
      </tr>
      <tr>
        <td id="L209" class="blob-num js-line-number" data-line-number="209"></td>
        <td id="LC209" class="blob-code blob-code-inner js-file-line"><span class="pl-v">this</span>.<span class="pl-en">_notifyChange</span>(inst);<span class="pl-v">this</span>.<span class="pl-en">_adjustInstDate</span>(inst);<span class="pl-k">if</span>(<span class="pl-smi">inst</span>.<span class="pl-c1">input</span>)</td>
      </tr>
      <tr>
        <td id="L210" class="blob-num js-line-number" data-line-number="210"></td>
        <td id="LC210" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">inst</span>.<span class="pl-c1">input</span>.<span class="pl-en">val</span>(clear<span class="pl-k">?</span><span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-pds">&#39;</span></span><span class="pl-k">:</span><span class="pl-v">this</span>.<span class="pl-en">_formatDate</span>(inst)<span class="pl-k">+</span></td>
      </tr>
      <tr>
        <td id="L211" class="blob-num js-line-number" data-line-number="211"></td>
        <td id="LC211" class="blob-code blob-code-inner js-file-line">(<span class="pl-k">!</span><span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>rangeSelect<span class="pl-pds">&#39;</span></span>)<span class="pl-k">?</span><span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-pds">&#39;</span></span><span class="pl-k">:</span><span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>rangeSeparator<span class="pl-pds">&#39;</span></span>)<span class="pl-k">+</span></td>
      </tr>
      <tr>
        <td id="L212" class="blob-num js-line-number" data-line-number="212"></td>
        <td id="LC212" class="blob-code blob-code-inner js-file-line"><span class="pl-v">this</span>.<span class="pl-en">_formatDate</span>(inst,<span class="pl-smi">inst</span>.<span class="pl-smi">endDay</span>,<span class="pl-smi">inst</span>.<span class="pl-smi">endMonth</span>,<span class="pl-smi">inst</span>.<span class="pl-smi">endYear</span>)));},<span class="pl-en">_getDate</span><span class="pl-k">:</span><span class="pl-k">function</span>(<span class="pl-smi">inst</span>){<span class="pl-k">var</span> startDate<span class="pl-k">=</span>(<span class="pl-k">!</span><span class="pl-smi">inst</span>.<span class="pl-smi">currentYear</span><span class="pl-k">||</span>(<span class="pl-smi">inst</span>.<span class="pl-c1">input</span><span class="pl-k">&amp;&amp;</span><span class="pl-smi">inst</span>.<span class="pl-c1">input</span>.<span class="pl-en">val</span>()<span class="pl-k">==</span><span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-pds">&#39;</span></span>)<span class="pl-k">?</span><span class="pl-c1">null</span><span class="pl-k">:</span><span class="pl-k">new</span> <span class="pl-en">Date</span>(<span class="pl-smi">inst</span>.<span class="pl-smi">currentYear</span>,<span class="pl-smi">inst</span>.<span class="pl-smi">currentMonth</span>,<span class="pl-smi">inst</span>.<span class="pl-smi">currentDay</span>));<span class="pl-k">if</span>(<span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>rangeSelect<span class="pl-pds">&#39;</span></span>)){<span class="pl-k">return</span>[<span class="pl-smi">inst</span>.<span class="pl-smi">rangeStart</span><span class="pl-k">||</span>startDate,(<span class="pl-k">!</span><span class="pl-smi">inst</span>.<span class="pl-smi">endYear</span><span class="pl-k">?</span><span class="pl-smi">inst</span>.<span class="pl-smi">rangeStart</span><span class="pl-k">||</span>startDate<span class="pl-k">:</span><span class="pl-k">new</span> <span class="pl-en">Date</span>(<span class="pl-smi">inst</span>.<span class="pl-smi">endYear</span>,<span class="pl-smi">inst</span>.<span class="pl-smi">endMonth</span>,<span class="pl-smi">inst</span>.<span class="pl-smi">endDay</span>))];}<span class="pl-k">else</span></td>
      </tr>
      <tr>
        <td id="L213" class="blob-num js-line-number" data-line-number="213"></td>
        <td id="LC213" class="blob-code blob-code-inner js-file-line"><span class="pl-k">return</span> startDate;},<span class="pl-en">_generateHTML</span><span class="pl-k">:</span><span class="pl-k">function</span>(<span class="pl-smi">inst</span>){<span class="pl-k">var</span> today<span class="pl-k">=</span><span class="pl-k">new</span> <span class="pl-en">Date</span>();today<span class="pl-k">=</span><span class="pl-k">new</span> <span class="pl-en">Date</span>(<span class="pl-smi">today</span>.<span class="pl-c1">getFullYear</span>(),<span class="pl-smi">today</span>.<span class="pl-c1">getMonth</span>(),<span class="pl-smi">today</span>.<span class="pl-c1">getDate</span>());<span class="pl-k">var</span> showStatus<span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>showStatus<span class="pl-pds">&#39;</span></span>);<span class="pl-k">var</span> initStatus<span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>initStatus<span class="pl-pds">&#39;</span></span>)<span class="pl-k">||</span><span class="pl-s"><span class="pl-pds">&#39;</span>&amp;#xa0;<span class="pl-pds">&#39;</span></span>;<span class="pl-k">var</span> isRTL<span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>isRTL<span class="pl-pds">&#39;</span></span>);<span class="pl-k">var</span> clear<span class="pl-k">=</span>(<span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>mandatory<span class="pl-pds">&#39;</span></span>)<span class="pl-k">?</span><span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-pds">&#39;</span></span><span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span>&lt;div class=&quot;ui-datepicker-clear&quot;&gt;&lt;a onclick=&quot;jQuery.datepicker._clearDate(<span class="pl-cce">\&#39;</span>#<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span><span class="pl-smi">inst</span>.<span class="pl-c1">id</span><span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-cce">\&#39;</span>);&quot;<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span></td>
      </tr>
      <tr>
        <td id="L214" class="blob-num js-line-number" data-line-number="214"></td>
        <td id="LC214" class="blob-code blob-code-inner js-file-line"><span class="pl-v">this</span>.<span class="pl-en">_addStatus</span>(showStatus,<span class="pl-smi">inst</span>.<span class="pl-c1">id</span>,<span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>clearStatus<span class="pl-pds">&#39;</span></span>),initStatus)<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>&gt;<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span></td>
      </tr>
      <tr>
        <td id="L215" class="blob-num js-line-number" data-line-number="215"></td>
        <td id="LC215" class="blob-code blob-code-inner js-file-line"><span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>clearText<span class="pl-pds">&#39;</span></span>)<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>&lt;/a&gt;&lt;/div&gt;<span class="pl-pds">&#39;</span></span>);<span class="pl-k">var</span> controls<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">&#39;</span>&lt;div class=&quot;ui-datepicker-control&quot;&gt;<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span>(isRTL<span class="pl-k">?</span><span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-pds">&#39;</span></span><span class="pl-k">:</span>clear)<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>&lt;div class=&quot;ui-datepicker-close&quot;&gt;&lt;a onclick=&quot;jQuery.datepicker._hideDatepicker();&quot;<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span></td>
      </tr>
      <tr>
        <td id="L216" class="blob-num js-line-number" data-line-number="216"></td>
        <td id="LC216" class="blob-code blob-code-inner js-file-line"><span class="pl-v">this</span>.<span class="pl-en">_addStatus</span>(showStatus,<span class="pl-smi">inst</span>.<span class="pl-c1">id</span>,<span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>closeStatus<span class="pl-pds">&#39;</span></span>),initStatus)<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>&gt;<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span></td>
      </tr>
      <tr>
        <td id="L217" class="blob-num js-line-number" data-line-number="217"></td>
        <td id="LC217" class="blob-code blob-code-inner js-file-line"><span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>closeText<span class="pl-pds">&#39;</span></span>)<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>&lt;/a&gt;&lt;/div&gt;<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span>(isRTL<span class="pl-k">?</span>clear<span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-pds">&#39;</span></span>)<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>&lt;/div&gt;<span class="pl-pds">&#39;</span></span>;<span class="pl-k">var</span> prompt<span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>prompt<span class="pl-pds">&#39;</span></span>);<span class="pl-k">var</span> closeAtTop<span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>closeAtTop<span class="pl-pds">&#39;</span></span>);<span class="pl-k">var</span> hideIfNoPrevNext<span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>hideIfNoPrevNext<span class="pl-pds">&#39;</span></span>);<span class="pl-k">var</span> navigationAsDateFormat<span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>navigationAsDateFormat<span class="pl-pds">&#39;</span></span>);<span class="pl-k">var</span> showBigPrevNext<span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>showBigPrevNext<span class="pl-pds">&#39;</span></span>);<span class="pl-k">var</span> numMonths<span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-en">_getNumberOfMonths</span>(inst);<span class="pl-k">var</span> showCurrentAtPos<span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>showCurrentAtPos<span class="pl-pds">&#39;</span></span>);<span class="pl-k">var</span> stepMonths<span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>stepMonths<span class="pl-pds">&#39;</span></span>);<span class="pl-k">var</span> stepBigMonths<span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>stepBigMonths<span class="pl-pds">&#39;</span></span>);<span class="pl-k">var</span> isMultiMonth<span class="pl-k">=</span>(numMonths[<span class="pl-c1">0</span>]<span class="pl-k">!=</span><span class="pl-c1">1</span><span class="pl-k">||</span>numMonths[<span class="pl-c1">1</span>]<span class="pl-k">!=</span><span class="pl-c1">1</span>);<span class="pl-k">var</span> currentDate<span class="pl-k">=</span>(<span class="pl-k">!</span><span class="pl-smi">inst</span>.<span class="pl-smi">currentDay</span><span class="pl-k">?</span><span class="pl-k">new</span> <span class="pl-en">Date</span>(<span class="pl-c1">9999</span>,<span class="pl-c1">9</span>,<span class="pl-c1">9</span>)<span class="pl-k">:</span><span class="pl-k">new</span> <span class="pl-en">Date</span>(<span class="pl-smi">inst</span>.<span class="pl-smi">currentYear</span>,<span class="pl-smi">inst</span>.<span class="pl-smi">currentMonth</span>,<span class="pl-smi">inst</span>.<span class="pl-smi">currentDay</span>));<span class="pl-k">var</span> minDate<span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-en">_getMinMaxDate</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>min<span class="pl-pds">&#39;</span></span>,<span class="pl-c1">true</span>);<span class="pl-k">var</span> maxDate<span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-en">_getMinMaxDate</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>max<span class="pl-pds">&#39;</span></span>);<span class="pl-k">var</span> drawMonth<span class="pl-k">=</span><span class="pl-smi">inst</span>.<span class="pl-smi">drawMonth</span><span class="pl-k">-</span>showCurrentAtPos;<span class="pl-k">var</span> drawYear<span class="pl-k">=</span><span class="pl-smi">inst</span>.<span class="pl-smi">drawYear</span>;<span class="pl-k">if</span>(drawMonth<span class="pl-k">&lt;</span><span class="pl-c1">0</span>){drawMonth<span class="pl-k">+=</span><span class="pl-c1">12</span>;drawYear<span class="pl-k">--</span>;}</td>
      </tr>
      <tr>
        <td id="L218" class="blob-num js-line-number" data-line-number="218"></td>
        <td id="LC218" class="blob-code blob-code-inner js-file-line"><span class="pl-k">if</span>(maxDate){<span class="pl-k">var</span> maxDraw<span class="pl-k">=</span><span class="pl-k">new</span> <span class="pl-en">Date</span>(<span class="pl-smi">maxDate</span>.<span class="pl-c1">getFullYear</span>(),<span class="pl-smi">maxDate</span>.<span class="pl-c1">getMonth</span>()<span class="pl-k">-</span>numMonths[<span class="pl-c1">1</span>]<span class="pl-k">+</span><span class="pl-c1">1</span>,<span class="pl-smi">maxDate</span>.<span class="pl-c1">getDate</span>());maxDraw<span class="pl-k">=</span>(minDate<span class="pl-k">&amp;&amp;</span>maxDraw<span class="pl-k">&lt;</span>minDate<span class="pl-k">?</span>minDate<span class="pl-k">:</span>maxDraw);<span class="pl-k">while</span>(<span class="pl-k">new</span> <span class="pl-en">Date</span>(drawYear,drawMonth,<span class="pl-c1">1</span>)<span class="pl-k">&gt;</span>maxDraw){drawMonth<span class="pl-k">--</span>;<span class="pl-k">if</span>(drawMonth<span class="pl-k">&lt;</span><span class="pl-c1">0</span>){drawMonth<span class="pl-k">=</span><span class="pl-c1">11</span>;drawYear<span class="pl-k">--</span>;}}}</td>
      </tr>
      <tr>
        <td id="L219" class="blob-num js-line-number" data-line-number="219"></td>
        <td id="LC219" class="blob-code blob-code-inner js-file-line"><span class="pl-k">var</span> prevText<span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>prevText<span class="pl-pds">&#39;</span></span>);prevText<span class="pl-k">=</span>(<span class="pl-k">!</span>navigationAsDateFormat<span class="pl-k">?</span>prevText<span class="pl-k">:</span><span class="pl-v">this</span>.<span class="pl-en">formatDate</span>(prevText,<span class="pl-k">new</span> <span class="pl-en">Date</span>(drawYear,drawMonth<span class="pl-k">-</span>stepMonths,<span class="pl-c1">1</span>),<span class="pl-v">this</span>.<span class="pl-en">_getFormatConfig</span>(inst)));<span class="pl-k">var</span> prevBigText<span class="pl-k">=</span>(showBigPrevNext<span class="pl-k">?</span><span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>prevBigText<span class="pl-pds">&#39;</span></span>)<span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-pds">&#39;</span></span>);prevBigText<span class="pl-k">=</span>(<span class="pl-k">!</span>navigationAsDateFormat<span class="pl-k">?</span>prevBigText<span class="pl-k">:</span><span class="pl-v">this</span>.<span class="pl-en">formatDate</span>(prevBigText,<span class="pl-k">new</span> <span class="pl-en">Date</span>(drawYear,drawMonth<span class="pl-k">-</span>stepBigMonths,<span class="pl-c1">1</span>),<span class="pl-v">this</span>.<span class="pl-en">_getFormatConfig</span>(inst)));<span class="pl-k">var</span> prev<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">&#39;</span>&lt;div class=&quot;ui-datepicker-prev&quot;&gt;<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span>(<span class="pl-v">this</span>.<span class="pl-en">_canAdjustMonth</span>(inst,<span class="pl-k">-</span><span class="pl-c1">1</span>,drawYear,drawMonth)<span class="pl-k">?</span>(showBigPrevNext<span class="pl-k">?</span><span class="pl-s"><span class="pl-pds">&#39;</span>&lt;a onclick=&quot;jQuery.datepicker._adjustDate(<span class="pl-cce">\&#39;</span>#<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span><span class="pl-smi">inst</span>.<span class="pl-c1">id</span><span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-cce">\&#39;</span>, -<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span>stepBigMonths<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>, <span class="pl-cce">\&#39;</span>M<span class="pl-cce">\&#39;</span>);&quot;<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span></td>
      </tr>
      <tr>
        <td id="L220" class="blob-num js-line-number" data-line-number="220"></td>
        <td id="LC220" class="blob-code blob-code-inner js-file-line"><span class="pl-v">this</span>.<span class="pl-en">_addStatus</span>(showStatus,<span class="pl-smi">inst</span>.<span class="pl-c1">id</span>,<span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>prevBigStatus<span class="pl-pds">&#39;</span></span>),initStatus)<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>&gt;<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span>prevBigText<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>&lt;/a&gt;<span class="pl-pds">&#39;</span></span><span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-pds">&#39;</span></span>)<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>&lt;a onclick=&quot;jQuery.datepicker._adjustDate(<span class="pl-cce">\&#39;</span>#<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span><span class="pl-smi">inst</span>.<span class="pl-c1">id</span><span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-cce">\&#39;</span>, -<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span>stepMonths<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>, <span class="pl-cce">\&#39;</span>M<span class="pl-cce">\&#39;</span>);&quot;<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span></td>
      </tr>
      <tr>
        <td id="L221" class="blob-num js-line-number" data-line-number="221"></td>
        <td id="LC221" class="blob-code blob-code-inner js-file-line"><span class="pl-v">this</span>.<span class="pl-en">_addStatus</span>(showStatus,<span class="pl-smi">inst</span>.<span class="pl-c1">id</span>,<span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>prevStatus<span class="pl-pds">&#39;</span></span>),initStatus)<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>&gt;<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span>prevText<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>&lt;/a&gt;<span class="pl-pds">&#39;</span></span><span class="pl-k">:</span>(hideIfNoPrevNext<span class="pl-k">?</span><span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-pds">&#39;</span></span><span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span>&lt;label&gt;<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span>prevBigText<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>&lt;/label&gt;&lt;label&gt;<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span>prevText<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>&lt;/label&gt;<span class="pl-pds">&#39;</span></span>))<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>&lt;/div&gt;<span class="pl-pds">&#39;</span></span>;<span class="pl-k">var</span> nextText<span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>nextText<span class="pl-pds">&#39;</span></span>);nextText<span class="pl-k">=</span>(<span class="pl-k">!</span>navigationAsDateFormat<span class="pl-k">?</span>nextText<span class="pl-k">:</span><span class="pl-v">this</span>.<span class="pl-en">formatDate</span>(nextText,<span class="pl-k">new</span> <span class="pl-en">Date</span>(drawYear,drawMonth<span class="pl-k">+</span>stepMonths,<span class="pl-c1">1</span>),<span class="pl-v">this</span>.<span class="pl-en">_getFormatConfig</span>(inst)));<span class="pl-k">var</span> nextBigText<span class="pl-k">=</span>(showBigPrevNext<span class="pl-k">?</span><span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>nextBigText<span class="pl-pds">&#39;</span></span>)<span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-pds">&#39;</span></span>);nextBigText<span class="pl-k">=</span>(<span class="pl-k">!</span>navigationAsDateFormat<span class="pl-k">?</span>nextBigText<span class="pl-k">:</span><span class="pl-v">this</span>.<span class="pl-en">formatDate</span>(nextBigText,<span class="pl-k">new</span> <span class="pl-en">Date</span>(drawYear,drawMonth<span class="pl-k">+</span>stepBigMonths,<span class="pl-c1">1</span>),<span class="pl-v">this</span>.<span class="pl-en">_getFormatConfig</span>(inst)));<span class="pl-k">var</span> next<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">&#39;</span>&lt;div class=&quot;ui-datepicker-next&quot;&gt;<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span>(<span class="pl-v">this</span>.<span class="pl-en">_canAdjustMonth</span>(inst,<span class="pl-k">+</span><span class="pl-c1">1</span>,drawYear,drawMonth)<span class="pl-k">?</span><span class="pl-s"><span class="pl-pds">&#39;</span>&lt;a onclick=&quot;jQuery.datepicker._adjustDate(<span class="pl-cce">\&#39;</span>#<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span><span class="pl-smi">inst</span>.<span class="pl-c1">id</span><span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-cce">\&#39;</span>, +<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span>stepMonths<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>, <span class="pl-cce">\&#39;</span>M<span class="pl-cce">\&#39;</span>);&quot;<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span></td>
      </tr>
      <tr>
        <td id="L222" class="blob-num js-line-number" data-line-number="222"></td>
        <td id="LC222" class="blob-code blob-code-inner js-file-line"><span class="pl-v">this</span>.<span class="pl-en">_addStatus</span>(showStatus,<span class="pl-smi">inst</span>.<span class="pl-c1">id</span>,<span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>nextStatus<span class="pl-pds">&#39;</span></span>),initStatus)<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>&gt;<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span>nextText<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>&lt;/a&gt;<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span></td>
      </tr>
      <tr>
        <td id="L223" class="blob-num js-line-number" data-line-number="223"></td>
        <td id="LC223" class="blob-code blob-code-inner js-file-line">(showBigPrevNext<span class="pl-k">?</span><span class="pl-s"><span class="pl-pds">&#39;</span>&lt;a onclick=&quot;jQuery.datepicker._adjustDate(<span class="pl-cce">\&#39;</span>#<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span><span class="pl-smi">inst</span>.<span class="pl-c1">id</span><span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-cce">\&#39;</span>, +<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span>stepBigMonths<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>, <span class="pl-cce">\&#39;</span>M<span class="pl-cce">\&#39;</span>);&quot;<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span></td>
      </tr>
      <tr>
        <td id="L224" class="blob-num js-line-number" data-line-number="224"></td>
        <td id="LC224" class="blob-code blob-code-inner js-file-line"><span class="pl-v">this</span>.<span class="pl-en">_addStatus</span>(showStatus,<span class="pl-smi">inst</span>.<span class="pl-c1">id</span>,<span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>nextBigStatus<span class="pl-pds">&#39;</span></span>),initStatus)<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>&gt;<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span>nextBigText<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>&lt;/a&gt;<span class="pl-pds">&#39;</span></span><span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-pds">&#39;</span></span>)<span class="pl-k">:</span>(hideIfNoPrevNext<span class="pl-k">?</span><span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-pds">&#39;</span></span><span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span>&lt;label&gt;<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span>nextText<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>&lt;/label&gt;&lt;label&gt;<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span>nextBigText<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>&lt;/label&gt;<span class="pl-pds">&#39;</span></span>))<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>&lt;/div&gt;<span class="pl-pds">&#39;</span></span>;<span class="pl-k">var</span> currentText<span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>currentText<span class="pl-pds">&#39;</span></span>);<span class="pl-k">var</span> gotoDate<span class="pl-k">=</span>(<span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>gotoCurrent<span class="pl-pds">&#39;</span></span>)<span class="pl-k">&amp;&amp;</span><span class="pl-smi">inst</span>.<span class="pl-smi">currentDay</span><span class="pl-k">?</span>currentDate<span class="pl-k">:</span>today);currentText<span class="pl-k">=</span>(<span class="pl-k">!</span>navigationAsDateFormat<span class="pl-k">?</span>currentText<span class="pl-k">:</span><span class="pl-v">this</span>.<span class="pl-en">formatDate</span>(currentText,gotoDate,<span class="pl-v">this</span>.<span class="pl-en">_getFormatConfig</span>(inst)));<span class="pl-k">var</span> html<span class="pl-k">=</span>(prompt<span class="pl-k">?</span><span class="pl-s"><span class="pl-pds">&#39;</span>&lt;div class=&quot;<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span><span class="pl-v">this</span>.<span class="pl-smi">_promptClass</span><span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>&quot;&gt;<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span>prompt<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>&lt;/div&gt;<span class="pl-pds">&#39;</span></span><span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-pds">&#39;</span></span>)<span class="pl-k">+</span></td>
      </tr>
      <tr>
        <td id="L225" class="blob-num js-line-number" data-line-number="225"></td>
        <td id="LC225" class="blob-code blob-code-inner js-file-line">(closeAtTop<span class="pl-k">&amp;&amp;!</span><span class="pl-smi">inst</span>.<span class="pl-smi">inline</span><span class="pl-k">?</span>controls<span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-pds">&#39;</span></span>)<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>&lt;div class=&quot;ui-datepicker-links&quot;&gt;<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span>(isRTL<span class="pl-k">?</span>next<span class="pl-k">:</span>prev)<span class="pl-k">+</span></td>
      </tr>
      <tr>
        <td id="L226" class="blob-num js-line-number" data-line-number="226"></td>
        <td id="LC226" class="blob-code blob-code-inner js-file-line">(<span class="pl-v">this</span>.<span class="pl-en">_isInRange</span>(inst,gotoDate)<span class="pl-k">?</span><span class="pl-s"><span class="pl-pds">&#39;</span>&lt;div class=&quot;ui-datepicker-current&quot;&gt;<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>&lt;a onclick=&quot;jQuery.datepicker._gotoToday(<span class="pl-cce">\&#39;</span>#<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span><span class="pl-smi">inst</span>.<span class="pl-c1">id</span><span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-cce">\&#39;</span>);&quot;<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span></td>
      </tr>
      <tr>
        <td id="L227" class="blob-num js-line-number" data-line-number="227"></td>
        <td id="LC227" class="blob-code blob-code-inner js-file-line"><span class="pl-v">this</span>.<span class="pl-en">_addStatus</span>(showStatus,<span class="pl-smi">inst</span>.<span class="pl-c1">id</span>,<span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>currentStatus<span class="pl-pds">&#39;</span></span>),initStatus)<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>&gt;<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span></td>
      </tr>
      <tr>
        <td id="L228" class="blob-num js-line-number" data-line-number="228"></td>
        <td id="LC228" class="blob-code blob-code-inner js-file-line">currentText<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>&lt;/a&gt;&lt;/div&gt;<span class="pl-pds">&#39;</span></span><span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-pds">&#39;</span></span>)<span class="pl-k">+</span>(isRTL<span class="pl-k">?</span>prev<span class="pl-k">:</span>next)<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>&lt;/div&gt;<span class="pl-pds">&#39;</span></span>;<span class="pl-k">var</span> firstDay<span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>firstDay<span class="pl-pds">&#39;</span></span>);<span class="pl-k">var</span> changeFirstDay<span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>changeFirstDay<span class="pl-pds">&#39;</span></span>);<span class="pl-k">var</span> dayNames<span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>dayNames<span class="pl-pds">&#39;</span></span>);<span class="pl-k">var</span> dayNamesShort<span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>dayNamesShort<span class="pl-pds">&#39;</span></span>);<span class="pl-k">var</span> dayNamesMin<span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>dayNamesMin<span class="pl-pds">&#39;</span></span>);<span class="pl-k">var</span> monthNames<span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>monthNames<span class="pl-pds">&#39;</span></span>);<span class="pl-k">var</span> beforeShowDay<span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>beforeShowDay<span class="pl-pds">&#39;</span></span>);<span class="pl-k">var</span> highlightWeek<span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>highlightWeek<span class="pl-pds">&#39;</span></span>);<span class="pl-k">var</span> showOtherMonths<span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>showOtherMonths<span class="pl-pds">&#39;</span></span>);<span class="pl-k">var</span> showWeeks<span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>showWeeks<span class="pl-pds">&#39;</span></span>);<span class="pl-k">var</span> calculateWeek<span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>calculateWeek<span class="pl-pds">&#39;</span></span>)<span class="pl-k">||</span><span class="pl-v">this</span>.<span class="pl-smi">iso8601Week</span>;<span class="pl-k">var</span> weekStatus<span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>weekStatus<span class="pl-pds">&#39;</span></span>);<span class="pl-k">var</span> status<span class="pl-k">=</span>(showStatus<span class="pl-k">?</span><span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>dayStatus<span class="pl-pds">&#39;</span></span>)<span class="pl-k">||</span>initStatus<span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-pds">&#39;</span></span>);<span class="pl-k">var</span> dateStatus<span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>statusForDate<span class="pl-pds">&#39;</span></span>)<span class="pl-k">||</span><span class="pl-v">this</span>.<span class="pl-smi">dateStatus</span>;<span class="pl-k">var</span> endDate<span class="pl-k">=</span><span class="pl-smi">inst</span>.<span class="pl-smi">endDay</span><span class="pl-k">?</span><span class="pl-k">new</span> <span class="pl-en">Date</span>(<span class="pl-smi">inst</span>.<span class="pl-smi">endYear</span>,<span class="pl-smi">inst</span>.<span class="pl-smi">endMonth</span>,<span class="pl-smi">inst</span>.<span class="pl-smi">endDay</span>)<span class="pl-k">:</span>currentDate;<span class="pl-k">for</span>(<span class="pl-k">var</span> row<span class="pl-k">=</span><span class="pl-c1">0</span>;row<span class="pl-k">&lt;</span>numMonths[<span class="pl-c1">0</span>];row<span class="pl-k">++</span>)</td>
      </tr>
      <tr>
        <td id="L229" class="blob-num js-line-number" data-line-number="229"></td>
        <td id="LC229" class="blob-code blob-code-inner js-file-line"><span class="pl-k">for</span>(<span class="pl-k">var</span> col<span class="pl-k">=</span><span class="pl-c1">0</span>;col<span class="pl-k">&lt;</span>numMonths[<span class="pl-c1">1</span>];col<span class="pl-k">++</span>){<span class="pl-k">var</span> selectedDate<span class="pl-k">=</span><span class="pl-k">new</span> <span class="pl-en">Date</span>(drawYear,drawMonth,<span class="pl-smi">inst</span>.<span class="pl-smi">selectedDay</span>);html<span class="pl-k">+=</span><span class="pl-s"><span class="pl-pds">&#39;</span>&lt;div class=&quot;ui-datepicker-one-month<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span>(col<span class="pl-k">==</span><span class="pl-c1">0</span><span class="pl-k">?</span><span class="pl-s"><span class="pl-pds">&#39;</span> ui-datepicker-new-row<span class="pl-pds">&#39;</span></span><span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-pds">&#39;</span></span>)<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>&quot;&gt;<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span></td>
      </tr>
      <tr>
        <td id="L230" class="blob-num js-line-number" data-line-number="230"></td>
        <td id="LC230" class="blob-code blob-code-inner js-file-line"><span class="pl-v">this</span>.<span class="pl-en">_generateMonthYearHeader</span>(inst,drawMonth,drawYear,minDate,maxDate,selectedDate,row<span class="pl-k">&gt;</span><span class="pl-c1">0</span><span class="pl-k">||</span>col<span class="pl-k">&gt;</span><span class="pl-c1">0</span>,showStatus,initStatus,monthNames)<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>&lt;table class=&quot;ui-datepicker&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;&lt;thead&gt;<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>&lt;tr class=&quot;ui-datepicker-title-row&quot;&gt;<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span></td>
      </tr>
      <tr>
        <td id="L231" class="blob-num js-line-number" data-line-number="231"></td>
        <td id="LC231" class="blob-code blob-code-inner js-file-line">(showWeeks<span class="pl-k">?</span><span class="pl-s"><span class="pl-pds">&#39;</span>&lt;td<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span><span class="pl-v">this</span>.<span class="pl-en">_addStatus</span>(showStatus,<span class="pl-smi">inst</span>.<span class="pl-c1">id</span>,weekStatus,initStatus)<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>&gt;<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span></td>
      </tr>
      <tr>
        <td id="L232" class="blob-num js-line-number" data-line-number="232"></td>
        <td id="LC232" class="blob-code blob-code-inner js-file-line"><span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>weekHeader<span class="pl-pds">&#39;</span></span>)<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>&lt;/td&gt;<span class="pl-pds">&#39;</span></span><span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-pds">&#39;</span></span>);<span class="pl-k">for</span>(<span class="pl-k">var</span> dow<span class="pl-k">=</span><span class="pl-c1">0</span>;dow<span class="pl-k">&lt;</span><span class="pl-c1">7</span>;dow<span class="pl-k">++</span>){<span class="pl-k">var</span> day<span class="pl-k">=</span>(dow<span class="pl-k">+</span>firstDay)<span class="pl-k">%</span><span class="pl-c1">7</span>;<span class="pl-k">var</span> dayStatus<span class="pl-k">=</span>(<span class="pl-smi">status</span>.<span class="pl-c1">indexOf</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>DD<span class="pl-pds">&#39;</span></span>)<span class="pl-k">&gt;</span><span class="pl-k">-</span><span class="pl-c1">1</span><span class="pl-k">?</span><span class="pl-smi">status</span>.<span class="pl-c1">replace</span>(<span class="pl-sr"><span class="pl-pds">/</span>DD<span class="pl-pds">/</span></span>,dayNames[day])<span class="pl-k">:</span><span class="pl-smi">status</span>.<span class="pl-c1">replace</span>(<span class="pl-sr"><span class="pl-pds">/</span>D<span class="pl-pds">/</span></span>,dayNamesShort[day]));html<span class="pl-k">+=</span><span class="pl-s"><span class="pl-pds">&#39;</span>&lt;td<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span>((dow<span class="pl-k">+</span>firstDay<span class="pl-k">+</span><span class="pl-c1">6</span>)<span class="pl-k">%</span><span class="pl-c1">7</span><span class="pl-k">&gt;=</span><span class="pl-c1">5</span><span class="pl-k">?</span><span class="pl-s"><span class="pl-pds">&#39;</span> class=&quot;ui-datepicker-week-end-cell&quot;<span class="pl-pds">&#39;</span></span><span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-pds">&#39;</span></span>)<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>&gt;<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span></td>
      </tr>
      <tr>
        <td id="L233" class="blob-num js-line-number" data-line-number="233"></td>
        <td id="LC233" class="blob-code blob-code-inner js-file-line">(<span class="pl-k">!</span>changeFirstDay<span class="pl-k">?</span><span class="pl-s"><span class="pl-pds">&#39;</span>&lt;span<span class="pl-pds">&#39;</span></span><span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span>&lt;a onclick=&quot;jQuery.datepicker._changeFirstDay(<span class="pl-cce">\&#39;</span>#<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span><span class="pl-smi">inst</span>.<span class="pl-c1">id</span><span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-cce">\&#39;</span>, <span class="pl-pds">&#39;</span></span><span class="pl-k">+</span>day<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>);&quot;<span class="pl-pds">&#39;</span></span>)<span class="pl-k">+</span></td>
      </tr>
      <tr>
        <td id="L234" class="blob-num js-line-number" data-line-number="234"></td>
        <td id="LC234" class="blob-code blob-code-inner js-file-line"><span class="pl-v">this</span>.<span class="pl-en">_addStatus</span>(showStatus,<span class="pl-smi">inst</span>.<span class="pl-c1">id</span>,dayStatus,initStatus)<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span> title=&quot;<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span>dayNames[day]<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>&quot;&gt;<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span></td>
      </tr>
      <tr>
        <td id="L235" class="blob-num js-line-number" data-line-number="235"></td>
        <td id="LC235" class="blob-code blob-code-inner js-file-line">dayNamesMin[day]<span class="pl-k">+</span>(changeFirstDay<span class="pl-k">?</span><span class="pl-s"><span class="pl-pds">&#39;</span>&lt;/a&gt;<span class="pl-pds">&#39;</span></span><span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span>&lt;/span&gt;<span class="pl-pds">&#39;</span></span>)<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>&lt;/td&gt;<span class="pl-pds">&#39;</span></span>;}</td>
      </tr>
      <tr>
        <td id="L236" class="blob-num js-line-number" data-line-number="236"></td>
        <td id="LC236" class="blob-code blob-code-inner js-file-line">html<span class="pl-k">+=</span><span class="pl-s"><span class="pl-pds">&#39;</span>&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;<span class="pl-pds">&#39;</span></span>;<span class="pl-k">var</span> daysInMonth<span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-en">_getDaysInMonth</span>(drawYear,drawMonth);<span class="pl-k">if</span>(drawYear<span class="pl-k">==</span><span class="pl-smi">inst</span>.<span class="pl-smi">selectedYear</span><span class="pl-k">&amp;&amp;</span>drawMonth<span class="pl-k">==</span><span class="pl-smi">inst</span>.<span class="pl-smi">selectedMonth</span>)</td>
      </tr>
      <tr>
        <td id="L237" class="blob-num js-line-number" data-line-number="237"></td>
        <td id="LC237" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">inst</span>.<span class="pl-smi">selectedDay</span><span class="pl-k">=</span><span class="pl-smi">Math</span>.<span class="pl-c1">min</span>(<span class="pl-smi">inst</span>.<span class="pl-smi">selectedDay</span>,daysInMonth);<span class="pl-k">var</span> leadDays<span class="pl-k">=</span>(<span class="pl-v">this</span>.<span class="pl-en">_getFirstDayOfMonth</span>(drawYear,drawMonth)<span class="pl-k">-</span>firstDay<span class="pl-k">+</span><span class="pl-c1">7</span>)<span class="pl-k">%</span><span class="pl-c1">7</span>;<span class="pl-k">var</span> tzDate<span class="pl-k">=</span><span class="pl-k">new</span> <span class="pl-en">Date</span>(drawYear,drawMonth,<span class="pl-c1">1</span><span class="pl-k">-</span>leadDays);<span class="pl-k">var</span> utcDate<span class="pl-k">=</span><span class="pl-k">new</span> <span class="pl-en">Date</span>(drawYear,drawMonth,<span class="pl-c1">1</span><span class="pl-k">-</span>leadDays);<span class="pl-k">var</span> printDate<span class="pl-k">=</span>utcDate;<span class="pl-k">var</span> numRows<span class="pl-k">=</span>(isMultiMonth<span class="pl-k">?</span><span class="pl-c1">6</span><span class="pl-k">:</span><span class="pl-smi">Math</span>.<span class="pl-c1">ceil</span>((leadDays<span class="pl-k">+</span>daysInMonth)<span class="pl-k">/</span><span class="pl-c1">7</span>));<span class="pl-k">for</span>(<span class="pl-k">var</span> dRow<span class="pl-k">=</span><span class="pl-c1">0</span>;dRow<span class="pl-k">&lt;</span>numRows;dRow<span class="pl-k">++</span>){html<span class="pl-k">+=</span><span class="pl-s"><span class="pl-pds">&#39;</span>&lt;tr class=&quot;ui-datepicker-days-row&quot;&gt;<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span></td>
      </tr>
      <tr>
        <td id="L238" class="blob-num js-line-number" data-line-number="238"></td>
        <td id="LC238" class="blob-code blob-code-inner js-file-line">(showWeeks<span class="pl-k">?</span><span class="pl-s"><span class="pl-pds">&#39;</span>&lt;td class=&quot;ui-datepicker-week-col&quot;<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span></td>
      </tr>
      <tr>
        <td id="L239" class="blob-num js-line-number" data-line-number="239"></td>
        <td id="LC239" class="blob-code blob-code-inner js-file-line"><span class="pl-v">this</span>.<span class="pl-en">_addStatus</span>(showStatus,<span class="pl-smi">inst</span>.<span class="pl-c1">id</span>,weekStatus,initStatus)<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>&gt;<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span></td>
      </tr>
      <tr>
        <td id="L240" class="blob-num js-line-number" data-line-number="240"></td>
        <td id="LC240" class="blob-code blob-code-inner js-file-line"><span class="pl-en">calculateWeek</span>(printDate)<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>&lt;/td&gt;<span class="pl-pds">&#39;</span></span><span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-pds">&#39;</span></span>);<span class="pl-k">for</span>(<span class="pl-k">var</span> dow<span class="pl-k">=</span><span class="pl-c1">0</span>;dow<span class="pl-k">&lt;</span><span class="pl-c1">7</span>;dow<span class="pl-k">++</span>){<span class="pl-k">var</span> daySettings<span class="pl-k">=</span>(beforeShowDay<span class="pl-k">?</span><span class="pl-smi">beforeShowDay</span>.<span class="pl-c1">apply</span>((<span class="pl-smi">inst</span>.<span class="pl-c1">input</span><span class="pl-k">?</span><span class="pl-smi">inst</span>.<span class="pl-c1">input</span>[<span class="pl-c1">0</span>]<span class="pl-k">:</span><span class="pl-c1">null</span>),[printDate])<span class="pl-k">:</span>[<span class="pl-c1">true</span>,<span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-pds">&#39;</span></span>]);<span class="pl-k">var</span> otherMonth<span class="pl-k">=</span>(<span class="pl-smi">printDate</span>.<span class="pl-c1">getMonth</span>()<span class="pl-k">!=</span>drawMonth);<span class="pl-k">var</span> unselectable<span class="pl-k">=</span>otherMonth<span class="pl-k">||!</span>daySettings[<span class="pl-c1">0</span>]<span class="pl-k">||</span>(minDate<span class="pl-k">&amp;&amp;</span>printDate<span class="pl-k">&lt;</span>minDate)<span class="pl-k">||</span>(maxDate<span class="pl-k">&amp;&amp;</span>printDate<span class="pl-k">&gt;</span>maxDate);html<span class="pl-k">+=</span><span class="pl-s"><span class="pl-pds">&#39;</span>&lt;td class=&quot;ui-datepicker-days-cell<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span></td>
      </tr>
      <tr>
        <td id="L241" class="blob-num js-line-number" data-line-number="241"></td>
        <td id="LC241" class="blob-code blob-code-inner js-file-line">((dow<span class="pl-k">+</span>firstDay<span class="pl-k">+</span><span class="pl-c1">6</span>)<span class="pl-k">%</span><span class="pl-c1">7</span><span class="pl-k">&gt;=</span><span class="pl-c1">5</span><span class="pl-k">?</span><span class="pl-s"><span class="pl-pds">&#39;</span> ui-datepicker-week-end-cell<span class="pl-pds">&#39;</span></span><span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-pds">&#39;</span></span>)<span class="pl-k">+</span></td>
      </tr>
      <tr>
        <td id="L242" class="blob-num js-line-number" data-line-number="242"></td>
        <td id="LC242" class="blob-code blob-code-inner js-file-line">(otherMonth<span class="pl-k">?</span><span class="pl-s"><span class="pl-pds">&#39;</span> ui-datepicker-other-month<span class="pl-pds">&#39;</span></span><span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-pds">&#39;</span></span>)<span class="pl-k">+</span></td>
      </tr>
      <tr>
        <td id="L243" class="blob-num js-line-number" data-line-number="243"></td>
        <td id="LC243" class="blob-code blob-code-inner js-file-line">(<span class="pl-smi">printDate</span>.<span class="pl-c1">getTime</span>()<span class="pl-k">==</span><span class="pl-smi">selectedDate</span>.<span class="pl-c1">getTime</span>()<span class="pl-k">&amp;&amp;</span>drawMonth<span class="pl-k">==</span><span class="pl-smi">inst</span>.<span class="pl-smi">selectedMonth</span><span class="pl-k">?</span><span class="pl-s"><span class="pl-pds">&#39;</span> ui-datepicker-days-cell-over<span class="pl-pds">&#39;</span></span><span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-pds">&#39;</span></span>)<span class="pl-k">+</span></td>
      </tr>
      <tr>
        <td id="L244" class="blob-num js-line-number" data-line-number="244"></td>
        <td id="LC244" class="blob-code blob-code-inner js-file-line">(unselectable<span class="pl-k">?</span><span class="pl-s"><span class="pl-pds">&#39;</span> <span class="pl-pds">&#39;</span></span><span class="pl-k">+</span><span class="pl-v">this</span>.<span class="pl-smi">_unselectableClass</span><span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-pds">&#39;</span></span>)<span class="pl-k">+</span></td>
      </tr>
      <tr>
        <td id="L245" class="blob-num js-line-number" data-line-number="245"></td>
        <td id="LC245" class="blob-code blob-code-inner js-file-line">(otherMonth<span class="pl-k">&amp;&amp;!</span>showOtherMonths<span class="pl-k">?</span><span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-pds">&#39;</span></span><span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span> <span class="pl-pds">&#39;</span></span><span class="pl-k">+</span>daySettings[<span class="pl-c1">1</span>]<span class="pl-k">+</span></td>
      </tr>
      <tr>
        <td id="L246" class="blob-num js-line-number" data-line-number="246"></td>
        <td id="LC246" class="blob-code blob-code-inner js-file-line">(<span class="pl-smi">printDate</span>.<span class="pl-c1">getTime</span>()<span class="pl-k">&gt;=</span><span class="pl-smi">currentDate</span>.<span class="pl-c1">getTime</span>()<span class="pl-k">&amp;&amp;</span><span class="pl-smi">printDate</span>.<span class="pl-c1">getTime</span>()<span class="pl-k">&lt;=</span><span class="pl-smi">endDate</span>.<span class="pl-c1">getTime</span>()<span class="pl-k">?</span><span class="pl-s"><span class="pl-pds">&#39;</span> <span class="pl-pds">&#39;</span></span><span class="pl-k">+</span><span class="pl-v">this</span>.<span class="pl-smi">_currentClass</span><span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-pds">&#39;</span></span>)<span class="pl-k">+</span></td>
      </tr>
      <tr>
        <td id="L247" class="blob-num js-line-number" data-line-number="247"></td>
        <td id="LC247" class="blob-code blob-code-inner js-file-line">(<span class="pl-smi">printDate</span>.<span class="pl-c1">getTime</span>()<span class="pl-k">==</span><span class="pl-smi">today</span>.<span class="pl-c1">getTime</span>()<span class="pl-k">?</span><span class="pl-s"><span class="pl-pds">&#39;</span> ui-datepicker-today<span class="pl-pds">&#39;</span></span><span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-pds">&#39;</span></span>))<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>&quot;<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span></td>
      </tr>
      <tr>
        <td id="L248" class="blob-num js-line-number" data-line-number="248"></td>
        <td id="LC248" class="blob-code blob-code-inner js-file-line">((<span class="pl-k">!</span>otherMonth<span class="pl-k">||</span>showOtherMonths)<span class="pl-k">&amp;&amp;</span>daySettings[<span class="pl-c1">2</span>]<span class="pl-k">?</span><span class="pl-s"><span class="pl-pds">&#39;</span> title=&quot;<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span>daySettings[<span class="pl-c1">2</span>]<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>&quot;<span class="pl-pds">&#39;</span></span><span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-pds">&#39;</span></span>)<span class="pl-k">+</span></td>
      </tr>
      <tr>
        <td id="L249" class="blob-num js-line-number" data-line-number="249"></td>
        <td id="LC249" class="blob-code blob-code-inner js-file-line">(unselectable<span class="pl-k">?</span>(highlightWeek<span class="pl-k">?</span><span class="pl-s"><span class="pl-pds">&#39;</span> onmouseover=&quot;jQuery(this).parent().addClass(<span class="pl-cce">\&#39;</span>ui-datepicker-week-over<span class="pl-cce">\&#39;</span>);&quot;<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span> onmouseout=&quot;jQuery(this).parent().removeClass(<span class="pl-cce">\&#39;</span>ui-datepicker-week-over<span class="pl-cce">\&#39;</span>);&quot;<span class="pl-pds">&#39;</span></span><span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-pds">&#39;</span></span>)<span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span> onmouseover=&quot;jQuery(this).addClass(<span class="pl-cce">\&#39;</span>ui-datepicker-days-cell-over<span class="pl-cce">\&#39;</span>)<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span></td>
      </tr>
      <tr>
        <td id="L250" class="blob-num js-line-number" data-line-number="250"></td>
        <td id="LC250" class="blob-code blob-code-inner js-file-line">(highlightWeek<span class="pl-k">?</span><span class="pl-s"><span class="pl-pds">&#39;</span>.parent().addClass(<span class="pl-cce">\&#39;</span>ui-datepicker-week-over<span class="pl-cce">\&#39;</span>)<span class="pl-pds">&#39;</span></span><span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-pds">&#39;</span></span>)<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>;<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span></td>
      </tr>
      <tr>
        <td id="L251" class="blob-num js-line-number" data-line-number="251"></td>
        <td id="LC251" class="blob-code blob-code-inner js-file-line">(<span class="pl-k">!</span>showStatus<span class="pl-k">||</span>(otherMonth<span class="pl-k">&amp;&amp;!</span>showOtherMonths)<span class="pl-k">?</span><span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-pds">&#39;</span></span><span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span>jQuery(<span class="pl-cce">\&#39;</span>#ui-datepicker-status-<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span></td>
      </tr>
      <tr>
        <td id="L252" class="blob-num js-line-number" data-line-number="252"></td>
        <td id="LC252" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">inst</span>.<span class="pl-c1">id</span><span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-cce">\&#39;</span>).html(<span class="pl-cce">\&#39;</span><span class="pl-pds">&#39;</span></span><span class="pl-k">+</span>(<span class="pl-smi">dateStatus</span>.<span class="pl-c1">apply</span>((<span class="pl-smi">inst</span>.<span class="pl-c1">input</span><span class="pl-k">?</span><span class="pl-smi">inst</span>.<span class="pl-c1">input</span>[<span class="pl-c1">0</span>]<span class="pl-k">:</span><span class="pl-c1">null</span>),[printDate,inst])<span class="pl-k">||</span>initStatus)<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-cce">\&#39;</span>);<span class="pl-pds">&#39;</span></span>)<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>&quot;<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span> onmouseout=&quot;jQuery(this).removeClass(<span class="pl-cce">\&#39;</span>ui-datepicker-days-cell-over<span class="pl-cce">\&#39;</span>)<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span></td>
      </tr>
      <tr>
        <td id="L253" class="blob-num js-line-number" data-line-number="253"></td>
        <td id="LC253" class="blob-code blob-code-inner js-file-line">(highlightWeek<span class="pl-k">?</span><span class="pl-s"><span class="pl-pds">&#39;</span>.parent().removeClass(<span class="pl-cce">\&#39;</span>ui-datepicker-week-over<span class="pl-cce">\&#39;</span>)<span class="pl-pds">&#39;</span></span><span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-pds">&#39;</span></span>)<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>;<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span></td>
      </tr>
      <tr>
        <td id="L254" class="blob-num js-line-number" data-line-number="254"></td>
        <td id="LC254" class="blob-code blob-code-inner js-file-line">(<span class="pl-k">!</span>showStatus<span class="pl-k">||</span>(otherMonth<span class="pl-k">&amp;&amp;!</span>showOtherMonths)<span class="pl-k">?</span><span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-pds">&#39;</span></span><span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span>jQuery(<span class="pl-cce">\&#39;</span>#ui-datepicker-status-<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span></td>
      </tr>
      <tr>
        <td id="L255" class="blob-num js-line-number" data-line-number="255"></td>
        <td id="LC255" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">inst</span>.<span class="pl-c1">id</span><span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-cce">\&#39;</span>).html(<span class="pl-cce">\&#39;</span><span class="pl-pds">&#39;</span></span><span class="pl-k">+</span>initStatus<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-cce">\&#39;</span>);<span class="pl-pds">&#39;</span></span>)<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>&quot; onclick=&quot;jQuery.datepicker._selectDay(<span class="pl-cce">\&#39;</span>#<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span></td>
      </tr>
      <tr>
        <td id="L256" class="blob-num js-line-number" data-line-number="256"></td>
        <td id="LC256" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">inst</span>.<span class="pl-c1">id</span><span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-cce">\&#39;</span>,<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span>drawMonth<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>,<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span>drawYear<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>, this);&quot;<span class="pl-pds">&#39;</span></span>)<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>&gt;<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span></td>
      </tr>
      <tr>
        <td id="L257" class="blob-num js-line-number" data-line-number="257"></td>
        <td id="LC257" class="blob-code blob-code-inner js-file-line">(otherMonth<span class="pl-k">?</span>(showOtherMonths<span class="pl-k">?</span><span class="pl-smi">printDate</span>.<span class="pl-c1">getDate</span>()<span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span>&amp;#xa0;<span class="pl-pds">&#39;</span></span>)<span class="pl-k">:</span>(unselectable<span class="pl-k">?</span><span class="pl-smi">printDate</span>.<span class="pl-c1">getDate</span>()<span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span>&lt;a&gt;<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span><span class="pl-smi">printDate</span>.<span class="pl-c1">getDate</span>()<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>&lt;/a&gt;<span class="pl-pds">&#39;</span></span>))<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>&lt;/td&gt;<span class="pl-pds">&#39;</span></span>;<span class="pl-smi">tzDate</span>.<span class="pl-c1">setDate</span>(<span class="pl-smi">tzDate</span>.<span class="pl-c1">getDate</span>()<span class="pl-k">+</span><span class="pl-c1">1</span>);<span class="pl-smi">utcDate</span>.<span class="pl-c1">setUTCDate</span>(<span class="pl-smi">utcDate</span>.<span class="pl-c1">getUTCDate</span>()<span class="pl-k">+</span><span class="pl-c1">1</span>);printDate<span class="pl-k">=</span>(tzDate<span class="pl-k">&gt;</span>utcDate<span class="pl-k">?</span>tzDate<span class="pl-k">:</span>utcDate);}</td>
      </tr>
      <tr>
        <td id="L258" class="blob-num js-line-number" data-line-number="258"></td>
        <td id="LC258" class="blob-code blob-code-inner js-file-line">html<span class="pl-k">+=</span><span class="pl-s"><span class="pl-pds">&#39;</span>&lt;/tr&gt;<span class="pl-pds">&#39;</span></span>;}</td>
      </tr>
      <tr>
        <td id="L259" class="blob-num js-line-number" data-line-number="259"></td>
        <td id="LC259" class="blob-code blob-code-inner js-file-line">drawMonth<span class="pl-k">++</span>;<span class="pl-k">if</span>(drawMonth<span class="pl-k">&gt;</span><span class="pl-c1">11</span>){drawMonth<span class="pl-k">=</span><span class="pl-c1">0</span>;drawYear<span class="pl-k">++</span>;}</td>
      </tr>
      <tr>
        <td id="L260" class="blob-num js-line-number" data-line-number="260"></td>
        <td id="LC260" class="blob-code blob-code-inner js-file-line">html<span class="pl-k">+=</span><span class="pl-s"><span class="pl-pds">&#39;</span>&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;<span class="pl-pds">&#39;</span></span>;}</td>
      </tr>
      <tr>
        <td id="L261" class="blob-num js-line-number" data-line-number="261"></td>
        <td id="LC261" class="blob-code blob-code-inner js-file-line">html<span class="pl-k">+=</span>(showStatus<span class="pl-k">?</span><span class="pl-s"><span class="pl-pds">&#39;</span>&lt;div style=&quot;clear: both;&quot;&gt;&lt;/div&gt;&lt;div id=&quot;ui-datepicker-status-<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span><span class="pl-smi">inst</span>.<span class="pl-c1">id</span><span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>&quot; class=&quot;ui-datepicker-status&quot;&gt;<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span>initStatus<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>&lt;/div&gt;<span class="pl-pds">&#39;</span></span><span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-pds">&#39;</span></span>)<span class="pl-k">+</span></td>
      </tr>
      <tr>
        <td id="L262" class="blob-num js-line-number" data-line-number="262"></td>
        <td id="LC262" class="blob-code blob-code-inner js-file-line">(<span class="pl-k">!</span>closeAtTop<span class="pl-k">&amp;&amp;!</span><span class="pl-smi">inst</span>.<span class="pl-smi">inline</span><span class="pl-k">?</span>controls<span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-pds">&#39;</span></span>)<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>&lt;div style=&quot;clear: both;&quot;&gt;&lt;/div&gt;<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span></td>
      </tr>
      <tr>
        <td id="L263" class="blob-num js-line-number" data-line-number="263"></td>
        <td id="LC263" class="blob-code blob-code-inner js-file-line">(<span class="pl-smi">$</span>.<span class="pl-smi">browser</span>.<span class="pl-smi">msie</span><span class="pl-k">&amp;&amp;</span><span class="pl-c1">parseInt</span>(<span class="pl-smi">$</span>.<span class="pl-smi">browser</span>.<span class="pl-c1">version</span>,<span class="pl-c1">10</span>)<span class="pl-k">&lt;</span><span class="pl-c1">7</span><span class="pl-k">&amp;&amp;!</span><span class="pl-smi">inst</span>.<span class="pl-smi">inline</span><span class="pl-k">?</span><span class="pl-s"><span class="pl-pds">&#39;</span>&lt;iframe src=&quot;javascript:false;&quot; class=&quot;ui-datepicker-cover&quot;&gt;&lt;/iframe&gt;<span class="pl-pds">&#39;</span></span><span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-pds">&#39;</span></span>);<span class="pl-k">return</span> html;},<span class="pl-en">_generateMonthYearHeader</span><span class="pl-k">:</span><span class="pl-k">function</span>(<span class="pl-smi">inst</span>,<span class="pl-smi">drawMonth</span>,<span class="pl-smi">drawYear</span>,<span class="pl-smi">minDate</span>,<span class="pl-smi">maxDate</span>,<span class="pl-smi">selectedDate</span>,<span class="pl-smi">secondary</span>,<span class="pl-smi">showStatus</span>,<span class="pl-smi">initStatus</span>,<span class="pl-smi">monthNames</span>){minDate<span class="pl-k">=</span>(<span class="pl-smi">inst</span>.<span class="pl-smi">rangeStart</span><span class="pl-k">&amp;&amp;</span>minDate<span class="pl-k">&amp;&amp;</span>selectedDate<span class="pl-k">&lt;</span>minDate<span class="pl-k">?</span>selectedDate<span class="pl-k">:</span>minDate);<span class="pl-k">var</span> showMonthAfterYear<span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>showMonthAfterYear<span class="pl-pds">&#39;</span></span>);<span class="pl-k">var</span> html<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">&#39;</span>&lt;div class=&quot;ui-datepicker-header&quot;&gt;<span class="pl-pds">&#39;</span></span>;<span class="pl-k">var</span> monthHtml<span class="pl-k">=</span><span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-pds">&#39;</span></span>;<span class="pl-k">if</span>(secondary<span class="pl-k">||!</span><span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>changeMonth<span class="pl-pds">&#39;</span></span>))</td>
      </tr>
      <tr>
        <td id="L264" class="blob-num js-line-number" data-line-number="264"></td>
        <td id="LC264" class="blob-code blob-code-inner js-file-line">monthHtml<span class="pl-k">+=</span>monthNames[drawMonth]<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>&amp;#xa0;<span class="pl-pds">&#39;</span></span>;<span class="pl-k">else</span>{<span class="pl-k">var</span> inMinYear<span class="pl-k">=</span>(minDate<span class="pl-k">&amp;&amp;</span><span class="pl-smi">minDate</span>.<span class="pl-c1">getFullYear</span>()<span class="pl-k">==</span>drawYear);<span class="pl-k">var</span> inMaxYear<span class="pl-k">=</span>(maxDate<span class="pl-k">&amp;&amp;</span><span class="pl-smi">maxDate</span>.<span class="pl-c1">getFullYear</span>()<span class="pl-k">==</span>drawYear);monthHtml<span class="pl-k">+=</span><span class="pl-s"><span class="pl-pds">&#39;</span>&lt;select class=&quot;ui-datepicker-new-month&quot; <span class="pl-pds">&#39;</span></span><span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>onchange=&quot;jQuery.datepicker._selectMonthYear(<span class="pl-cce">\&#39;</span>#<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span><span class="pl-smi">inst</span>.<span class="pl-c1">id</span><span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-cce">\&#39;</span>, this, <span class="pl-cce">\&#39;</span>M<span class="pl-cce">\&#39;</span>);&quot; <span class="pl-pds">&#39;</span></span><span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>onclick=&quot;jQuery.datepicker._clickMonthYear(<span class="pl-cce">\&#39;</span>#<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span><span class="pl-smi">inst</span>.<span class="pl-c1">id</span><span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-cce">\&#39;</span>);&quot;<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span></td>
      </tr>
      <tr>
        <td id="L265" class="blob-num js-line-number" data-line-number="265"></td>
        <td id="LC265" class="blob-code blob-code-inner js-file-line"><span class="pl-v">this</span>.<span class="pl-en">_addStatus</span>(showStatus,<span class="pl-smi">inst</span>.<span class="pl-c1">id</span>,<span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>monthStatus<span class="pl-pds">&#39;</span></span>),initStatus)<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>&gt;<span class="pl-pds">&#39;</span></span>;<span class="pl-k">for</span>(<span class="pl-k">var</span> month<span class="pl-k">=</span><span class="pl-c1">0</span>;month<span class="pl-k">&lt;</span><span class="pl-c1">12</span>;month<span class="pl-k">++</span>){<span class="pl-k">if</span>((<span class="pl-k">!</span>inMinYear<span class="pl-k">||</span>month<span class="pl-k">&gt;=</span><span class="pl-smi">minDate</span>.<span class="pl-c1">getMonth</span>())<span class="pl-k">&amp;&amp;</span>(<span class="pl-k">!</span>inMaxYear<span class="pl-k">||</span>month<span class="pl-k">&lt;=</span><span class="pl-smi">maxDate</span>.<span class="pl-c1">getMonth</span>()))</td>
      </tr>
      <tr>
        <td id="L266" class="blob-num js-line-number" data-line-number="266"></td>
        <td id="LC266" class="blob-code blob-code-inner js-file-line">monthHtml<span class="pl-k">+=</span><span class="pl-s"><span class="pl-pds">&#39;</span>&lt;option value=&quot;<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span>month<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>&quot;<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span></td>
      </tr>
      <tr>
        <td id="L267" class="blob-num js-line-number" data-line-number="267"></td>
        <td id="LC267" class="blob-code blob-code-inner js-file-line">(month<span class="pl-k">==</span>drawMonth<span class="pl-k">?</span><span class="pl-s"><span class="pl-pds">&#39;</span> selected=&quot;selected&quot;<span class="pl-pds">&#39;</span></span><span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-pds">&#39;</span></span>)<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>&gt;<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span>monthNames[month]<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>&lt;/option&gt;<span class="pl-pds">&#39;</span></span>;}</td>
      </tr>
      <tr>
        <td id="L268" class="blob-num js-line-number" data-line-number="268"></td>
        <td id="LC268" class="blob-code blob-code-inner js-file-line">monthHtml<span class="pl-k">+=</span><span class="pl-s"><span class="pl-pds">&#39;</span>&lt;/select&gt;<span class="pl-pds">&#39;</span></span>;}</td>
      </tr>
      <tr>
        <td id="L269" class="blob-num js-line-number" data-line-number="269"></td>
        <td id="LC269" class="blob-code blob-code-inner js-file-line"><span class="pl-k">if</span>(<span class="pl-k">!</span>showMonthAfterYear)</td>
      </tr>
      <tr>
        <td id="L270" class="blob-num js-line-number" data-line-number="270"></td>
        <td id="LC270" class="blob-code blob-code-inner js-file-line">html<span class="pl-k">+=</span>monthHtml;<span class="pl-k">if</span>(secondary<span class="pl-k">||!</span><span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>changeYear<span class="pl-pds">&#39;</span></span>))</td>
      </tr>
      <tr>
        <td id="L271" class="blob-num js-line-number" data-line-number="271"></td>
        <td id="LC271" class="blob-code blob-code-inner js-file-line">html<span class="pl-k">+=</span>drawYear;<span class="pl-k">else</span>{<span class="pl-k">var</span> years<span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>yearRange<span class="pl-pds">&#39;</span></span>).<span class="pl-c1">split</span>(<span class="pl-s"><span class="pl-pds">&#39;</span>:<span class="pl-pds">&#39;</span></span>);<span class="pl-k">var</span> year<span class="pl-k">=</span><span class="pl-c1">0</span>;<span class="pl-k">var</span> endYear<span class="pl-k">=</span><span class="pl-c1">0</span>;<span class="pl-k">if</span>(<span class="pl-smi">years</span>.<span class="pl-c1">length</span><span class="pl-k">!=</span><span class="pl-c1">2</span>){year<span class="pl-k">=</span>drawYear<span class="pl-k">-</span><span class="pl-c1">10</span>;endYear<span class="pl-k">=</span>drawYear<span class="pl-k">+</span><span class="pl-c1">10</span>;}<span class="pl-k">else</span> <span class="pl-k">if</span>(years[<span class="pl-c1">0</span>].<span class="pl-c1">charAt</span>(<span class="pl-c1">0</span>)<span class="pl-k">==</span><span class="pl-s"><span class="pl-pds">&#39;</span>+<span class="pl-pds">&#39;</span></span><span class="pl-k">||</span>years[<span class="pl-c1">0</span>].<span class="pl-c1">charAt</span>(<span class="pl-c1">0</span>)<span class="pl-k">==</span><span class="pl-s"><span class="pl-pds">&#39;</span>-<span class="pl-pds">&#39;</span></span>){year<span class="pl-k">=</span>endYear<span class="pl-k">=</span><span class="pl-k">new</span> <span class="pl-en">Date</span>().<span class="pl-c1">getFullYear</span>();year<span class="pl-k">+=</span><span class="pl-c1">parseInt</span>(years[<span class="pl-c1">0</span>],<span class="pl-c1">10</span>);endYear<span class="pl-k">+=</span><span class="pl-c1">parseInt</span>(years[<span class="pl-c1">1</span>],<span class="pl-c1">10</span>);}<span class="pl-k">else</span>{year<span class="pl-k">=</span><span class="pl-c1">parseInt</span>(years[<span class="pl-c1">0</span>],<span class="pl-c1">10</span>);endYear<span class="pl-k">=</span><span class="pl-c1">parseInt</span>(years[<span class="pl-c1">1</span>],<span class="pl-c1">10</span>);}</td>
      </tr>
      <tr>
        <td id="L272" class="blob-num js-line-number" data-line-number="272"></td>
        <td id="LC272" class="blob-code blob-code-inner js-file-line">year<span class="pl-k">=</span>(minDate<span class="pl-k">?</span><span class="pl-smi">Math</span>.<span class="pl-c1">max</span>(year,<span class="pl-smi">minDate</span>.<span class="pl-c1">getFullYear</span>())<span class="pl-k">:</span>year);endYear<span class="pl-k">=</span>(maxDate<span class="pl-k">?</span><span class="pl-smi">Math</span>.<span class="pl-c1">min</span>(endYear,<span class="pl-smi">maxDate</span>.<span class="pl-c1">getFullYear</span>())<span class="pl-k">:</span>endYear);html<span class="pl-k">+=</span><span class="pl-s"><span class="pl-pds">&#39;</span>&lt;select class=&quot;ui-datepicker-new-year&quot; <span class="pl-pds">&#39;</span></span><span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>onchange=&quot;jQuery.datepicker._selectMonthYear(<span class="pl-cce">\&#39;</span>#<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span><span class="pl-smi">inst</span>.<span class="pl-c1">id</span><span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-cce">\&#39;</span>, this, <span class="pl-cce">\&#39;</span>Y<span class="pl-cce">\&#39;</span>);&quot; <span class="pl-pds">&#39;</span></span><span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>onclick=&quot;jQuery.datepicker._clickMonthYear(<span class="pl-cce">\&#39;</span>#<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span><span class="pl-smi">inst</span>.<span class="pl-c1">id</span><span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-cce">\&#39;</span>);&quot;<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span></td>
      </tr>
      <tr>
        <td id="L273" class="blob-num js-line-number" data-line-number="273"></td>
        <td id="LC273" class="blob-code blob-code-inner js-file-line"><span class="pl-v">this</span>.<span class="pl-en">_addStatus</span>(showStatus,<span class="pl-smi">inst</span>.<span class="pl-c1">id</span>,<span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>yearStatus<span class="pl-pds">&#39;</span></span>),initStatus)<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>&gt;<span class="pl-pds">&#39;</span></span>;<span class="pl-k">for</span>(;year<span class="pl-k">&lt;=</span>endYear;year<span class="pl-k">++</span>){html<span class="pl-k">+=</span><span class="pl-s"><span class="pl-pds">&#39;</span>&lt;option value=&quot;<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span>year<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>&quot;<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span></td>
      </tr>
      <tr>
        <td id="L274" class="blob-num js-line-number" data-line-number="274"></td>
        <td id="LC274" class="blob-code blob-code-inner js-file-line">(year<span class="pl-k">==</span>drawYear<span class="pl-k">?</span><span class="pl-s"><span class="pl-pds">&#39;</span> selected=&quot;selected&quot;<span class="pl-pds">&#39;</span></span><span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-pds">&#39;</span></span>)<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>&gt;<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span>year<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>&lt;/option&gt;<span class="pl-pds">&#39;</span></span>;}</td>
      </tr>
      <tr>
        <td id="L275" class="blob-num js-line-number" data-line-number="275"></td>
        <td id="LC275" class="blob-code blob-code-inner js-file-line">html<span class="pl-k">+=</span><span class="pl-s"><span class="pl-pds">&#39;</span>&lt;/select&gt;<span class="pl-pds">&#39;</span></span>;}</td>
      </tr>
      <tr>
        <td id="L276" class="blob-num js-line-number" data-line-number="276"></td>
        <td id="LC276" class="blob-code blob-code-inner js-file-line"><span class="pl-k">if</span>(showMonthAfterYear)</td>
      </tr>
      <tr>
        <td id="L277" class="blob-num js-line-number" data-line-number="277"></td>
        <td id="LC277" class="blob-code blob-code-inner js-file-line">html<span class="pl-k">+=</span>monthHtml;html<span class="pl-k">+=</span><span class="pl-s"><span class="pl-pds">&#39;</span>&lt;/div&gt;<span class="pl-pds">&#39;</span></span>;<span class="pl-k">return</span> html;},<span class="pl-en">_addStatus</span><span class="pl-k">:</span><span class="pl-k">function</span>(<span class="pl-smi">showStatus</span>,<span class="pl-smi">id</span>,<span class="pl-smi">text</span>,<span class="pl-smi">initStatus</span>){<span class="pl-k">return</span>(showStatus<span class="pl-k">?</span><span class="pl-s"><span class="pl-pds">&#39;</span> onmouseover=&quot;jQuery(<span class="pl-cce">\&#39;</span>#ui-datepicker-status-<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span>id<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-cce">\&#39;</span>).html(<span class="pl-cce">\&#39;</span><span class="pl-pds">&#39;</span></span><span class="pl-k">+</span>(text<span class="pl-k">||</span>initStatus)<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-cce">\&#39;</span>);&quot; <span class="pl-pds">&#39;</span></span><span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>onmouseout=&quot;jQuery(<span class="pl-cce">\&#39;</span>#ui-datepicker-status-<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span>id<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-cce">\&#39;</span>).html(<span class="pl-cce">\&#39;</span><span class="pl-pds">&#39;</span></span><span class="pl-k">+</span>initStatus<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-cce">\&#39;</span>);&quot;<span class="pl-pds">&#39;</span></span><span class="pl-k">:</span><span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-pds">&#39;</span></span>);},<span class="pl-en">_adjustInstDate</span><span class="pl-k">:</span><span class="pl-k">function</span>(<span class="pl-smi">inst</span>,<span class="pl-smi">offset</span>,<span class="pl-smi">period</span>){<span class="pl-k">var</span> year<span class="pl-k">=</span><span class="pl-smi">inst</span>.<span class="pl-smi">drawYear</span><span class="pl-k">+</span>(period<span class="pl-k">==</span><span class="pl-s"><span class="pl-pds">&#39;</span>Y<span class="pl-pds">&#39;</span></span><span class="pl-k">?</span>offset<span class="pl-k">:</span><span class="pl-c1">0</span>);<span class="pl-k">var</span> month<span class="pl-k">=</span><span class="pl-smi">inst</span>.<span class="pl-smi">drawMonth</span><span class="pl-k">+</span>(period<span class="pl-k">==</span><span class="pl-s"><span class="pl-pds">&#39;</span>M<span class="pl-pds">&#39;</span></span><span class="pl-k">?</span>offset<span class="pl-k">:</span><span class="pl-c1">0</span>);<span class="pl-k">var</span> day<span class="pl-k">=</span><span class="pl-smi">Math</span>.<span class="pl-c1">min</span>(<span class="pl-smi">inst</span>.<span class="pl-smi">selectedDay</span>,<span class="pl-v">this</span>.<span class="pl-en">_getDaysInMonth</span>(year,month))<span class="pl-k">+</span></td>
      </tr>
      <tr>
        <td id="L278" class="blob-num js-line-number" data-line-number="278"></td>
        <td id="LC278" class="blob-code blob-code-inner js-file-line">(period<span class="pl-k">==</span><span class="pl-s"><span class="pl-pds">&#39;</span>D<span class="pl-pds">&#39;</span></span><span class="pl-k">?</span>offset<span class="pl-k">:</span><span class="pl-c1">0</span>);<span class="pl-k">var</span> date<span class="pl-k">=</span><span class="pl-k">new</span> <span class="pl-en">Date</span>(year,month,day);<span class="pl-k">var</span> minDate<span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-en">_getMinMaxDate</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>min<span class="pl-pds">&#39;</span></span>,<span class="pl-c1">true</span>);<span class="pl-k">var</span> maxDate<span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-en">_getMinMaxDate</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>max<span class="pl-pds">&#39;</span></span>);date<span class="pl-k">=</span>(minDate<span class="pl-k">&amp;&amp;</span>date<span class="pl-k">&lt;</span>minDate<span class="pl-k">?</span>minDate<span class="pl-k">:</span>date);date<span class="pl-k">=</span>(maxDate<span class="pl-k">&amp;&amp;</span>date<span class="pl-k">&gt;</span>maxDate<span class="pl-k">?</span>maxDate<span class="pl-k">:</span>date);<span class="pl-smi">inst</span>.<span class="pl-smi">selectedDay</span><span class="pl-k">=</span><span class="pl-smi">date</span>.<span class="pl-c1">getDate</span>();<span class="pl-smi">inst</span>.<span class="pl-smi">drawMonth</span><span class="pl-k">=</span><span class="pl-smi">inst</span>.<span class="pl-smi">selectedMonth</span><span class="pl-k">=</span><span class="pl-smi">date</span>.<span class="pl-c1">getMonth</span>();<span class="pl-smi">inst</span>.<span class="pl-smi">drawYear</span><span class="pl-k">=</span><span class="pl-smi">inst</span>.<span class="pl-smi">selectedYear</span><span class="pl-k">=</span><span class="pl-smi">date</span>.<span class="pl-c1">getFullYear</span>();<span class="pl-k">if</span>(period<span class="pl-k">==</span><span class="pl-s"><span class="pl-pds">&#39;</span>M<span class="pl-pds">&#39;</span></span><span class="pl-k">||</span>period<span class="pl-k">==</span><span class="pl-s"><span class="pl-pds">&#39;</span>Y<span class="pl-pds">&#39;</span></span>)</td>
      </tr>
      <tr>
        <td id="L279" class="blob-num js-line-number" data-line-number="279"></td>
        <td id="LC279" class="blob-code blob-code-inner js-file-line"><span class="pl-v">this</span>.<span class="pl-en">_notifyChange</span>(inst);},<span class="pl-en">_notifyChange</span><span class="pl-k">:</span><span class="pl-k">function</span>(<span class="pl-smi">inst</span>){<span class="pl-k">var</span> <span class="pl-c1">onChange</span><span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>onChangeMonthYear<span class="pl-pds">&#39;</span></span>);<span class="pl-k">if</span>(<span class="pl-c1">onChange</span>)</td>
      </tr>
      <tr>
        <td id="L280" class="blob-num js-line-number" data-line-number="280"></td>
        <td id="LC280" class="blob-code blob-code-inner js-file-line"><span class="pl-smi">onChange</span>.<span class="pl-c1">apply</span>((<span class="pl-smi">inst</span>.<span class="pl-c1">input</span><span class="pl-k">?</span><span class="pl-smi">inst</span>.<span class="pl-c1">input</span>[<span class="pl-c1">0</span>]<span class="pl-k">:</span><span class="pl-c1">null</span>),[<span class="pl-smi">inst</span>.<span class="pl-smi">selectedYear</span>,<span class="pl-smi">inst</span>.<span class="pl-smi">selectedMonth</span><span class="pl-k">+</span><span class="pl-c1">1</span>,inst]);},<span class="pl-en">_getNumberOfMonths</span><span class="pl-k">:</span><span class="pl-k">function</span>(<span class="pl-smi">inst</span>){<span class="pl-k">var</span> numMonths<span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>numberOfMonths<span class="pl-pds">&#39;</span></span>);<span class="pl-k">return</span>(numMonths<span class="pl-k">==</span><span class="pl-c1">null</span><span class="pl-k">?</span>[<span class="pl-c1">1</span>,<span class="pl-c1">1</span>]<span class="pl-k">:</span>(<span class="pl-k">typeof</span> numMonths<span class="pl-k">==</span><span class="pl-s"><span class="pl-pds">&#39;</span>number<span class="pl-pds">&#39;</span></span><span class="pl-k">?</span>[<span class="pl-c1">1</span>,numMonths]<span class="pl-k">:</span>numMonths));},<span class="pl-en">_getMinMaxDate</span><span class="pl-k">:</span><span class="pl-k">function</span>(<span class="pl-smi">inst</span>,<span class="pl-smi">minMax</span>,<span class="pl-smi">checkRange</span>){<span class="pl-k">var</span> date<span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-en">_determineDate</span>(<span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,minMax<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>Date<span class="pl-pds">&#39;</span></span>),<span class="pl-c1">null</span>);<span class="pl-k">if</span>(date){<span class="pl-smi">date</span>.<span class="pl-c1">setHours</span>(<span class="pl-c1">0</span>);<span class="pl-smi">date</span>.<span class="pl-c1">setMinutes</span>(<span class="pl-c1">0</span>);<span class="pl-smi">date</span>.<span class="pl-c1">setSeconds</span>(<span class="pl-c1">0</span>);<span class="pl-smi">date</span>.<span class="pl-c1">setMilliseconds</span>(<span class="pl-c1">0</span>);}</td>
      </tr>
      <tr>
        <td id="L281" class="blob-num js-line-number" data-line-number="281"></td>
        <td id="LC281" class="blob-code blob-code-inner js-file-line"><span class="pl-k">return</span>(<span class="pl-k">!</span>checkRange<span class="pl-k">||!</span><span class="pl-smi">inst</span>.<span class="pl-smi">rangeStart</span><span class="pl-k">?</span>date<span class="pl-k">:</span>(<span class="pl-k">!</span>date<span class="pl-k">||</span><span class="pl-smi">inst</span>.<span class="pl-smi">rangeStart</span><span class="pl-k">&gt;</span>date<span class="pl-k">?</span><span class="pl-smi">inst</span>.<span class="pl-smi">rangeStart</span><span class="pl-k">:</span>date));},<span class="pl-en">_getDaysInMonth</span><span class="pl-k">:</span><span class="pl-k">function</span>(<span class="pl-smi">year</span>,<span class="pl-smi">month</span>){<span class="pl-k">return</span> <span class="pl-c1">32</span><span class="pl-k">-</span><span class="pl-k">new</span> <span class="pl-en">Date</span>(year,month,<span class="pl-c1">32</span>).<span class="pl-c1">getDate</span>();},<span class="pl-en">_getFirstDayOfMonth</span><span class="pl-k">:</span><span class="pl-k">function</span>(<span class="pl-smi">year</span>,<span class="pl-smi">month</span>){<span class="pl-k">return</span> <span class="pl-k">new</span> <span class="pl-en">Date</span>(year,month,<span class="pl-c1">1</span>).<span class="pl-c1">getDay</span>();},<span class="pl-en">_canAdjustMonth</span><span class="pl-k">:</span><span class="pl-k">function</span>(<span class="pl-smi">inst</span>,<span class="pl-smi">offset</span>,<span class="pl-smi">curYear</span>,<span class="pl-smi">curMonth</span>){<span class="pl-k">var</span> numMonths<span class="pl-k">=</span><span class="pl-v">this</span>.<span class="pl-en">_getNumberOfMonths</span>(inst);<span class="pl-k">var</span> date<span class="pl-k">=</span><span class="pl-k">new</span> <span class="pl-en">Date</span>(curYear,curMonth<span class="pl-k">+</span>(offset<span class="pl-k">&lt;</span><span class="pl-c1">0</span><span class="pl-k">?</span>offset<span class="pl-k">:</span>numMonths[<span class="pl-c1">1</span>]),<span class="pl-c1">1</span>);<span class="pl-k">if</span>(offset<span class="pl-k">&lt;</span><span class="pl-c1">0</span>)</td>
      </tr>
      <tr>
        <td id="L282" class="blob-num js-line-number" data-line-number="282"></td>
        <td id="LC282" class="blob-code blob-code-inner js-file-line">date.setDate(this._getDaysInMonth(date.getFullYear(),date.getMonth()));return this._isInRange(inst,date);},_isInRange:function(inst,date){var newMinDate=(!inst.rangeStart?null:new Date(inst.selectedYear,inst.selectedMonth,inst.selectedDay));newMinDate=(newMinDate&amp;&amp;inst.rangeStart&lt;newMinDate?inst.rangeStart:newMinDate);var minDate=newMinDate||this._getMinMaxDate(inst,&#39;min&#39;);var maxDate=this._getMinMaxDate(inst,&#39;max&#39;);return((!minDate||date&gt;=minDate)&amp;&amp;(!maxDate||date&lt;=maxDate));},_getFormatConfig:function(inst){var shortYearCutoff=this._get(inst,&#39;shortYearCutoff&#39;);shortYearCutoff=(typeof shortYearCutoff!=&#39;string&#39;?shortYearCutoff:new Date().getFullYear()%100+parseInt(shortYearCutoff,10));return{shortYearCutoff:shortYearCutoff,dayNamesShort:this._get(inst,&#39;dayNamesShort&#39;),dayNames:this._get(inst,&#39;dayNames&#39;),monthNamesShort:this._get(inst,&#39;monthNamesShort&#39;),monthNames:this._get(inst,&#39;monthNames&#39;)};},_formatDate:function(inst,day,month,year){if(!day){inst.currentDay=inst.selectedDay;inst.currentMonth=inst.selectedMonth;inst.currentYear=inst.selectedYear;}</td>
      </tr>
      <tr>
        <td id="L283" class="blob-num js-line-number" data-line-number="283"></td>
        <td id="LC283" class="blob-code blob-code-inner js-file-line"><span class="pl-k">var</span> date<span class="pl-k">=</span>(day<span class="pl-k">?</span>(<span class="pl-k">typeof</span> day<span class="pl-k">==</span><span class="pl-s"><span class="pl-pds">&#39;</span>object<span class="pl-pds">&#39;</span></span><span class="pl-k">?</span>day<span class="pl-k">:</span><span class="pl-k">new</span> <span class="pl-en">Date</span>(year,month,day))<span class="pl-k">:</span><span class="pl-k">new</span> <span class="pl-en">Date</span>(<span class="pl-smi">inst</span>.<span class="pl-smi">currentYear</span>,<span class="pl-smi">inst</span>.<span class="pl-smi">currentMonth</span>,<span class="pl-smi">inst</span>.<span class="pl-smi">currentDay</span>));<span class="pl-k">return</span> <span class="pl-v">this</span>.<span class="pl-en">formatDate</span>(<span class="pl-v">this</span>.<span class="pl-en">_get</span>(inst,<span class="pl-s"><span class="pl-pds">&#39;</span>dateFormat<span class="pl-pds">&#39;</span></span>),date,<span class="pl-v">this</span>.<span class="pl-en">_getFormatConfig</span>(inst));}});<span class="pl-k">function</span> <span class="pl-en">extendRemove</span>(<span class="pl-smi">target</span>,<span class="pl-smi">props</span>){<span class="pl-smi">$</span>.<span class="pl-en">extend</span>(target,props);<span class="pl-k">for</span>(<span class="pl-k">var</span> name <span class="pl-k">in</span> props)</td>
      </tr>
      <tr>
        <td id="L284" class="blob-num js-line-number" data-line-number="284"></td>
        <td id="LC284" class="blob-code blob-code-inner js-file-line"><span class="pl-k">if</span>(props[name]<span class="pl-k">==</span><span class="pl-c1">null</span><span class="pl-k">||</span>props[name]<span class="pl-k">==</span><span class="pl-c1">undefined</span>)</td>
      </tr>
      <tr>
        <td id="L285" class="blob-num js-line-number" data-line-number="285"></td>
        <td id="LC285" class="blob-code blob-code-inner js-file-line">target[name]<span class="pl-k">=</span>props[name];<span class="pl-k">return</span> target;};<span class="pl-k">function</span> <span class="pl-en">isArray</span>(<span class="pl-smi">a</span>){<span class="pl-k">return</span>(a<span class="pl-k">&amp;&amp;</span>((<span class="pl-smi">$</span>.<span class="pl-smi">browser</span>.<span class="pl-smi">safari</span><span class="pl-k">&amp;&amp;</span><span class="pl-k">typeof</span> a<span class="pl-k">==</span><span class="pl-s"><span class="pl-pds">&#39;</span>object<span class="pl-pds">&#39;</span></span><span class="pl-k">&amp;&amp;</span><span class="pl-smi">a</span>.<span class="pl-c1">length</span>)<span class="pl-k">||</span>(<span class="pl-smi">a</span>.<span class="pl-c1">constructor</span><span class="pl-k">&amp;&amp;</span><span class="pl-smi">a</span>.<span class="pl-c1">constructor</span>.<span class="pl-c1">toString</span>().<span class="pl-c1">match</span>(<span class="pl-sr"><span class="pl-pds">/</span><span class="pl-cce">\A</span>rray<span class="pl-cce">\(\)</span><span class="pl-pds">/</span></span>))));};<span class="pl-c1">$.fn</span>.<span class="pl-en">datepicker</span><span class="pl-k">=</span><span class="pl-k">function</span>(<span class="pl-smi">options</span>){<span class="pl-k">if</span>(<span class="pl-k">!</span><span class="pl-smi">$</span>.<span class="pl-smi">datepicker</span>.<span class="pl-smi">initialized</span>){<span class="pl-en">$</span>(<span class="pl-smi">document</span>.<span class="pl-c1">body</span>).<span class="pl-en">append</span>(<span class="pl-smi">$</span>.<span class="pl-smi">datepicker</span>.<span class="pl-smi">dpDiv</span>).<span class="pl-en">mousedown</span>(<span class="pl-smi">$</span>.<span class="pl-smi">datepicker</span>.<span class="pl-smi">_checkExternalClick</span>);<span class="pl-smi">$</span>.<span class="pl-smi">datepicker</span>.<span class="pl-smi">initialized</span><span class="pl-k">=</span><span class="pl-c1">true</span>;}</td>
      </tr>
      <tr>
        <td id="L286" class="blob-num js-line-number" data-line-number="286"></td>
        <td id="LC286" class="blob-code blob-code-inner js-file-line"><span class="pl-k">var</span> otherArgs<span class="pl-k">=</span><span class="pl-smi">Array</span>.<span class="pl-c1">prototype</span>.<span class="pl-smi">slice</span>.<span class="pl-c1">call</span>(arguments,<span class="pl-c1">1</span>);<span class="pl-k">if</span>(<span class="pl-k">typeof</span> options<span class="pl-k">==</span><span class="pl-s"><span class="pl-pds">&#39;</span>string<span class="pl-pds">&#39;</span></span><span class="pl-k">&amp;&amp;</span>(options<span class="pl-k">==</span><span class="pl-s"><span class="pl-pds">&#39;</span>isDisabled<span class="pl-pds">&#39;</span></span><span class="pl-k">||</span>options<span class="pl-k">==</span><span class="pl-s"><span class="pl-pds">&#39;</span>getDate<span class="pl-pds">&#39;</span></span>))</td>
      </tr>
      <tr>
        <td id="L287" class="blob-num js-line-number" data-line-number="287"></td>
        <td id="LC287" class="blob-code blob-code-inner js-file-line"><span class="pl-k">return</span> <span class="pl-smi">$</span>.<span class="pl-smi">datepicker</span>[<span class="pl-s"><span class="pl-pds">&#39;</span>_<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span>options<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>Datepicker<span class="pl-pds">&#39;</span></span>].<span class="pl-c1">apply</span>(<span class="pl-smi">$</span>.<span class="pl-smi">datepicker</span>,[<span class="pl-v">this</span>[<span class="pl-c1">0</span>]].<span class="pl-c1">concat</span>(otherArgs));<span class="pl-k">return</span> <span class="pl-v">this</span>.<span class="pl-en">each</span>(<span class="pl-k">function</span>(){<span class="pl-k">typeof</span> options<span class="pl-k">==</span><span class="pl-s"><span class="pl-pds">&#39;</span>string<span class="pl-pds">&#39;</span></span><span class="pl-k">?</span><span class="pl-smi">$</span>.<span class="pl-smi">datepicker</span>[<span class="pl-s"><span class="pl-pds">&#39;</span>_<span class="pl-pds">&#39;</span></span><span class="pl-k">+</span>options<span class="pl-k">+</span><span class="pl-s"><span class="pl-pds">&#39;</span>Datepicker<span class="pl-pds">&#39;</span></span>].<span class="pl-c1">apply</span>(<span class="pl-smi">$</span>.<span class="pl-smi">datepicker</span>,[<span class="pl-v">this</span>].<span class="pl-c1">concat</span>(otherArgs))<span class="pl-k">:</span><span class="pl-smi">$</span>.<span class="pl-smi">datepicker</span>.<span class="pl-en">_attachDatepicker</span>(<span class="pl-v">this</span>,options);});};<span class="pl-smi">$</span>.<span class="pl-smi">datepicker</span><span class="pl-k">=</span><span class="pl-k">new</span> <span class="pl-en">Datepicker</span>();<span class="pl-smi">$</span>.<span class="pl-smi">datepicker</span>.<span class="pl-smi">initialized</span><span class="pl-k">=</span><span class="pl-c1">false</span>;<span class="pl-smi">$</span>.<span class="pl-smi">datepicker</span>.<span class="pl-smi">uuid</span><span class="pl-k">=</span><span class="pl-k">new</span> <span class="pl-en">Date</span>().<span class="pl-c1">getTime</span>();})(jQuery);</td>
      </tr>
</table>

  </div>

</div>

<a href="#jump-to-line" rel="facebox[.linejump]" data-hotkey="l" style="display:none">Jump to Line</a>
<div id="jump-to-line" style="display:none">
  <!-- </textarea> --><!-- '"` --><form accept-charset="UTF-8" action="" class="js-jump-to-line-form" method="get"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /></div>
    <input class="linejump-input js-jump-to-line-field" type="text" placeholder="Jump to line&hellip;" aria-label="Jump to line" autofocus>
    <button type="submit" class="btn">Go</button>
</form></div>

  </div>
  <div class="modal-backdrop"></div>
</div>

    </div>
  </div>

    </div>

        <div class="container">
  <div class="site-footer" role="contentinfo">
    <ul class="site-footer-links right">
        <li><a href="https://status.github.com/" data-ga-click="Footer, go to status, text:status">Status</a></li>
      <li><a href="https://developer.github.com" data-ga-click="Footer, go to api, text:api">API</a></li>
      <li><a href="https://training.github.com" data-ga-click="Footer, go to training, text:training">Training</a></li>
      <li><a href="https://shop.github.com" data-ga-click="Footer, go to shop, text:shop">Shop</a></li>
        <li><a href="https://github.com/blog" data-ga-click="Footer, go to blog, text:blog">Blog</a></li>
        <li><a href="https://github.com/about" data-ga-click="Footer, go to about, text:about">About</a></li>
        <li><a href="https://github.com/pricing" data-ga-click="Footer, go to pricing, text:pricing">Pricing</a></li>

    </ul>

    <a href="https://github.com" aria-label="Homepage">
      <span class="mega-octicon octicon-mark-github " title="GitHub "></span>
</a>
    <ul class="site-footer-links">
      <li>&copy; 2015 <span title="0.05234s from github-fe131-cp1-prd.iad.github.net">GitHub</span>, Inc.</li>
        <li><a href="https://github.com/site/terms" data-ga-click="Footer, go to terms, text:terms">Terms</a></li>
        <li><a href="https://github.com/site/privacy" data-ga-click="Footer, go to privacy, text:privacy">Privacy</a></li>
        <li><a href="https://github.com/security" data-ga-click="Footer, go to security, text:security">Security</a></li>
        <li><a href="https://github.com/contact" data-ga-click="Footer, go to contact, text:contact">Contact</a></li>
        <li><a href="https://help.github.com" data-ga-click="Footer, go to help, text:help">Help</a></li>
    </ul>
  </div>
</div>



    
    
    

    <div id="ajax-error-message" class="flash flash-error">
      <span class="octicon octicon-alert"></span>
      <button type="button" class="flash-close js-flash-close js-ajax-error-dismiss" aria-label="Dismiss error">
        <span class="octicon octicon-x"></span>
      </button>
      Something went wrong with that request. Please try again.
    </div>


      <script crossorigin="anonymous" src="https://assets-cdn.github.com/assets/frameworks-ef8eb4a89ee9f3c8b7613307fe589a8f5705817f7cee27bec51ce5e963234abf.js"></script>
      <script async="async" crossorigin="anonymous" src="https://assets-cdn.github.com/assets/github-4b6b8e7d11ebb7bce85126d3b4130c80041f2ae6d5d6ef8901a8c0c3f7cb80d2.js"></script>
      
      
      
    <div class="js-stale-session-flash stale-session-flash flash flash-warn flash-banner hidden">
      <span class="octicon octicon-alert"></span>
      <span class="signed-in-tab-flash">You signed in with another tab or window. <a href="">Reload</a> to refresh your session.</span>
      <span class="signed-out-tab-flash">You signed out in another tab or window. <a href="">Reload</a> to refresh your session.</span>
    </div>
  </body>
</html>

